(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function i(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=i(o);fetch(o.href,l)}})();function Ql(t){const n=Object.create(null);for(const i of t.split(","))n[i]=1;return i=>i in n}const Vt={},Wi=[],ln=()=>{},Hh=()=>!1,Do=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),tu=t=>t.startsWith("onUpdate:"),oe=Object.assign,eu=(t,n)=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)},yg=Object.prototype.hasOwnProperty,Ht=(t,n)=>yg.call(t,n),Tt=Array.isArray,ji=t=>ur(t)==="[object Map]",Bo=t=>ur(t)==="[object Set]",Wc=t=>ur(t)==="[object Date]",xg=t=>ur(t)==="[object RegExp]",Pt=t=>typeof t=="function",Kt=t=>typeof t=="string",fn=t=>typeof t=="symbol",Ut=t=>t!==null&&typeof t=="object",Zh=t=>(Ut(t)||Pt(t))&&Pt(t.then)&&Pt(t.catch),Uh=Object.prototype.toString,ur=t=>Uh.call(t),wg=t=>ur(t).slice(8,-1),Vh=t=>ur(t)==="[object Object]",nu=t=>Kt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Zr=Ql(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fo=t=>{const n=Object.create(null);return(i=>n[i]||(n[i]=t(i)))},bg=/-\w/g,Ve=Fo(t=>t.replace(bg,n=>n.slice(1).toUpperCase())),Tg=/\B([A-Z])/g,xi=Fo(t=>t.replace(Tg,"-$1").toLowerCase()),Ho=Fo(t=>t.charAt(0).toUpperCase()+t.slice(1)),Na=Fo(t=>t?`on${Ho(t)}`:""),Qn=(t,n)=>!Object.is(t,n),Gi=(t,...n)=>{for(let i=0;i<t.length;i++)t[i](...n)},Wh=(t,n,i,s=!1)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,writable:s,value:i})},Zo=t=>{const n=parseFloat(t);return isNaN(n)?t:n},Cg=t=>{const n=Kt(t)?Number(t):NaN;return isNaN(n)?t:n};let jc;const Uo=()=>jc||(jc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Fe(t){if(Tt(t)){const n={};for(let i=0;i<t.length;i++){const s=t[i],o=Kt(s)?kg(s):Fe(s);if(o)for(const l in o)n[l]=o[l]}return n}else if(Kt(t)||Ut(t))return t}const Sg=/;(?![^(]*\))/g,Pg=/:([^]+)/,Mg=/\/\*[^]*?\*\//g;function kg(t){const n={};return t.replace(Mg,"").split(Sg).forEach(i=>{if(i){const s=i.split(Pg);s.length>1&&(n[s[0].trim()]=s[1].trim())}}),n}function Qt(t){let n="";if(Kt(t))n=t;else if(Tt(t))for(let i=0;i<t.length;i++){const s=Qt(t[i]);s&&(n+=s+" ")}else if(Ut(t))for(const i in t)t[i]&&(n+=i+" ");return n.trim()}function jh(t){if(!t)return null;let{class:n,style:i}=t;return n&&!Kt(n)&&(t.class=Qt(n)),i&&(t.style=Fe(i)),t}const Ag="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Lg=Ql(Ag);function Gh(t){return!!t||t===""}function Eg(t,n){if(t.length!==n.length)return!1;let i=!0;for(let s=0;i&&s<t.length;s++)i=Vo(t[s],n[s]);return i}function Vo(t,n){if(t===n)return!0;let i=Wc(t),s=Wc(n);if(i||s)return i&&s?t.getTime()===n.getTime():!1;if(i=fn(t),s=fn(n),i||s)return t===n;if(i=Tt(t),s=Tt(n),i||s)return i&&s?Eg(t,n):!1;if(i=Ut(t),s=Ut(n),i||s){if(!i||!s)return!1;const o=Object.keys(t).length,l=Object.keys(n).length;if(o!==l)return!1;for(const u in t){const h=t.hasOwnProperty(u),f=n.hasOwnProperty(u);if(h&&!f||!h&&f||!Vo(t[u],n[u]))return!1}}return String(t)===String(n)}function Og(t,n){return t.findIndex(i=>Vo(i,n))}const $h=t=>!!(t&&t.__v_isRef===!0),Lt=t=>Kt(t)?t:t==null?"":Tt(t)||Ut(t)&&(t.toString===Uh||!Pt(t.toString))?$h(t)?Lt(t.value):JSON.stringify(t,qh,2):String(t),qh=(t,n)=>$h(n)?qh(t,n.value):ji(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((i,[s,o],l)=>(i[za(s,l)+" =>"]=o,i),{})}:Bo(n)?{[`Set(${n.size})`]:[...n.values()].map(i=>za(i))}:fn(n)?za(n):Ut(n)&&!Tt(n)&&!Vh(n)?String(n):n,za=(t,n="")=>{var i;return fn(t)?`Symbol(${(i=t.description)!=null?i:n})`:t};let Ce;class Ig{constructor(n=!1){this.detached=n,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ce,!n&&Ce&&(this.index=(Ce.scopes||(Ce.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let n,i;if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].pause();for(n=0,i=this.effects.length;n<i;n++)this.effects[n].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let n,i;if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].resume();for(n=0,i=this.effects.length;n<i;n++)this.effects[n].resume()}}run(n){if(this._active){const i=Ce;try{return Ce=this,n()}finally{Ce=i}}}on(){++this._on===1&&(this.prevScope=Ce,Ce=this)}off(){this._on>0&&--this._on===0&&(Ce=this.prevScope,this.prevScope=void 0)}stop(n){if(this._active){this._active=!1;let i,s;for(i=0,s=this.effects.length;i<s;i++)this.effects[i].stop();for(this.effects.length=0,i=0,s=this.cleanups.length;i<s;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,s=this.scopes.length;i<s;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!n){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function Ng(){return Ce}let jt;const Ra=new WeakSet;class Kh{constructor(n){this.fn=n,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ce&&Ce.active&&Ce.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ra.has(this)&&(Ra.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Xh(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Gc(this),Jh(this);const n=jt,i=Ke;jt=this,Ke=!0;try{return this.fn()}finally{Qh(this),jt=n,Ke=i,this.flags&=-3}}stop(){if(this.flags&1){for(let n=this.deps;n;n=n.nextDep)su(n);this.deps=this.depsTail=void 0,Gc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ra.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){_l(this)&&this.run()}get dirty(){return _l(this)}}let Yh=0,Ur,Vr;function Xh(t,n=!1){if(t.flags|=8,n){t.next=Vr,Vr=t;return}t.next=Ur,Ur=t}function iu(){Yh++}function ru(){if(--Yh>0)return;if(Vr){let n=Vr;for(Vr=void 0;n;){const i=n.next;n.next=void 0,n.flags&=-9,n=i}}let t;for(;Ur;){let n=Ur;for(Ur=void 0;n;){const i=n.next;if(n.next=void 0,n.flags&=-9,n.flags&1)try{n.trigger()}catch(s){t||(t=s)}n=i}}if(t)throw t}function Jh(t){for(let n=t.deps;n;n=n.nextDep)n.version=-1,n.prevActiveLink=n.dep.activeLink,n.dep.activeLink=n}function Qh(t){let n,i=t.depsTail,s=i;for(;s;){const o=s.prevDep;s.version===-1?(s===i&&(i=o),su(s),zg(s)):n=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=o}t.deps=n,t.depsTail=i}function _l(t){for(let n=t.deps;n;n=n.nextDep)if(n.dep.version!==n.version||n.dep.computed&&(td(n.dep.computed)||n.dep.version!==n.version))return!0;return!!t._dirty}function td(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Xr)||(t.globalVersion=Xr,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!_l(t))))return;t.flags|=2;const n=t.dep,i=jt,s=Ke;jt=t,Ke=!0;try{Jh(t);const o=t.fn(t._value);(n.version===0||Qn(o,t._value))&&(t.flags|=128,t._value=o,n.version++)}catch(o){throw n.version++,o}finally{jt=i,Ke=s,Qh(t),t.flags&=-3}}function su(t,n=!1){const{dep:i,prevSub:s,nextSub:o}=t;if(s&&(s.nextSub=o,t.prevSub=void 0),o&&(o.prevSub=s,t.nextSub=void 0),i.subs===t&&(i.subs=s,!s&&i.computed)){i.computed.flags&=-5;for(let l=i.computed.deps;l;l=l.nextDep)su(l,!0)}!n&&!--i.sc&&i.map&&i.map.delete(i.key)}function zg(t){const{prevDep:n,nextDep:i}=t;n&&(n.nextDep=i,t.prevDep=void 0),i&&(i.prevDep=n,t.nextDep=void 0)}let Ke=!0;const ed=[];function On(){ed.push(Ke),Ke=!1}function In(){const t=ed.pop();Ke=t===void 0?!0:t}function Gc(t){const{cleanup:n}=t;if(t.cleanup=void 0,n){const i=jt;jt=void 0;try{n()}finally{jt=i}}}let Xr=0;class Rg{constructor(n,i){this.sub=n,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ou{constructor(n){this.computed=n,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(n){if(!jt||!Ke||jt===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==jt)i=this.activeLink=new Rg(jt,this),jt.deps?(i.prevDep=jt.depsTail,jt.depsTail.nextDep=i,jt.depsTail=i):jt.deps=jt.depsTail=i,nd(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const s=i.nextDep;s.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=s),i.prevDep=jt.depsTail,i.nextDep=void 0,jt.depsTail.nextDep=i,jt.depsTail=i,jt.deps===i&&(jt.deps=s)}return i}trigger(n){this.version++,Xr++,this.notify(n)}notify(n){iu();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{ru()}}}function nd(t){if(t.dep.sc++,t.sub.flags&4){const n=t.dep.computed;if(n&&!t.dep.subs){n.flags|=20;for(let s=n.deps;s;s=s.nextDep)nd(s)}const i=t.dep.subs;i!==t&&(t.prevSub=i,i&&(i.nextSub=t)),t.dep.subs=t}}const vl=new WeakMap,pi=Symbol(""),yl=Symbol(""),Jr=Symbol("");function me(t,n,i){if(Ke&&jt){let s=vl.get(t);s||vl.set(t,s=new Map);let o=s.get(i);o||(s.set(i,o=new ou),o.map=s,o.key=i),o.track()}}function Sn(t,n,i,s,o,l){const u=vl.get(t);if(!u){Xr++;return}const h=f=>{f&&f.trigger()};if(iu(),n==="clear")u.forEach(h);else{const f=Tt(t),p=f&&nu(i);if(f&&i==="length"){const m=Number(s);u.forEach((g,_)=>{(_==="length"||_===Jr||!fn(_)&&_>=m)&&h(g)})}else switch((i!==void 0||u.has(void 0))&&h(u.get(i)),p&&h(u.get(Jr)),n){case"add":f?p&&h(u.get("length")):(h(u.get(pi)),ji(t)&&h(u.get(yl)));break;case"delete":f||(h(u.get(pi)),ji(t)&&h(u.get(yl)));break;case"set":ji(t)&&h(u.get(pi));break}}ru()}function Ni(t){const n=Bt(t);return n===t?n:(me(n,"iterate",Jr),Ze(t)?n:n.map(Ye))}function Wo(t){return me(t=Bt(t),"iterate",Jr),t}function qn(t,n){return Nn(t)?mi(t)?Ji(Ye(n)):Ji(n):Ye(n)}const Dg={__proto__:null,[Symbol.iterator](){return Da(this,Symbol.iterator,t=>qn(this,t))},concat(...t){return Ni(this).concat(...t.map(n=>Tt(n)?Ni(n):n))},entries(){return Da(this,"entries",t=>(t[1]=qn(this,t[1]),t))},every(t,n){return _n(this,"every",t,n,void 0,arguments)},filter(t,n){return _n(this,"filter",t,n,i=>i.map(s=>qn(this,s)),arguments)},find(t,n){return _n(this,"find",t,n,i=>qn(this,i),arguments)},findIndex(t,n){return _n(this,"findIndex",t,n,void 0,arguments)},findLast(t,n){return _n(this,"findLast",t,n,i=>qn(this,i),arguments)},findLastIndex(t,n){return _n(this,"findLastIndex",t,n,void 0,arguments)},forEach(t,n){return _n(this,"forEach",t,n,void 0,arguments)},includes(...t){return Ba(this,"includes",t)},indexOf(...t){return Ba(this,"indexOf",t)},join(t){return Ni(this).join(t)},lastIndexOf(...t){return Ba(this,"lastIndexOf",t)},map(t,n){return _n(this,"map",t,n,void 0,arguments)},pop(){return Cr(this,"pop")},push(...t){return Cr(this,"push",t)},reduce(t,...n){return $c(this,"reduce",t,n)},reduceRight(t,...n){return $c(this,"reduceRight",t,n)},shift(){return Cr(this,"shift")},some(t,n){return _n(this,"some",t,n,void 0,arguments)},splice(...t){return Cr(this,"splice",t)},toReversed(){return Ni(this).toReversed()},toSorted(t){return Ni(this).toSorted(t)},toSpliced(...t){return Ni(this).toSpliced(...t)},unshift(...t){return Cr(this,"unshift",t)},values(){return Da(this,"values",t=>qn(this,t))}};function Da(t,n,i){const s=Wo(t),o=s[n]();return s!==t&&!Ze(t)&&(o._next=o.next,o.next=()=>{const l=o._next();return l.done||(l.value=i(l.value)),l}),o}const Bg=Array.prototype;function _n(t,n,i,s,o,l){const u=Wo(t),h=u!==t&&!Ze(t),f=u[n];if(f!==Bg[n]){const g=f.apply(t,l);return h?Ye(g):g}let p=i;u!==t&&(h?p=function(g,_){return i.call(this,qn(t,g),_,t)}:i.length>2&&(p=function(g,_){return i.call(this,g,_,t)}));const m=f.call(u,p,s);return h&&o?o(m):m}function $c(t,n,i,s){const o=Wo(t);let l=i;return o!==t&&(Ze(t)?i.length>3&&(l=function(u,h,f){return i.call(this,u,h,f,t)}):l=function(u,h,f){return i.call(this,u,qn(t,h),f,t)}),o[n](l,...s)}function Ba(t,n,i){const s=Bt(t);me(s,"iterate",Jr);const o=s[n](...i);return(o===-1||o===!1)&&uu(i[0])?(i[0]=Bt(i[0]),s[n](...i)):o}function Cr(t,n,i=[]){On(),iu();const s=Bt(t)[n].apply(t,i);return ru(),In(),s}const Fg=Ql("__proto__,__v_isRef,__isVue"),id=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(fn));function Hg(t){fn(t)||(t=String(t));const n=Bt(this);return me(n,"has",t),n.hasOwnProperty(t)}class rd{constructor(n=!1,i=!1){this._isReadonly=n,this._isShallow=i}get(n,i,s){if(i==="__v_skip")return n.__v_skip;const o=this._isReadonly,l=this._isShallow;if(i==="__v_isReactive")return!o;if(i==="__v_isReadonly")return o;if(i==="__v_isShallow")return l;if(i==="__v_raw")return s===(o?l?Yg:ld:l?ad:od).get(n)||Object.getPrototypeOf(n)===Object.getPrototypeOf(s)?n:void 0;const u=Tt(n);if(!o){let f;if(u&&(f=Dg[i]))return f;if(i==="hasOwnProperty")return Hg}const h=Reflect.get(n,i,ve(n)?n:s);if((fn(i)?id.has(i):Fg(i))||(o||me(n,"get",i),l))return h;if(ve(h)){const f=u&&nu(i)?h:h.value;return o&&Ut(f)?wl(f):f}return Ut(h)?o?wl(h):un(h):h}}class sd extends rd{constructor(n=!1){super(!1,n)}set(n,i,s,o){let l=n[i];const u=Tt(n)&&nu(i);if(!this._isShallow){const p=Nn(l);if(!Ze(s)&&!Nn(s)&&(l=Bt(l),s=Bt(s)),!u&&ve(l)&&!ve(s))return p||(l.value=s),!0}const h=u?Number(i)<n.length:Ht(n,i),f=Reflect.set(n,i,s,ve(n)?n:o);return n===Bt(o)&&(h?Qn(s,l)&&Sn(n,"set",i,s):Sn(n,"add",i,s)),f}deleteProperty(n,i){const s=Ht(n,i);n[i];const o=Reflect.deleteProperty(n,i);return o&&s&&Sn(n,"delete",i,void 0),o}has(n,i){const s=Reflect.has(n,i);return(!fn(i)||!id.has(i))&&me(n,"has",i),s}ownKeys(n){return me(n,"iterate",Tt(n)?"length":pi),Reflect.ownKeys(n)}}class Zg extends rd{constructor(n=!1){super(!0,n)}set(n,i){return!0}deleteProperty(n,i){return!0}}const Ug=new sd,Vg=new Zg,Wg=new sd(!0);const xl=t=>t,Ns=t=>Reflect.getPrototypeOf(t);function jg(t,n,i){return function(...s){const o=this.__v_raw,l=Bt(o),u=ji(l),h=t==="entries"||t===Symbol.iterator&&u,f=t==="keys"&&u,p=o[t](...s),m=i?xl:n?Ji:Ye;return!n&&me(l,"iterate",f?yl:pi),{next(){const{value:g,done:_}=p.next();return _?{value:g,done:_}:{value:h?[m(g[0]),m(g[1])]:m(g),done:_}},[Symbol.iterator](){return this}}}}function zs(t){return function(...n){return t==="delete"?!1:t==="clear"?void 0:this}}function Gg(t,n){const i={get(o){const l=this.__v_raw,u=Bt(l),h=Bt(o);t||(Qn(o,h)&&me(u,"get",o),me(u,"get",h));const{has:f}=Ns(u),p=n?xl:t?Ji:Ye;if(f.call(u,o))return p(l.get(o));if(f.call(u,h))return p(l.get(h));l!==u&&l.get(o)},get size(){const o=this.__v_raw;return!t&&me(Bt(o),"iterate",pi),o.size},has(o){const l=this.__v_raw,u=Bt(l),h=Bt(o);return t||(Qn(o,h)&&me(u,"has",o),me(u,"has",h)),o===h?l.has(o):l.has(o)||l.has(h)},forEach(o,l){const u=this,h=u.__v_raw,f=Bt(h),p=n?xl:t?Ji:Ye;return!t&&me(f,"iterate",pi),h.forEach((m,g)=>o.call(l,p(m),p(g),u))}};return oe(i,t?{add:zs("add"),set:zs("set"),delete:zs("delete"),clear:zs("clear")}:{add(o){!n&&!Ze(o)&&!Nn(o)&&(o=Bt(o));const l=Bt(this);return Ns(l).has.call(l,o)||(l.add(o),Sn(l,"add",o,o)),this},set(o,l){!n&&!Ze(l)&&!Nn(l)&&(l=Bt(l));const u=Bt(this),{has:h,get:f}=Ns(u);let p=h.call(u,o);p||(o=Bt(o),p=h.call(u,o));const m=f.call(u,o);return u.set(o,l),p?Qn(l,m)&&Sn(u,"set",o,l):Sn(u,"add",o,l),this},delete(o){const l=Bt(this),{has:u,get:h}=Ns(l);let f=u.call(l,o);f||(o=Bt(o),f=u.call(l,o)),h&&h.call(l,o);const p=l.delete(o);return f&&Sn(l,"delete",o,void 0),p},clear(){const o=Bt(this),l=o.size!==0,u=o.clear();return l&&Sn(o,"clear",void 0,void 0),u}}),["keys","values","entries",Symbol.iterator].forEach(o=>{i[o]=jg(o,t,n)}),i}function au(t,n){const i=Gg(t,n);return(s,o,l)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?s:Reflect.get(Ht(i,o)&&o in s?i:s,o,l)}const $g={get:au(!1,!1)},qg={get:au(!1,!0)},Kg={get:au(!0,!1)};const od=new WeakMap,ad=new WeakMap,ld=new WeakMap,Yg=new WeakMap;function Xg(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Jg(t){return t.__v_skip||!Object.isExtensible(t)?0:Xg(wg(t))}function un(t){return Nn(t)?t:lu(t,!1,Ug,$g,od)}function ud(t){return lu(t,!1,Wg,qg,ad)}function wl(t){return lu(t,!0,Vg,Kg,ld)}function lu(t,n,i,s,o){if(!Ut(t)||t.__v_raw&&!(n&&t.__v_isReactive))return t;const l=Jg(t);if(l===0)return t;const u=o.get(t);if(u)return u;const h=new Proxy(t,l===2?s:i);return o.set(t,h),h}function mi(t){return Nn(t)?mi(t.__v_raw):!!(t&&t.__v_isReactive)}function Nn(t){return!!(t&&t.__v_isReadonly)}function Ze(t){return!!(t&&t.__v_isShallow)}function uu(t){return t?!!t.__v_raw:!1}function Bt(t){const n=t&&t.__v_raw;return n?Bt(n):t}function Qg(t){return!Ht(t,"__v_skip")&&Object.isExtensible(t)&&Wh(t,"__v_skip",!0),t}const Ye=t=>Ut(t)?un(t):t,Ji=t=>Ut(t)?wl(t):t;function ve(t){return t?t.__v_isRef===!0:!1}function kt(t){return cd(t,!1)}function cu(t){return cd(t,!0)}function cd(t,n){return ve(t)?t:new t_(t,n)}class t_{constructor(n,i){this.dep=new ou,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?n:Bt(n),this._value=i?n:Ye(n),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(n){const i=this._rawValue,s=this.__v_isShallow||Ze(n)||Nn(n);n=s?n:Bt(n),Qn(n,i)&&(this._rawValue=n,this._value=s?n:Ye(n),this.dep.trigger())}}function Be(t){return ve(t)?t.value:t}const e_={get:(t,n,i)=>n==="__v_raw"?t:Be(Reflect.get(t,n,i)),set:(t,n,i,s)=>{const o=t[n];return ve(o)&&!ve(i)?(o.value=i,!0):Reflect.set(t,n,i,s)}};function fd(t){return mi(t)?t:new Proxy(t,e_)}class n_{constructor(n,i,s){this.fn=n,this.setter=i,this._value=void 0,this.dep=new ou(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Xr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&jt!==this)return Xh(this,!0),!0}get value(){const n=this.dep.track();return td(this),n&&(n.version=this.dep.version),this._value}set value(n){this.setter&&this.setter(n)}}function i_(t,n,i=!1){let s,o;return Pt(t)?s=t:(s=t.get,o=t.set),new n_(s,o,i)}const Rs={},uo=new WeakMap;let ci;function r_(t,n=!1,i=ci){if(i){let s=uo.get(i);s||uo.set(i,s=[]),s.push(t)}}function s_(t,n,i=Vt){const{immediate:s,deep:o,once:l,scheduler:u,augmentJob:h,call:f}=i,p=k=>o?k:Ze(k)||o===!1||o===0?Pn(k,1):Pn(k);let m,g,_,x,O=!1,N=!1;if(ve(t)?(g=()=>t.value,O=Ze(t)):mi(t)?(g=()=>p(t),O=!0):Tt(t)?(N=!0,O=t.some(k=>mi(k)||Ze(k)),g=()=>t.map(k=>{if(ve(k))return k.value;if(mi(k))return p(k);if(Pt(k))return f?f(k,2):k()})):Pt(t)?n?g=f?()=>f(t,2):t:g=()=>{if(_){On();try{_()}finally{In()}}const k=ci;ci=m;try{return f?f(t,3,[x]):t(x)}finally{ci=k}}:g=ln,n&&o){const k=g,V=o===!0?1/0:o;g=()=>Pn(k(),V)}const T=Ng(),b=()=>{m.stop(),T&&T.active&&eu(T.effects,m)};if(l&&n){const k=n;n=(...V)=>{k(...V),b()}}let P=N?new Array(t.length).fill(Rs):Rs;const C=k=>{if(!(!(m.flags&1)||!m.dirty&&!k))if(n){const V=m.run();if(o||O||(N?V.some((F,j)=>Qn(F,P[j])):Qn(V,P))){_&&_();const F=ci;ci=m;try{const j=[V,P===Rs?void 0:N&&P[0]===Rs?[]:P,x];P=V,f?f(n,3,j):n(...j)}finally{ci=F}}}else m.run()};return h&&h(C),m=new Kh(g),m.scheduler=u?()=>u(C,!1):C,x=k=>r_(k,!1,m),_=m.onStop=()=>{const k=uo.get(m);if(k){if(f)f(k,4);else for(const V of k)V();uo.delete(m)}},n?s?C(!0):P=m.run():u?u(C.bind(null,!0),!0):m.run(),b.pause=m.pause.bind(m),b.resume=m.resume.bind(m),b.stop=b,b}function Pn(t,n=1/0,i){if(n<=0||!Ut(t)||t.__v_skip||(i=i||new Map,(i.get(t)||0)>=n))return t;if(i.set(t,n),n--,ve(t))Pn(t.value,n,i);else if(Tt(t))for(let s=0;s<t.length;s++)Pn(t[s],n,i);else if(Bo(t)||ji(t))t.forEach(s=>{Pn(s,n,i)});else if(Vh(t)){for(const s in t)Pn(t[s],n,i);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Pn(t[s],n,i)}return t}function us(t,n,i,s){try{return s?t(...s):t()}catch(o){jo(o,n,i)}}function Xe(t,n,i,s){if(Pt(t)){const o=us(t,n,i,s);return o&&Zh(o)&&o.catch(l=>{jo(l,n,i)}),o}if(Tt(t)){const o=[];for(let l=0;l<t.length;l++)o.push(Xe(t[l],n,i,s));return o}}function jo(t,n,i,s=!0){const o=n?n.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:u}=n&&n.appContext.config||Vt;if(n){let h=n.parent;const f=n.proxy,p=`https://vuejs.org/error-reference/#runtime-${i}`;for(;h;){const m=h.ec;if(m){for(let g=0;g<m.length;g++)if(m[g](t,f,p)===!1)return}h=h.parent}if(l){On(),us(l,null,10,[t,f,p]),In();return}}o_(t,i,o,s,u)}function o_(t,n,i,s=!0,o=!1){if(o)throw t;console.error(t)}const be=[];let sn=-1;const $i=[];let Kn=null,Fi=0;const hd=Promise.resolve();let co=null;function wi(t){const n=co||hd;return t?n.then(this?t.bind(this):t):n}function a_(t){let n=sn+1,i=be.length;for(;n<i;){const s=n+i>>>1,o=be[s],l=Qr(o);l<t||l===t&&o.flags&2?n=s+1:i=s}return n}function fu(t){if(!(t.flags&1)){const n=Qr(t),i=be[be.length-1];!i||!(t.flags&2)&&n>=Qr(i)?be.push(t):be.splice(a_(n),0,t),t.flags|=1,dd()}}function dd(){co||(co=hd.then(md))}function l_(t){Tt(t)?$i.push(...t):Kn&&t.id===-1?Kn.splice(Fi+1,0,t):t.flags&1||($i.push(t),t.flags|=1),dd()}function qc(t,n,i=sn+1){for(;i<be.length;i++){const s=be[i];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;be.splice(i,1),i--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function pd(t){if($i.length){const n=[...new Set($i)].sort((i,s)=>Qr(i)-Qr(s));if($i.length=0,Kn){Kn.push(...n);return}for(Kn=n,Fi=0;Fi<Kn.length;Fi++){const i=Kn[Fi];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}Kn=null,Fi=0}}const Qr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function md(t){try{for(sn=0;sn<be.length;sn++){const n=be[sn];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),us(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;sn<be.length;sn++){const n=be[sn];n&&(n.flags&=-2)}sn=-1,be.length=0,pd(),co=null,(be.length||$i.length)&&md()}}let ke=null,gd=null;function fo(t){const n=ke;return ke=t,gd=t&&t.type.__scopeId||null,n}function cr(t,n=ke,i){if(!n||t._n)return t;const s=(...o)=>{s._d&&_o(-1);const l=fo(n);let u;try{u=t(...o)}finally{fo(l),s._d&&_o(1)}return u};return s._n=!0,s._c=!0,s._d=!0,s}function Wr(t,n){if(ke===null)return t;const i=Xo(ke),s=t.dirs||(t.dirs=[]);for(let o=0;o<n.length;o++){let[l,u,h,f=Vt]=n[o];l&&(Pt(l)&&(l={mounted:l,updated:l}),l.deep&&Pn(u),s.push({dir:l,instance:i,value:u,oldValue:void 0,arg:h,modifiers:f}))}return t}function oi(t,n,i,s){const o=t.dirs,l=n&&n.dirs;for(let u=0;u<o.length;u++){const h=o[u];l&&(h.oldValue=l[u].value);let f=h.dir[s];f&&(On(),Xe(f,i,8,[t.el,h,t,n]),In())}}function to(t,n){if(_e){let i=_e.provides;const s=_e.parent&&_e.parent.provides;s===i&&(i=_e.provides=Object.create(s)),i[t]=n}}function En(t,n,i=!1){const s=vu();if(s||qi){let o=qi?qi._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(o&&t in o)return o[t];if(arguments.length>1)return i&&Pt(n)?n.call(s&&s.proxy):n}}const u_=Symbol.for("v-scx"),c_=()=>En(u_);function Ue(t,n,i){return _d(t,n,i)}function _d(t,n,i=Vt){const{immediate:s,deep:o,flush:l,once:u}=i,h=oe({},i),f=n&&s||!n&&l!=="post";let p;if(ns){if(l==="sync"){const x=c_();p=x.__watcherHandles||(x.__watcherHandles=[])}else if(!f){const x=()=>{};return x.stop=ln,x.resume=ln,x.pause=ln,x}}const m=_e;h.call=(x,O,N)=>Xe(x,m,O,N);let g=!1;l==="post"?h.scheduler=x=>{ce(x,m&&m.suspense)}:l!=="sync"&&(g=!0,h.scheduler=(x,O)=>{O?x():fu(x)}),h.augmentJob=x=>{n&&(x.flags|=4),g&&(x.flags|=2,m&&(x.id=m.uid,x.i=m))};const _=s_(t,n,h);return ns&&(p?p.push(_):f&&_()),_}function f_(t,n,i){const s=this.proxy,o=Kt(t)?t.includes(".")?vd(s,t):()=>s[t]:t.bind(s,s);let l;Pt(n)?l=n:(l=n.handler,i=n);const u=fs(this),h=_d(o,l.bind(s),i);return u(),h}function vd(t,n){const i=n.split(".");return()=>{let s=t;for(let o=0;o<i.length&&s;o++)s=s[i[o]];return s}}const h_=Symbol("_vte"),yd=t=>t.__isTeleport,Cn=Symbol("_leaveCb"),Ds=Symbol("_enterCb");function d_(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return We(()=>{t.isMounted=!0}),qo(()=>{t.isUnmounting=!0}),t}const Re=[Function,Array],xd={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Re,onEnter:Re,onAfterEnter:Re,onEnterCancelled:Re,onBeforeLeave:Re,onLeave:Re,onAfterLeave:Re,onLeaveCancelled:Re,onBeforeAppear:Re,onAppear:Re,onAfterAppear:Re,onAppearCancelled:Re},wd=t=>{const n=t.subTree;return n.component?wd(n.component):n},p_={name:"BaseTransition",props:xd,setup(t,{slots:n}){const i=vu(),s=d_();return()=>{const o=n.default&&Cd(n.default(),!0);if(!o||!o.length)return;const l=bd(o),u=Bt(t),{mode:h}=u;if(s.isLeaving)return Fa(l);const f=Kc(l);if(!f)return Fa(l);let p=bl(f,u,s,i,g=>p=g);f.type!==ge&&Qi(f,p);let m=i.subTree&&Kc(i.subTree);if(m&&m.type!==ge&&!Jn(m,f)&&wd(i).type!==ge){let g=bl(m,u,s,i);if(Qi(m,g),h==="out-in"&&f.type!==ge)return s.isLeaving=!0,g.afterLeave=()=>{s.isLeaving=!1,i.job.flags&8||i.update(),delete g.afterLeave,m=void 0},Fa(l);h==="in-out"&&f.type!==ge?g.delayLeave=(_,x,O)=>{const N=Td(s,m);N[String(m.key)]=m,_[Cn]=()=>{x(),_[Cn]=void 0,delete p.delayedLeave,m=void 0},p.delayedLeave=()=>{O(),delete p.delayedLeave,m=void 0}}:m=void 0}else m&&(m=void 0);return l}}};function bd(t){let n=t[0];if(t.length>1){for(const i of t)if(i.type!==ge){n=i;break}}return n}const m_=p_;function Td(t,n){const{leavingVNodes:i}=t;let s=i.get(n.type);return s||(s=Object.create(null),i.set(n.type,s)),s}function bl(t,n,i,s,o){const{appear:l,mode:u,persisted:h=!1,onBeforeEnter:f,onEnter:p,onAfterEnter:m,onEnterCancelled:g,onBeforeLeave:_,onLeave:x,onAfterLeave:O,onLeaveCancelled:N,onBeforeAppear:T,onAppear:b,onAfterAppear:P,onAppearCancelled:C}=n,k=String(t.key),V=Td(i,t),F=(q,nt)=>{q&&Xe(q,s,9,nt)},j=(q,nt)=>{const Y=nt[1];F(q,nt),Tt(q)?q.every(J=>J.length<=1)&&Y():q.length<=1&&Y()},tt={mode:u,persisted:h,beforeEnter(q){let nt=f;if(!i.isMounted)if(l)nt=T||f;else return;q[Cn]&&q[Cn](!0);const Y=V[k];Y&&Jn(t,Y)&&Y.el[Cn]&&Y.el[Cn](),F(nt,[q])},enter(q){let nt=p,Y=m,J=g;if(!i.isMounted)if(l)nt=b||p,Y=P||m,J=C||g;else return;let ft=!1;const A=q[Ds]=at=>{ft||(ft=!0,at?F(J,[q]):F(Y,[q]),tt.delayedLeave&&tt.delayedLeave(),q[Ds]=void 0)};nt?j(nt,[q,A]):A()},leave(q,nt){const Y=String(t.key);if(q[Ds]&&q[Ds](!0),i.isUnmounting)return nt();F(_,[q]);let J=!1;const ft=q[Cn]=A=>{J||(J=!0,nt(),A?F(N,[q]):F(O,[q]),q[Cn]=void 0,V[Y]===t&&delete V[Y])};V[Y]=t,x?j(x,[q,ft]):ft()},clone(q){const nt=bl(q,n,i,s,o);return o&&o(nt),nt}};return tt}function Fa(t){if(Go(t))return t=zn(t),t.children=null,t}function Kc(t){if(!Go(t))return yd(t.type)&&t.children?bd(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:n,children:i}=t;if(i){if(n&16)return i[0];if(n&32&&Pt(i.default))return i.default()}}function Qi(t,n){t.shapeFlag&6&&t.component?(t.transition=n,Qi(t.component.subTree,n)):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}function Cd(t,n=!1,i){let s=[],o=0;for(let l=0;l<t.length;l++){let u=t[l];const h=i==null?u.key:String(i)+String(u.key!=null?u.key:l);u.type===$t?(u.patchFlag&128&&o++,s=s.concat(Cd(u.children,n,h))):(n||u.type!==ge)&&s.push(h!=null?zn(u,{key:h}):u)}if(o>1)for(let l=0;l<s.length;l++)s[l].patchFlag=-2;return s}function Sd(t,n){return Pt(t)?oe({name:t.name},n,{setup:t}):t}function Pd(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const ho=new WeakMap;function jr(t,n,i,s,o=!1){if(Tt(t)){t.forEach((O,N)=>jr(O,n&&(Tt(n)?n[N]:n),i,s,o));return}if(gi(s)&&!o){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&jr(t,n,i,s.component.subTree);return}const l=s.shapeFlag&4?Xo(s.component):s.el,u=o?null:l,{i:h,r:f}=t,p=n&&n.r,m=h.refs===Vt?h.refs={}:h.refs,g=h.setupState,_=Bt(g),x=g===Vt?Hh:O=>Ht(_,O);if(p!=null&&p!==f){if(Yc(n),Kt(p))m[p]=null,x(p)&&(g[p]=null);else if(ve(p)){p.value=null;const O=n;O.k&&(m[O.k]=null)}}if(Pt(f))us(f,h,12,[u,m]);else{const O=Kt(f),N=ve(f);if(O||N){const T=()=>{if(t.f){const b=O?x(f)?g[f]:m[f]:f.value;if(o)Tt(b)&&eu(b,l);else if(Tt(b))b.includes(l)||b.push(l);else if(O)m[f]=[l],x(f)&&(g[f]=m[f]);else{const P=[l];f.value=P,t.k&&(m[t.k]=P)}}else O?(m[f]=u,x(f)&&(g[f]=u)):N&&(f.value=u,t.k&&(m[t.k]=u))};if(u){const b=()=>{T(),ho.delete(t)};b.id=-1,ho.set(t,b),ce(b,i)}else Yc(t),T()}}}function Yc(t){const n=ho.get(t);n&&(n.flags|=8,ho.delete(t))}Uo().requestIdleCallback;Uo().cancelIdleCallback;const gi=t=>!!t.type.__asyncLoader,Go=t=>t.type.__isKeepAlive,g_={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:n}){const i=vu(),s=i.ctx;if(!s.renderer)return()=>{const P=n.default&&n.default();return P&&P.length===1?P[0]:P};const o=new Map,l=new Set;let u=null;const h=i.suspense,{renderer:{p:f,m:p,um:m,o:{createElement:g}}}=s,_=g("div");s.activate=(P,C,k,V,F)=>{const j=P.component;p(P,C,k,0,h),f(j.vnode,P,C,k,j,h,V,P.slotScopeIds,F),ce(()=>{j.isDeactivated=!1,j.a&&Gi(j.a);const tt=P.props&&P.props.onVnodeMounted;tt&&De(tt,j.parent,P)},h)},s.deactivate=P=>{const C=P.component;mo(C.m),mo(C.a),p(P,_,null,1,h),ce(()=>{C.da&&Gi(C.da);const k=P.props&&P.props.onVnodeUnmounted;k&&De(k,C.parent,P),C.isDeactivated=!0},h)};function x(P){Ha(P),m(P,i,h,!0)}function O(P){o.forEach((C,k)=>{const V=kl(gi(C)?C.type.__asyncResolved||{}:C.type);V&&!P(V)&&N(k)})}function N(P){const C=o.get(P);C&&(!u||!Jn(C,u))?x(C):u&&Ha(u),o.delete(P),l.delete(P)}Ue(()=>[t.include,t.exclude],([P,C])=>{P&&O(k=>Nr(P,k)),C&&O(k=>!Nr(C,k))},{flush:"post",deep:!0});let T=null;const b=()=>{T!=null&&(go(i.subTree.type)?ce(()=>{o.set(T,Bs(i.subTree))},i.subTree.suspense):o.set(T,Bs(i.subTree)))};return We(b),kd(b),qo(()=>{o.forEach(P=>{const{subTree:C,suspense:k}=i,V=Bs(C);if(P.type===V.type&&P.key===V.key){Ha(V);const F=V.component.da;F&&ce(F,k);return}x(P)})}),()=>{if(T=null,!n.default)return u=null;const P=n.default(),C=P[0];if(P.length>1)return u=null,P;if(!es(C)||!(C.shapeFlag&4)&&!(C.shapeFlag&128))return u=null,C;let k=Bs(C);if(k.type===ge)return u=null,k;const V=k.type,F=kl(gi(k)?k.type.__asyncResolved||{}:V),{include:j,exclude:tt,max:q}=t;if(j&&(!F||!Nr(j,F))||tt&&F&&Nr(tt,F))return k.shapeFlag&=-257,u=k,C;const nt=k.key==null?V:k.key,Y=o.get(nt);return k.el&&(k=zn(k),C.shapeFlag&128&&(C.ssContent=k)),T=nt,Y?(k.el=Y.el,k.component=Y.component,k.transition&&Qi(k,k.transition),k.shapeFlag|=512,l.delete(nt),l.add(nt)):(l.add(nt),q&&l.size>parseInt(q,10)&&N(l.values().next().value)),k.shapeFlag|=256,u=k,go(C.type)?C:k}}},__=g_;function Nr(t,n){return Tt(t)?t.some(i=>Nr(i,n)):Kt(t)?t.split(",").includes(n):xg(t)?(t.lastIndex=0,t.test(n)):!1}function v_(t,n){Md(t,"a",n)}function y_(t,n){Md(t,"da",n)}function Md(t,n,i=_e){const s=t.__wdc||(t.__wdc=()=>{let o=i;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if($o(n,s,i),i){let o=i.parent;for(;o&&o.parent;)Go(o.parent.vnode)&&x_(s,n,i,o),o=o.parent}}function x_(t,n,i,s){const o=$o(n,t,s,!0);cs(()=>{eu(s[n],o)},i)}function Ha(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Bs(t){return t.shapeFlag&128?t.ssContent:t}function $o(t,n,i=_e,s=!1){if(i){const o=i[t]||(i[t]=[]),l=n.__weh||(n.__weh=(...u)=>{On();const h=fs(i),f=Xe(n,i,t,u);return h(),In(),f});return s?o.unshift(l):o.push(l),l}}const Fn=t=>(n,i=_e)=>{(!ns||t==="sp")&&$o(t,(...s)=>n(...s),i)},w_=Fn("bm"),We=Fn("m"),b_=Fn("bu"),kd=Fn("u"),qo=Fn("bum"),cs=Fn("um"),T_=Fn("sp"),C_=Fn("rtg"),S_=Fn("rtc");function P_(t,n=_e){$o("ec",t,n)}const Ad="components";function hu(t,n){return Ed(Ad,t,!0,n)||t}const Ld=Symbol.for("v-ndc");function M_(t){return Kt(t)?Ed(Ad,t,!1)||t:t||Ld}function Ed(t,n,i=!0,s=!1){const o=ke||_e;if(o){const l=o.type;{const h=kl(l,!1);if(h&&(h===n||h===Ve(n)||h===Ho(Ve(n))))return l}const u=Xc(o[t]||l[t],n)||Xc(o.appContext[t],n);return!u&&s?l:u}}function Xc(t,n){return t&&(t[n]||t[Ve(n)]||t[Ho(Ve(n))])}function Se(t,n,i,s){let o;const l=i,u=Tt(t);if(u||Kt(t)){const h=u&&mi(t);let f=!1,p=!1;h&&(f=!Ze(t),p=Nn(t),t=Wo(t)),o=new Array(t.length);for(let m=0,g=t.length;m<g;m++)o[m]=n(f?p?Ji(Ye(t[m])):Ye(t[m]):t[m],m,void 0,l)}else if(typeof t=="number"){o=new Array(t);for(let h=0;h<t;h++)o[h]=n(h+1,h,void 0,l)}else if(Ut(t))if(t[Symbol.iterator])o=Array.from(t,(h,f)=>n(h,f,void 0,l));else{const h=Object.keys(t);o=new Array(h.length);for(let f=0,p=h.length;f<p;f++){const m=h[f];o[f]=n(t[m],m,f,l)}}else o=[];return o}const Tl=t=>t?Kd(t)?Xo(t):Tl(t.parent):null,Gr=oe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Tl(t.parent),$root:t=>Tl(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Id(t),$forceUpdate:t=>t.f||(t.f=()=>{fu(t.update)}),$nextTick:t=>t.n||(t.n=wi.bind(t.proxy)),$watch:t=>f_.bind(t)}),Za=(t,n)=>t!==Vt&&!t.__isScriptSetup&&Ht(t,n),k_={get({_:t},n){if(n==="__v_skip")return!0;const{ctx:i,setupState:s,data:o,props:l,accessCache:u,type:h,appContext:f}=t;if(n[0]!=="$"){const _=u[n];if(_!==void 0)switch(_){case 1:return s[n];case 2:return o[n];case 4:return i[n];case 3:return l[n]}else{if(Za(s,n))return u[n]=1,s[n];if(o!==Vt&&Ht(o,n))return u[n]=2,o[n];if(Ht(l,n))return u[n]=3,l[n];if(i!==Vt&&Ht(i,n))return u[n]=4,i[n];Cl&&(u[n]=0)}}const p=Gr[n];let m,g;if(p)return n==="$attrs"&&me(t.attrs,"get",""),p(t);if((m=h.__cssModules)&&(m=m[n]))return m;if(i!==Vt&&Ht(i,n))return u[n]=4,i[n];if(g=f.config.globalProperties,Ht(g,n))return g[n]},set({_:t},n,i){const{data:s,setupState:o,ctx:l}=t;return Za(o,n)?(o[n]=i,!0):s!==Vt&&Ht(s,n)?(s[n]=i,!0):Ht(t.props,n)||n[0]==="$"&&n.slice(1)in t?!1:(l[n]=i,!0)},has({_:{data:t,setupState:n,accessCache:i,ctx:s,appContext:o,props:l,type:u}},h){let f;return!!(i[h]||t!==Vt&&h[0]!=="$"&&Ht(t,h)||Za(n,h)||Ht(l,h)||Ht(s,h)||Ht(Gr,h)||Ht(o.config.globalProperties,h)||(f=u.__cssModules)&&f[h])},defineProperty(t,n,i){return i.get!=null?t._.accessCache[n]=0:Ht(i,"value")&&this.set(t,n,i.value,null),Reflect.defineProperty(t,n,i)}};function Jc(t){return Tt(t)?t.reduce((n,i)=>(n[i]=null,n),{}):t}let Cl=!0;function A_(t){const n=Id(t),i=t.proxy,s=t.ctx;Cl=!1,n.beforeCreate&&Qc(n.beforeCreate,t,"bc");const{data:o,computed:l,methods:u,watch:h,provide:f,inject:p,created:m,beforeMount:g,mounted:_,beforeUpdate:x,updated:O,activated:N,deactivated:T,beforeDestroy:b,beforeUnmount:P,destroyed:C,unmounted:k,render:V,renderTracked:F,renderTriggered:j,errorCaptured:tt,serverPrefetch:q,expose:nt,inheritAttrs:Y,components:J,directives:ft,filters:A}=n;if(p&&L_(p,s,null),u)for(const G in u){const D=u[G];Pt(D)&&(s[G]=D.bind(i))}if(o){const G=o.call(i,i);Ut(G)&&(t.data=un(G))}if(Cl=!0,l)for(const G in l){const D=l[G],Q=Pt(D)?D.bind(i,i):Pt(D.get)?D.get.bind(i,i):ln,B=!Pt(D)&&Pt(D.set)?D.set.bind(i):ln,st=qt({get:Q,set:B});Object.defineProperty(s,G,{enumerable:!0,configurable:!0,get:()=>st.value,set:lt=>st.value=lt})}if(h)for(const G in h)Od(h[G],s,i,G);if(f){const G=Pt(f)?f.call(i):f;Reflect.ownKeys(G).forEach(D=>{to(D,G[D])})}m&&Qc(m,t,"c");function z(G,D){Tt(D)?D.forEach(Q=>G(Q.bind(i))):D&&G(D.bind(i))}if(z(w_,g),z(We,_),z(b_,x),z(kd,O),z(v_,N),z(y_,T),z(P_,tt),z(S_,F),z(C_,j),z(qo,P),z(cs,k),z(T_,q),Tt(nt))if(nt.length){const G=t.exposed||(t.exposed={});nt.forEach(D=>{Object.defineProperty(G,D,{get:()=>i[D],set:Q=>i[D]=Q,enumerable:!0})})}else t.exposed||(t.exposed={});V&&t.render===ln&&(t.render=V),Y!=null&&(t.inheritAttrs=Y),J&&(t.components=J),ft&&(t.directives=ft),q&&Pd(t)}function L_(t,n,i=ln){Tt(t)&&(t=Sl(t));for(const s in t){const o=t[s];let l;Ut(o)?"default"in o?l=En(o.from||s,o.default,!0):l=En(o.from||s):l=En(o),ve(l)?Object.defineProperty(n,s,{enumerable:!0,configurable:!0,get:()=>l.value,set:u=>l.value=u}):n[s]=l}}function Qc(t,n,i){Xe(Tt(t)?t.map(s=>s.bind(n.proxy)):t.bind(n.proxy),n,i)}function Od(t,n,i,s){let o=s.includes(".")?vd(i,s):()=>i[s];if(Kt(t)){const l=n[t];Pt(l)&&Ue(o,l)}else if(Pt(t))Ue(o,t.bind(i));else if(Ut(t))if(Tt(t))t.forEach(l=>Od(l,n,i,s));else{const l=Pt(t.handler)?t.handler.bind(i):n[t.handler];Pt(l)&&Ue(o,l,t)}}function Id(t){const n=t.type,{mixins:i,extends:s}=n,{mixins:o,optionsCache:l,config:{optionMergeStrategies:u}}=t.appContext,h=l.get(n);let f;return h?f=h:!o.length&&!i&&!s?f=n:(f={},o.length&&o.forEach(p=>po(f,p,u,!0)),po(f,n,u)),Ut(n)&&l.set(n,f),f}function po(t,n,i,s=!1){const{mixins:o,extends:l}=n;l&&po(t,l,i,!0),o&&o.forEach(u=>po(t,u,i,!0));for(const u in n)if(!(s&&u==="expose")){const h=E_[u]||i&&i[u];t[u]=h?h(t[u],n[u]):n[u]}return t}const E_={data:tf,props:ef,emits:ef,methods:zr,computed:zr,beforeCreate:xe,created:xe,beforeMount:xe,mounted:xe,beforeUpdate:xe,updated:xe,beforeDestroy:xe,beforeUnmount:xe,destroyed:xe,unmounted:xe,activated:xe,deactivated:xe,errorCaptured:xe,serverPrefetch:xe,components:zr,directives:zr,watch:I_,provide:tf,inject:O_};function tf(t,n){return n?t?function(){return oe(Pt(t)?t.call(this,this):t,Pt(n)?n.call(this,this):n)}:n:t}function O_(t,n){return zr(Sl(t),Sl(n))}function Sl(t){if(Tt(t)){const n={};for(let i=0;i<t.length;i++)n[t[i]]=t[i];return n}return t}function xe(t,n){return t?[...new Set([].concat(t,n))]:n}function zr(t,n){return t?oe(Object.create(null),t,n):n}function ef(t,n){return t?Tt(t)&&Tt(n)?[...new Set([...t,...n])]:oe(Object.create(null),Jc(t),Jc(n??{})):n}function I_(t,n){if(!t)return n;if(!n)return t;const i=oe(Object.create(null),t);for(const s in n)i[s]=xe(t[s],n[s]);return i}function Nd(){return{app:null,config:{isNativeTag:Hh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let N_=0;function z_(t,n){return function(s,o=null){Pt(s)||(s=oe({},s)),o!=null&&!Ut(o)&&(o=null);const l=Nd(),u=new WeakSet,h=[];let f=!1;const p=l.app={_uid:N_++,_component:s,_props:o,_container:null,_context:l,_instance:null,version:fv,get config(){return l.config},set config(m){},use(m,...g){return u.has(m)||(m&&Pt(m.install)?(u.add(m),m.install(p,...g)):Pt(m)&&(u.add(m),m(p,...g))),p},mixin(m){return l.mixins.includes(m)||l.mixins.push(m),p},component(m,g){return g?(l.components[m]=g,p):l.components[m]},directive(m,g){return g?(l.directives[m]=g,p):l.directives[m]},mount(m,g,_){if(!f){const x=p._ceVNode||Nt(s,o);return x.appContext=l,_===!0?_="svg":_===!1&&(_=void 0),t(x,m,_),f=!0,p._container=m,m.__vue_app__=p,Xo(x.component)}},onUnmount(m){h.push(m)},unmount(){f&&(Xe(h,p._instance,16),t(null,p._container),delete p._container.__vue_app__)},provide(m,g){return l.provides[m]=g,p},runWithContext(m){const g=qi;qi=p;try{return m()}finally{qi=g}}};return p}}let qi=null;const R_=(t,n)=>n==="modelValue"||n==="model-value"?t.modelModifiers:t[`${n}Modifiers`]||t[`${Ve(n)}Modifiers`]||t[`${xi(n)}Modifiers`];function D_(t,n,...i){if(t.isUnmounted)return;const s=t.vnode.props||Vt;let o=i;const l=n.startsWith("update:"),u=l&&R_(s,n.slice(7));u&&(u.trim&&(o=i.map(m=>Kt(m)?m.trim():m)),u.number&&(o=i.map(Zo)));let h,f=s[h=Na(n)]||s[h=Na(Ve(n))];!f&&l&&(f=s[h=Na(xi(n))]),f&&Xe(f,t,6,o);const p=s[h+"Once"];if(p){if(!t.emitted)t.emitted={};else if(t.emitted[h])return;t.emitted[h]=!0,Xe(p,t,6,o)}}const B_=new WeakMap;function zd(t,n,i=!1){const s=i?B_:n.emitsCache,o=s.get(t);if(o!==void 0)return o;const l=t.emits;let u={},h=!1;if(!Pt(t)){const f=p=>{const m=zd(p,n,!0);m&&(h=!0,oe(u,m))};!i&&n.mixins.length&&n.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!l&&!h?(Ut(t)&&s.set(t,null),null):(Tt(l)?l.forEach(f=>u[f]=null):oe(u,l),Ut(t)&&s.set(t,u),u)}function Ko(t,n){return!t||!Do(n)?!1:(n=n.slice(2).replace(/Once$/,""),Ht(t,n[0].toLowerCase()+n.slice(1))||Ht(t,xi(n))||Ht(t,n))}function nf(t){const{type:n,vnode:i,proxy:s,withProxy:o,propsOptions:[l],slots:u,attrs:h,emit:f,render:p,renderCache:m,props:g,data:_,setupState:x,ctx:O,inheritAttrs:N}=t,T=fo(t);let b,P;try{if(i.shapeFlag&4){const k=o||s,V=k;b=an(p.call(V,k,m,g,x,_,O)),P=h}else{const k=n;b=an(k.length>1?k(g,{attrs:h,slots:u,emit:f}):k(g,null)),P=n.props?h:F_(h)}}catch(k){$r.length=0,jo(k,t,1),b=Nt(ge)}let C=b;if(P&&N!==!1){const k=Object.keys(P),{shapeFlag:V}=C;k.length&&V&7&&(l&&k.some(tu)&&(P=H_(P,l)),C=zn(C,P,!1,!0))}return i.dirs&&(C=zn(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(i.dirs):i.dirs),i.transition&&Qi(C,i.transition),b=C,fo(T),b}const F_=t=>{let n;for(const i in t)(i==="class"||i==="style"||Do(i))&&((n||(n={}))[i]=t[i]);return n},H_=(t,n)=>{const i={};for(const s in t)(!tu(s)||!(s.slice(9)in n))&&(i[s]=t[s]);return i};function Z_(t,n,i){const{props:s,children:o,component:l}=t,{props:u,children:h,patchFlag:f}=n,p=l.emitsOptions;if(n.dirs||n.transition)return!0;if(i&&f>=0){if(f&1024)return!0;if(f&16)return s?rf(s,u,p):!!u;if(f&8){const m=n.dynamicProps;for(let g=0;g<m.length;g++){const _=m[g];if(u[_]!==s[_]&&!Ko(p,_))return!0}}}else return(o||h)&&(!h||!h.$stable)?!0:s===u?!1:s?u?rf(s,u,p):!0:!!u;return!1}function rf(t,n,i){const s=Object.keys(n);if(s.length!==Object.keys(t).length)return!0;for(let o=0;o<s.length;o++){const l=s[o];if(n[l]!==t[l]&&!Ko(i,l))return!0}return!1}function U_({vnode:t,parent:n},i){for(;n;){const s=n.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=n.vnode).el=i,n=n.parent;else break}}const Rd={},Dd=()=>Object.create(Rd),Bd=t=>Object.getPrototypeOf(t)===Rd;function V_(t,n,i,s=!1){const o={},l=Dd();t.propsDefaults=Object.create(null),Fd(t,n,o,l);for(const u in t.propsOptions[0])u in o||(o[u]=void 0);i?t.props=s?o:ud(o):t.type.props?t.props=o:t.props=l,t.attrs=l}function W_(t,n,i,s){const{props:o,attrs:l,vnode:{patchFlag:u}}=t,h=Bt(o),[f]=t.propsOptions;let p=!1;if((s||u>0)&&!(u&16)){if(u&8){const m=t.vnode.dynamicProps;for(let g=0;g<m.length;g++){let _=m[g];if(Ko(t.emitsOptions,_))continue;const x=n[_];if(f)if(Ht(l,_))x!==l[_]&&(l[_]=x,p=!0);else{const O=Ve(_);o[O]=Pl(f,h,O,x,t,!1)}else x!==l[_]&&(l[_]=x,p=!0)}}}else{Fd(t,n,o,l)&&(p=!0);let m;for(const g in h)(!n||!Ht(n,g)&&((m=xi(g))===g||!Ht(n,m)))&&(f?i&&(i[g]!==void 0||i[m]!==void 0)&&(o[g]=Pl(f,h,g,void 0,t,!0)):delete o[g]);if(l!==h)for(const g in l)(!n||!Ht(n,g))&&(delete l[g],p=!0)}p&&Sn(t.attrs,"set","")}function Fd(t,n,i,s){const[o,l]=t.propsOptions;let u=!1,h;if(n)for(let f in n){if(Zr(f))continue;const p=n[f];let m;o&&Ht(o,m=Ve(f))?!l||!l.includes(m)?i[m]=p:(h||(h={}))[m]=p:Ko(t.emitsOptions,f)||(!(f in s)||p!==s[f])&&(s[f]=p,u=!0)}if(l){const f=Bt(i),p=h||Vt;for(let m=0;m<l.length;m++){const g=l[m];i[g]=Pl(o,f,g,p[g],t,!Ht(p,g))}}return u}function Pl(t,n,i,s,o,l){const u=t[i];if(u!=null){const h=Ht(u,"default");if(h&&s===void 0){const f=u.default;if(u.type!==Function&&!u.skipFactory&&Pt(f)){const{propsDefaults:p}=o;if(i in p)s=p[i];else{const m=fs(o);s=p[i]=f.call(null,n),m()}}else s=f;o.ce&&o.ce._setProp(i,s)}u[0]&&(l&&!h?s=!1:u[1]&&(s===""||s===xi(i))&&(s=!0))}return s}const j_=new WeakMap;function Hd(t,n,i=!1){const s=i?j_:n.propsCache,o=s.get(t);if(o)return o;const l=t.props,u={},h=[];let f=!1;if(!Pt(t)){const m=g=>{f=!0;const[_,x]=Hd(g,n,!0);oe(u,_),x&&h.push(...x)};!i&&n.mixins.length&&n.mixins.forEach(m),t.extends&&m(t.extends),t.mixins&&t.mixins.forEach(m)}if(!l&&!f)return Ut(t)&&s.set(t,Wi),Wi;if(Tt(l))for(let m=0;m<l.length;m++){const g=Ve(l[m]);sf(g)&&(u[g]=Vt)}else if(l)for(const m in l){const g=Ve(m);if(sf(g)){const _=l[m],x=u[g]=Tt(_)||Pt(_)?{type:_}:oe({},_),O=x.type;let N=!1,T=!0;if(Tt(O))for(let b=0;b<O.length;++b){const P=O[b],C=Pt(P)&&P.name;if(C==="Boolean"){N=!0;break}else C==="String"&&(T=!1)}else N=Pt(O)&&O.name==="Boolean";x[0]=N,x[1]=T,(N||Ht(x,"default"))&&h.push(g)}}const p=[u,h];return Ut(t)&&s.set(t,p),p}function sf(t){return t[0]!=="$"&&!Zr(t)}const du=t=>t==="_"||t==="_ctx"||t==="$stable",pu=t=>Tt(t)?t.map(an):[an(t)],G_=(t,n,i)=>{if(n._n)return n;const s=cr((...o)=>pu(n(...o)),i);return s._c=!1,s},Zd=(t,n,i)=>{const s=t._ctx;for(const o in t){if(du(o))continue;const l=t[o];if(Pt(l))n[o]=G_(o,l,s);else if(l!=null){const u=pu(l);n[o]=()=>u}}},Ud=(t,n)=>{const i=pu(n);t.slots.default=()=>i},Vd=(t,n,i)=>{for(const s in n)(i||!du(s))&&(t[s]=n[s])},$_=(t,n,i)=>{const s=t.slots=Dd();if(t.vnode.shapeFlag&32){const o=n._;o?(Vd(s,n,i),i&&Wh(s,"_",o,!0)):Zd(n,s)}else n&&Ud(t,n)},q_=(t,n,i)=>{const{vnode:s,slots:o}=t;let l=!0,u=Vt;if(s.shapeFlag&32){const h=n._;h?i&&h===1?l=!1:Vd(o,n,i):(l=!n.$stable,Zd(n,o)),u=n}else n&&(Ud(t,n),u={default:1});if(l)for(const h in o)!du(h)&&u[h]==null&&delete o[h]},ce=Q_;function K_(t){return Y_(t)}function Y_(t,n){const i=Uo();i.__VUE__=!0;const{insert:s,remove:o,patchProp:l,createElement:u,createText:h,createComment:f,setText:p,setElementText:m,parentNode:g,nextSibling:_,setScopeId:x=ln,insertStaticContent:O}=t,N=(v,w,E,K=null,X=null,S=null,W=void 0,et=null,ct=!!w.dynamicChildren)=>{if(v===w)return;v&&!Jn(v,w)&&(K=H(v),lt(v,X,S,!0),v=null),w.patchFlag===-2&&(ct=!1,w.dynamicChildren=null);const{type:it,ref:wt,shapeFlag:ht}=w;switch(it){case Yo:T(v,w,E,K);break;case ge:b(v,w,E,K);break;case Va:v==null&&P(w,E,K,W);break;case $t:J(v,w,E,K,X,S,W,et,ct);break;default:ht&1?V(v,w,E,K,X,S,W,et,ct):ht&6?ft(v,w,E,K,X,S,W,et,ct):(ht&64||ht&128)&&it.process(v,w,E,K,X,S,W,et,ct,rt)}wt!=null&&X?jr(wt,v&&v.ref,S,w||v,!w):wt==null&&v&&v.ref!=null&&jr(v.ref,null,S,v,!0)},T=(v,w,E,K)=>{if(v==null)s(w.el=h(w.children),E,K);else{const X=w.el=v.el;w.children!==v.children&&p(X,w.children)}},b=(v,w,E,K)=>{v==null?s(w.el=f(w.children||""),E,K):w.el=v.el},P=(v,w,E,K)=>{[v.el,v.anchor]=O(v.children,w,E,K,v.el,v.anchor)},C=({el:v,anchor:w},E,K)=>{let X;for(;v&&v!==w;)X=_(v),s(v,E,K),v=X;s(w,E,K)},k=({el:v,anchor:w})=>{let E;for(;v&&v!==w;)E=_(v),o(v),v=E;o(w)},V=(v,w,E,K,X,S,W,et,ct)=>{if(w.type==="svg"?W="svg":w.type==="math"&&(W="mathml"),v==null)F(w,E,K,X,S,W,et,ct);else{const it=v.el&&v.el._isVueCE?v.el:null;try{it&&it._beginPatch(),q(v,w,X,S,W,et,ct)}finally{it&&it._endPatch()}}},F=(v,w,E,K,X,S,W,et)=>{let ct,it;const{props:wt,shapeFlag:ht,transition:yt,dirs:St}=v;if(ct=v.el=u(v.type,S,wt&&wt.is,wt),ht&8?m(ct,v.children):ht&16&&tt(v.children,ct,null,K,X,Ua(v,S),W,et),St&&oi(v,null,K,"created"),j(ct,v,v.scopeId,W,K),wt){for(const Zt in wt)Zt!=="value"&&!Zr(Zt)&&l(ct,Zt,null,wt[Zt],S,K);"value"in wt&&l(ct,"value",null,wt.value,S),(it=wt.onVnodeBeforeMount)&&De(it,K,v)}St&&oi(v,null,K,"beforeMount");const Et=X_(X,yt);Et&&yt.beforeEnter(ct),s(ct,w,E),((it=wt&&wt.onVnodeMounted)||Et||St)&&ce(()=>{it&&De(it,K,v),Et&&yt.enter(ct),St&&oi(v,null,K,"mounted")},X)},j=(v,w,E,K,X)=>{if(E&&x(v,E),K)for(let S=0;S<K.length;S++)x(v,K[S]);if(X){let S=X.subTree;if(w===S||go(S.type)&&(S.ssContent===w||S.ssFallback===w)){const W=X.vnode;j(v,W,W.scopeId,W.slotScopeIds,X.parent)}}},tt=(v,w,E,K,X,S,W,et,ct=0)=>{for(let it=ct;it<v.length;it++){const wt=v[it]=et?Yn(v[it]):an(v[it]);N(null,wt,w,E,K,X,S,W,et)}},q=(v,w,E,K,X,S,W)=>{const et=w.el=v.el;let{patchFlag:ct,dynamicChildren:it,dirs:wt}=w;ct|=v.patchFlag&16;const ht=v.props||Vt,yt=w.props||Vt;let St;if(E&&ai(E,!1),(St=yt.onVnodeBeforeUpdate)&&De(St,E,w,v),wt&&oi(w,v,E,"beforeUpdate"),E&&ai(E,!0),(ht.innerHTML&&yt.innerHTML==null||ht.textContent&&yt.textContent==null)&&m(et,""),it?nt(v.dynamicChildren,it,et,E,K,Ua(w,X),S):W||D(v,w,et,null,E,K,Ua(w,X),S,!1),ct>0){if(ct&16)Y(et,ht,yt,E,X);else if(ct&2&&ht.class!==yt.class&&l(et,"class",null,yt.class,X),ct&4&&l(et,"style",ht.style,yt.style,X),ct&8){const Et=w.dynamicProps;for(let Zt=0;Zt<Et.length;Zt++){const zt=Et[Zt],fe=ht[zt],le=yt[zt];(le!==fe||zt==="value")&&l(et,zt,fe,le,X,E)}}ct&1&&v.children!==w.children&&m(et,w.children)}else!W&&it==null&&Y(et,ht,yt,E,X);((St=yt.onVnodeUpdated)||wt)&&ce(()=>{St&&De(St,E,w,v),wt&&oi(w,v,E,"updated")},K)},nt=(v,w,E,K,X,S,W)=>{for(let et=0;et<w.length;et++){const ct=v[et],it=w[et],wt=ct.el&&(ct.type===$t||!Jn(ct,it)||ct.shapeFlag&198)?g(ct.el):E;N(ct,it,wt,null,K,X,S,W,!0)}},Y=(v,w,E,K,X)=>{if(w!==E){if(w!==Vt)for(const S in w)!Zr(S)&&!(S in E)&&l(v,S,w[S],null,X,K);for(const S in E){if(Zr(S))continue;const W=E[S],et=w[S];W!==et&&S!=="value"&&l(v,S,et,W,X,K)}"value"in E&&l(v,"value",w.value,E.value,X)}},J=(v,w,E,K,X,S,W,et,ct)=>{const it=w.el=v?v.el:h(""),wt=w.anchor=v?v.anchor:h("");let{patchFlag:ht,dynamicChildren:yt,slotScopeIds:St}=w;St&&(et=et?et.concat(St):St),v==null?(s(it,E,K),s(wt,E,K),tt(w.children||[],E,wt,X,S,W,et,ct)):ht>0&&ht&64&&yt&&v.dynamicChildren&&v.dynamicChildren.length===yt.length?(nt(v.dynamicChildren,yt,E,X,S,W,et),(w.key!=null||X&&w===X.subTree)&&Wd(v,w,!0)):D(v,w,E,wt,X,S,W,et,ct)},ft=(v,w,E,K,X,S,W,et,ct)=>{w.slotScopeIds=et,v==null?w.shapeFlag&512?X.ctx.activate(w,E,K,W,ct):A(w,E,K,X,S,W,ct):at(v,w,ct)},A=(v,w,E,K,X,S,W)=>{const et=v.component=sv(v,K,X);if(Go(v)&&(et.ctx.renderer=rt),ov(et,!1,W),et.asyncDep){if(X&&X.registerDep(et,z,W),!v.el){const ct=et.subTree=Nt(ge);b(null,ct,w,E),v.placeholder=ct.el}}else z(et,v,w,E,X,S,W)},at=(v,w,E)=>{const K=w.component=v.component;if(Z_(v,w,E))if(K.asyncDep&&!K.asyncResolved){G(K,w,E);return}else K.next=w,K.update();else w.el=v.el,K.vnode=w},z=(v,w,E,K,X,S,W)=>{const et=()=>{if(v.isMounted){let{next:ht,bu:yt,u:St,parent:Et,vnode:Zt}=v;{const Ee=jd(v);if(Ee){ht&&(ht.el=Zt.el,G(v,ht,W)),Ee.asyncDep.then(()=>{v.isUnmounted||et()});return}}let zt=ht,fe;ai(v,!1),ht?(ht.el=Zt.el,G(v,ht,W)):ht=Zt,yt&&Gi(yt),(fe=ht.props&&ht.props.onVnodeBeforeUpdate)&&De(fe,Et,ht,Zt),ai(v,!0);const le=nf(v),Me=v.subTree;v.subTree=le,N(Me,le,g(Me.el),H(Me),v,X,S),ht.el=le.el,zt===null&&U_(v,le.el),St&&ce(St,X),(fe=ht.props&&ht.props.onVnodeUpdated)&&ce(()=>De(fe,Et,ht,Zt),X)}else{let ht;const{el:yt,props:St}=w,{bm:Et,m:Zt,parent:zt,root:fe,type:le}=v,Me=gi(w);ai(v,!1),Et&&Gi(Et),!Me&&(ht=St&&St.onVnodeBeforeMount)&&De(ht,zt,w),ai(v,!0);{fe.ce&&fe.ce._def.shadowRoot!==!1&&fe.ce._injectChildStyle(le);const Ee=v.subTree=nf(v);N(null,Ee,E,K,v,X,S),w.el=Ee.el}if(Zt&&ce(Zt,X),!Me&&(ht=St&&St.onVnodeMounted)){const Ee=w;ce(()=>De(ht,zt,Ee),X)}(w.shapeFlag&256||zt&&gi(zt.vnode)&&zt.vnode.shapeFlag&256)&&v.a&&ce(v.a,X),v.isMounted=!0,w=E=K=null}};v.scope.on();const ct=v.effect=new Kh(et);v.scope.off();const it=v.update=ct.run.bind(ct),wt=v.job=ct.runIfDirty.bind(ct);wt.i=v,wt.id=v.uid,ct.scheduler=()=>fu(wt),ai(v,!0),it()},G=(v,w,E)=>{w.component=v;const K=v.vnode.props;v.vnode=w,v.next=null,W_(v,w.props,K,E),q_(v,w.children,E),On(),qc(v),In()},D=(v,w,E,K,X,S,W,et,ct=!1)=>{const it=v&&v.children,wt=v?v.shapeFlag:0,ht=w.children,{patchFlag:yt,shapeFlag:St}=w;if(yt>0){if(yt&128){B(it,ht,E,K,X,S,W,et,ct);return}else if(yt&256){Q(it,ht,E,K,X,S,W,et,ct);return}}St&8?(wt&16&&pt(it,X,S),ht!==it&&m(E,ht)):wt&16?St&16?B(it,ht,E,K,X,S,W,et,ct):pt(it,X,S,!0):(wt&8&&m(E,""),St&16&&tt(ht,E,K,X,S,W,et,ct))},Q=(v,w,E,K,X,S,W,et,ct)=>{v=v||Wi,w=w||Wi;const it=v.length,wt=w.length,ht=Math.min(it,wt);let yt;for(yt=0;yt<ht;yt++){const St=w[yt]=ct?Yn(w[yt]):an(w[yt]);N(v[yt],St,E,null,X,S,W,et,ct)}it>wt?pt(v,X,S,!0,!1,ht):tt(w,E,K,X,S,W,et,ct,ht)},B=(v,w,E,K,X,S,W,et,ct)=>{let it=0;const wt=w.length;let ht=v.length-1,yt=wt-1;for(;it<=ht&&it<=yt;){const St=v[it],Et=w[it]=ct?Yn(w[it]):an(w[it]);if(Jn(St,Et))N(St,Et,E,null,X,S,W,et,ct);else break;it++}for(;it<=ht&&it<=yt;){const St=v[ht],Et=w[yt]=ct?Yn(w[yt]):an(w[yt]);if(Jn(St,Et))N(St,Et,E,null,X,S,W,et,ct);else break;ht--,yt--}if(it>ht){if(it<=yt){const St=yt+1,Et=St<wt?w[St].el:K;for(;it<=yt;)N(null,w[it]=ct?Yn(w[it]):an(w[it]),E,Et,X,S,W,et,ct),it++}}else if(it>yt)for(;it<=ht;)lt(v[it],X,S,!0),it++;else{const St=it,Et=it,Zt=new Map;for(it=Et;it<=yt;it++){const he=w[it]=ct?Yn(w[it]):an(w[it]);he.key!=null&&Zt.set(he.key,it)}let zt,fe=0;const le=yt-Et+1;let Me=!1,Ee=0;const Zn=new Array(le);for(it=0;it<le;it++)Zn[it]=0;for(it=St;it<=ht;it++){const he=v[it];if(fe>=le){lt(he,X,S,!0);continue}let Oe;if(he.key!=null)Oe=Zt.get(he.key);else for(zt=Et;zt<=yt;zt++)if(Zn[zt-Et]===0&&Jn(he,w[zt])){Oe=zt;break}Oe===void 0?lt(he,X,S,!0):(Zn[Oe-Et]=it+1,Oe>=Ee?Ee=Oe:Me=!0,N(he,w[Oe],E,null,X,S,W,et,ct),fe++)}const Ci=Me?J_(Zn):Wi;for(zt=Ci.length-1,it=le-1;it>=0;it--){const he=Et+it,Oe=w[he],Un=w[he+1],ms=he+1<wt?Un.el||Gd(Un):K;Zn[it]===0?N(null,Oe,E,ms,X,S,W,et,ct):Me&&(zt<0||it!==Ci[zt]?st(Oe,E,ms,2):zt--)}}},st=(v,w,E,K,X=null)=>{const{el:S,type:W,transition:et,children:ct,shapeFlag:it}=v;if(it&6){st(v.component.subTree,w,E,K);return}if(it&128){v.suspense.move(w,E,K);return}if(it&64){W.move(v,w,E,rt);return}if(W===$t){s(S,w,E);for(let ht=0;ht<ct.length;ht++)st(ct[ht],w,E,K);s(v.anchor,w,E);return}if(W===Va){C(v,w,E);return}if(K!==2&&it&1&&et)if(K===0)et.beforeEnter(S),s(S,w,E),ce(()=>et.enter(S),X);else{const{leave:ht,delayLeave:yt,afterLeave:St}=et,Et=()=>{v.ctx.isUnmounted?o(S):s(S,w,E)},Zt=()=>{S._isLeaving&&S[Cn](!0),ht(S,()=>{Et(),St&&St()})};yt?yt(S,Et,Zt):Zt()}else s(S,w,E)},lt=(v,w,E,K=!1,X=!1)=>{const{type:S,props:W,ref:et,children:ct,dynamicChildren:it,shapeFlag:wt,patchFlag:ht,dirs:yt,cacheIndex:St}=v;if(ht===-2&&(X=!1),et!=null&&(On(),jr(et,null,E,v,!0),In()),St!=null&&(w.renderCache[St]=void 0),wt&256){w.ctx.deactivate(v);return}const Et=wt&1&&yt,Zt=!gi(v);let zt;if(Zt&&(zt=W&&W.onVnodeBeforeUnmount)&&De(zt,w,v),wt&6)_t(v.component,E,K);else{if(wt&128){v.suspense.unmount(E,K);return}Et&&oi(v,null,w,"beforeUnmount"),wt&64?v.type.remove(v,w,E,rt,K):it&&!it.hasOnce&&(S!==$t||ht>0&&ht&64)?pt(it,w,E,!1,!0):(S===$t&&ht&384||!X&&wt&16)&&pt(ct,w,E),K&&bt(v)}(Zt&&(zt=W&&W.onVnodeUnmounted)||Et)&&ce(()=>{zt&&De(zt,w,v),Et&&oi(v,null,w,"unmounted")},E)},bt=v=>{const{type:w,el:E,anchor:K,transition:X}=v;if(w===$t){vt(E,K);return}if(w===Va){k(v);return}const S=()=>{o(E),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(v.shapeFlag&1&&X&&!X.persisted){const{leave:W,delayLeave:et}=X,ct=()=>W(E,S);et?et(v.el,S,ct):ct()}else S()},vt=(v,w)=>{let E;for(;v!==w;)E=_(v),o(v),v=E;o(w)},_t=(v,w,E)=>{const{bum:K,scope:X,job:S,subTree:W,um:et,m:ct,a:it}=v;mo(ct),mo(it),K&&Gi(K),X.stop(),S&&(S.flags|=8,lt(W,v,w,E)),et&&ce(et,w),ce(()=>{v.isUnmounted=!0},w)},pt=(v,w,E,K=!1,X=!1,S=0)=>{for(let W=S;W<v.length;W++)lt(v[W],w,E,K,X)},H=v=>{if(v.shapeFlag&6)return H(v.component.subTree);if(v.shapeFlag&128)return v.suspense.next();const w=_(v.anchor||v.el),E=w&&w[h_];return E?_(E):w};let ut=!1;const Z=(v,w,E)=>{let K;v==null?w._vnode&&(lt(w._vnode,null,null,!0),K=w._vnode.component):N(w._vnode||null,v,w,null,null,null,E),w._vnode=v,ut||(ut=!0,qc(K),pd(),ut=!1)},rt={p:N,um:lt,m:st,r:bt,mt:A,mc:tt,pc:D,pbc:nt,n:H,o:t};return{render:Z,hydrate:void 0,createApp:z_(Z)}}function Ua({type:t,props:n},i){return i==="svg"&&t==="foreignObject"||i==="mathml"&&t==="annotation-xml"&&n&&n.encoding&&n.encoding.includes("html")?void 0:i}function ai({effect:t,job:n},i){i?(t.flags|=32,n.flags|=4):(t.flags&=-33,n.flags&=-5)}function X_(t,n){return(!t||t&&!t.pendingBranch)&&n&&!n.persisted}function Wd(t,n,i=!1){const s=t.children,o=n.children;if(Tt(s)&&Tt(o))for(let l=0;l<s.length;l++){const u=s[l];let h=o[l];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=o[l]=Yn(o[l]),h.el=u.el),!i&&h.patchFlag!==-2&&Wd(u,h)),h.type===Yo&&(h.patchFlag!==-1?h.el=u.el:h.__elIndex=l+(t.type===$t?1:0)),h.type===ge&&!h.el&&(h.el=u.el)}}function J_(t){const n=t.slice(),i=[0];let s,o,l,u,h;const f=t.length;for(s=0;s<f;s++){const p=t[s];if(p!==0){if(o=i[i.length-1],t[o]<p){n[s]=o,i.push(s);continue}for(l=0,u=i.length-1;l<u;)h=l+u>>1,t[i[h]]<p?l=h+1:u=h;p<t[i[l]]&&(l>0&&(n[s]=i[l-1]),i[l]=s)}}for(l=i.length,u=i[l-1];l-- >0;)i[l]=u,u=n[u];return i}function jd(t){const n=t.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:jd(n)}function mo(t){if(t)for(let n=0;n<t.length;n++)t[n].flags|=8}function Gd(t){if(t.placeholder)return t.placeholder;const n=t.component;return n?Gd(n.subTree):null}const go=t=>t.__isSuspense;function Q_(t,n){n&&n.pendingBranch?Tt(t)?n.effects.push(...t):n.effects.push(t):l_(t)}const $t=Symbol.for("v-fgt"),Yo=Symbol.for("v-txt"),ge=Symbol.for("v-cmt"),Va=Symbol.for("v-stc"),$r=[];let Ae=null;function dt(t=!1){$r.push(Ae=t?null:[])}function tv(){$r.pop(),Ae=$r[$r.length-1]||null}let ts=1;function _o(t,n=!1){ts+=t,t<0&&Ae&&n&&(Ae.hasOnce=!0)}function $d(t){return t.dynamicChildren=ts>0?Ae||Wi:null,tv(),ts>0&&Ae&&Ae.push(t),t}function gt(t,n,i,s,o,l){return $d(I(t,n,i,s,o,l,!0))}function tr(t,n,i,s,o){return $d(Nt(t,n,i,s,o,!0))}function es(t){return t?t.__v_isVNode===!0:!1}function Jn(t,n){return t.type===n.type&&t.key===n.key}const qd=({key:t})=>t??null,eo=({ref:t,ref_key:n,ref_for:i})=>(typeof t=="number"&&(t=""+t),t!=null?Kt(t)||ve(t)||Pt(t)?{i:ke,r:t,k:n,f:!!i}:t:null);function I(t,n=null,i=null,s=0,o=null,l=t===$t?0:1,u=!1,h=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&qd(n),ref:n&&eo(n),scopeId:gd,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:ke};return h?(_u(f,i),l&128&&t.normalize(f)):i&&(f.shapeFlag|=Kt(i)?8:16),ts>0&&!u&&Ae&&(f.patchFlag>0||l&6)&&f.patchFlag!==32&&Ae.push(f),f}const Nt=ev;function ev(t,n=null,i=null,s=0,o=null,l=!1){if((!t||t===Ld)&&(t=ge),es(t)){const h=zn(t,n,!0);return i&&_u(h,i),ts>0&&!l&&Ae&&(h.shapeFlag&6?Ae[Ae.indexOf(t)]=h:Ae.push(h)),h.patchFlag=-2,h}if(cv(t)&&(t=t.__vccOpts),n){n=mu(n);let{class:h,style:f}=n;h&&!Kt(h)&&(n.class=Qt(h)),Ut(f)&&(uu(f)&&!Tt(f)&&(f=oe({},f)),n.style=Fe(f))}const u=Kt(t)?1:go(t)?128:yd(t)?64:Ut(t)?4:Pt(t)?2:0;return I(t,n,i,s,o,u,l,!0)}function mu(t){return t?uu(t)||Bd(t)?oe({},t):t:null}function zn(t,n,i=!1,s=!1){const{props:o,ref:l,patchFlag:u,children:h,transition:f}=t,p=n?nv(o||{},n):o,m={__v_isVNode:!0,__v_skip:!0,type:t.type,props:p,key:p&&qd(p),ref:n&&n.ref?i&&l?Tt(l)?l.concat(eo(n)):[l,eo(n)]:eo(n):l,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:h,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==$t?u===-1?16:u|16:u,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:f,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&zn(t.ssContent),ssFallback:t.ssFallback&&zn(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return f&&s&&Qi(m,f.clone(m)),m}function gu(t=" ",n=0){return Nt(Yo,null,t,n)}function Gt(t="",n=!1){return n?(dt(),tr(ge,null,t)):Nt(ge,null,t)}function an(t){return t==null||typeof t=="boolean"?Nt(ge):Tt(t)?Nt($t,null,t.slice()):es(t)?Yn(t):Nt(Yo,null,String(t))}function Yn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:zn(t)}function _u(t,n){let i=0;const{shapeFlag:s}=t;if(n==null)n=null;else if(Tt(n))i=16;else if(typeof n=="object")if(s&65){const o=n.default;o&&(o._c&&(o._d=!1),_u(t,o()),o._c&&(o._d=!0));return}else{i=32;const o=n._;!o&&!Bd(n)?n._ctx=ke:o===3&&ke&&(ke.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else Pt(n)?(n={default:n,_ctx:ke},i=32):(n=String(n),s&64?(i=16,n=[gu(n)]):i=8);t.children=n,t.shapeFlag|=i}function nv(...t){const n={};for(let i=0;i<t.length;i++){const s=t[i];for(const o in s)if(o==="class")n.class!==s.class&&(n.class=Qt([n.class,s.class]));else if(o==="style")n.style=Fe([n.style,s.style]);else if(Do(o)){const l=n[o],u=s[o];u&&l!==u&&!(Tt(l)&&l.includes(u))&&(n[o]=l?[].concat(l,u):u)}else o!==""&&(n[o]=s[o])}return n}function De(t,n,i,s=null){Xe(t,n,7,[i,s])}const iv=Nd();let rv=0;function sv(t,n,i){const s=t.type,o=(n?n.appContext:t.appContext)||iv,l={uid:rv++,vnode:t,type:s,parent:n,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ig(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(o.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Hd(s,o),emitsOptions:zd(s,o),emit:null,emitted:null,propsDefaults:Vt,inheritAttrs:s.inheritAttrs,ctx:Vt,data:Vt,props:Vt,attrs:Vt,slots:Vt,refs:Vt,setupState:Vt,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=n?n.root:l,l.emit=D_.bind(null,l),t.ce&&t.ce(l),l}let _e=null;const vu=()=>_e||ke;let vo,Ml;{const t=Uo(),n=(i,s)=>{let o;return(o=t[i])||(o=t[i]=[]),o.push(s),l=>{o.length>1?o.forEach(u=>u(l)):o[0](l)}};vo=n("__VUE_INSTANCE_SETTERS__",i=>_e=i),Ml=n("__VUE_SSR_SETTERS__",i=>ns=i)}const fs=t=>{const n=_e;return vo(t),t.scope.on(),()=>{t.scope.off(),vo(n)}},of=()=>{_e&&_e.scope.off(),vo(null)};function Kd(t){return t.vnode.shapeFlag&4}let ns=!1;function ov(t,n=!1,i=!1){n&&Ml(n);const{props:s,children:o}=t.vnode,l=Kd(t);V_(t,s,l,n),$_(t,o,i||n);const u=l?av(t,n):void 0;return n&&Ml(!1),u}function av(t,n){const i=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,k_);const{setup:s}=i;if(s){On();const o=t.setupContext=s.length>1?uv(t):null,l=fs(t),u=us(s,t,0,[t.props,o]),h=Zh(u);if(In(),l(),(h||t.sp)&&!gi(t)&&Pd(t),h){if(u.then(of,of),n)return u.then(f=>{af(t,f)}).catch(f=>{jo(f,t,0)});t.asyncDep=u}else af(t,u)}else Yd(t)}function af(t,n,i){Pt(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:Ut(n)&&(t.setupState=fd(n)),Yd(t)}function Yd(t,n,i){const s=t.type;t.render||(t.render=s.render||ln);{const o=fs(t);On();try{A_(t)}finally{In(),o()}}}const lv={get(t,n){return me(t,"get",""),t[n]}};function uv(t){const n=i=>{t.exposed=i||{}};return{attrs:new Proxy(t.attrs,lv),slots:t.slots,emit:t.emit,expose:n}}function Xo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(fd(Qg(t.exposed)),{get(n,i){if(i in n)return n[i];if(i in Gr)return Gr[i](t)},has(n,i){return i in n||i in Gr}})):t.proxy}function kl(t,n=!0){return Pt(t)?t.displayName||t.name:t.name||n&&t.__name}function cv(t){return Pt(t)&&"__vccOpts"in t}const qt=(t,n)=>i_(t,n,ns);function yu(t,n,i){try{_o(-1);const s=arguments.length;return s===2?Ut(n)&&!Tt(n)?es(n)?Nt(t,null,[n]):Nt(t,n):Nt(t,null,n):(s>3?i=Array.prototype.slice.call(arguments,2):s===3&&es(i)&&(i=[i]),Nt(t,n,i))}finally{_o(1)}}const fv="3.5.26";let Al;const lf=typeof window<"u"&&window.trustedTypes;if(lf)try{Al=lf.createPolicy("vue",{createHTML:t=>t})}catch{}const Xd=Al?t=>Al.createHTML(t):t=>t,hv="http://www.w3.org/2000/svg",dv="http://www.w3.org/1998/Math/MathML",Tn=typeof document<"u"?document:null,uf=Tn&&Tn.createElement("template"),pv={insert:(t,n,i)=>{n.insertBefore(t,i||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,i,s)=>{const o=n==="svg"?Tn.createElementNS(hv,t):n==="mathml"?Tn.createElementNS(dv,t):i?Tn.createElement(t,{is:i}):Tn.createElement(t);return t==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:t=>Tn.createTextNode(t),createComment:t=>Tn.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Tn.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,i,s,o,l){const u=i?i.previousSibling:n.lastChild;if(o&&(o===l||o.nextSibling))for(;n.insertBefore(o.cloneNode(!0),i),!(o===l||!(o=o.nextSibling)););else{uf.innerHTML=Xd(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const h=uf.content;if(s==="svg"||s==="mathml"){const f=h.firstChild;for(;f.firstChild;)h.appendChild(f.firstChild);h.removeChild(f)}n.insertBefore(h,i)}return[u?u.nextSibling:n.firstChild,i?i.previousSibling:n.lastChild]}},jn="transition",Sr="animation",is=Symbol("_vtc"),Jd={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},mv=oe({},xd,Jd),gv=t=>(t.displayName="Transition",t.props=mv,t),Qd=gv((t,{slots:n})=>yu(m_,_v(t),n)),li=(t,n=[])=>{Tt(t)?t.forEach(i=>i(...n)):t&&t(...n)},cf=t=>t?Tt(t)?t.some(n=>n.length>1):t.length>1:!1;function _v(t){const n={};for(const J in t)J in Jd||(n[J]=t[J]);if(t.css===!1)return n;const{name:i="v",type:s,duration:o,enterFromClass:l=`${i}-enter-from`,enterActiveClass:u=`${i}-enter-active`,enterToClass:h=`${i}-enter-to`,appearFromClass:f=l,appearActiveClass:p=u,appearToClass:m=h,leaveFromClass:g=`${i}-leave-from`,leaveActiveClass:_=`${i}-leave-active`,leaveToClass:x=`${i}-leave-to`}=t,O=vv(o),N=O&&O[0],T=O&&O[1],{onBeforeEnter:b,onEnter:P,onEnterCancelled:C,onLeave:k,onLeaveCancelled:V,onBeforeAppear:F=b,onAppear:j=P,onAppearCancelled:tt=C}=n,q=(J,ft,A,at)=>{J._enterCancelled=at,ui(J,ft?m:h),ui(J,ft?p:u),A&&A()},nt=(J,ft)=>{J._isLeaving=!1,ui(J,g),ui(J,x),ui(J,_),ft&&ft()},Y=J=>(ft,A)=>{const at=J?j:P,z=()=>q(ft,J,A);li(at,[ft,z]),ff(()=>{ui(ft,J?f:l),vn(ft,J?m:h),cf(at)||hf(ft,s,N,z)})};return oe(n,{onBeforeEnter(J){li(b,[J]),vn(J,l),vn(J,u)},onBeforeAppear(J){li(F,[J]),vn(J,f),vn(J,p)},onEnter:Y(!1),onAppear:Y(!0),onLeave(J,ft){J._isLeaving=!0;const A=()=>nt(J,ft);vn(J,g),J._enterCancelled?(vn(J,_),mf(J)):(mf(J),vn(J,_)),ff(()=>{J._isLeaving&&(ui(J,g),vn(J,x),cf(k)||hf(J,s,T,A))}),li(k,[J,A])},onEnterCancelled(J){q(J,!1,void 0,!0),li(C,[J])},onAppearCancelled(J){q(J,!0,void 0,!0),li(tt,[J])},onLeaveCancelled(J){nt(J),li(V,[J])}})}function vv(t){if(t==null)return null;if(Ut(t))return[Wa(t.enter),Wa(t.leave)];{const n=Wa(t);return[n,n]}}function Wa(t){return Cg(t)}function vn(t,n){n.split(/\s+/).forEach(i=>i&&t.classList.add(i)),(t[is]||(t[is]=new Set)).add(n)}function ui(t,n){n.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const i=t[is];i&&(i.delete(n),i.size||(t[is]=void 0))}function ff(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let yv=0;function hf(t,n,i,s){const o=t._endId=++yv,l=()=>{o===t._endId&&s()};if(i!=null)return setTimeout(l,i);const{type:u,timeout:h,propCount:f}=xv(t,n);if(!u)return s();const p=u+"end";let m=0;const g=()=>{t.removeEventListener(p,_),l()},_=x=>{x.target===t&&++m>=f&&g()};setTimeout(()=>{m<f&&g()},h+1),t.addEventListener(p,_)}function xv(t,n){const i=window.getComputedStyle(t),s=O=>(i[O]||"").split(", "),o=s(`${jn}Delay`),l=s(`${jn}Duration`),u=df(o,l),h=s(`${Sr}Delay`),f=s(`${Sr}Duration`),p=df(h,f);let m=null,g=0,_=0;n===jn?u>0&&(m=jn,g=u,_=l.length):n===Sr?p>0&&(m=Sr,g=p,_=f.length):(g=Math.max(u,p),m=g>0?u>p?jn:Sr:null,_=m?m===jn?l.length:f.length:0);const x=m===jn&&/\b(?:transform|all)(?:,|$)/.test(s(`${jn}Property`).toString());return{type:m,timeout:g,propCount:_,hasTransform:x}}function df(t,n){for(;t.length<n.length;)t=t.concat(t);return Math.max(...n.map((i,s)=>pf(i)+pf(t[s])))}function pf(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function mf(t){return(t?t.ownerDocument:document).body.offsetHeight}function wv(t,n,i){const s=t[is];s&&(n=(n?[n,...s]:[...s]).join(" ")),n==null?t.removeAttribute("class"):i?t.setAttribute("class",n):t.className=n}const gf=Symbol("_vod"),bv=Symbol("_vsh"),Tv=Symbol(""),Cv=/(?:^|;)\s*display\s*:/;function Sv(t,n,i){const s=t.style,o=Kt(i);let l=!1;if(i&&!o){if(n)if(Kt(n))for(const u of n.split(";")){const h=u.slice(0,u.indexOf(":")).trim();i[h]==null&&no(s,h,"")}else for(const u in n)i[u]==null&&no(s,u,"");for(const u in i)u==="display"&&(l=!0),no(s,u,i[u])}else if(o){if(n!==i){const u=s[Tv];u&&(i+=";"+u),s.cssText=i,l=Cv.test(i)}}else n&&t.removeAttribute("style");gf in t&&(t[gf]=l?s.display:"",t[bv]&&(s.display="none"))}const _f=/\s*!important$/;function no(t,n,i){if(Tt(i))i.forEach(s=>no(t,n,s));else if(i==null&&(i=""),n.startsWith("--"))t.setProperty(n,i);else{const s=Pv(t,n);_f.test(i)?t.setProperty(xi(s),i.replace(_f,""),"important"):t[s]=i}}const vf=["Webkit","Moz","ms"],ja={};function Pv(t,n){const i=ja[n];if(i)return i;let s=Ve(n);if(s!=="filter"&&s in t)return ja[n]=s;s=Ho(s);for(let o=0;o<vf.length;o++){const l=vf[o]+s;if(l in t)return ja[n]=l}return n}const yf="http://www.w3.org/1999/xlink";function xf(t,n,i,s,o,l=Lg(n)){s&&n.startsWith("xlink:")?i==null?t.removeAttributeNS(yf,n.slice(6,n.length)):t.setAttributeNS(yf,n,i):i==null||l&&!Gh(i)?t.removeAttribute(n):t.setAttribute(n,l?"":fn(i)?String(i):i)}function wf(t,n,i,s,o){if(n==="innerHTML"||n==="textContent"){i!=null&&(t[n]=n==="innerHTML"?Xd(i):i);return}const l=t.tagName;if(n==="value"&&l!=="PROGRESS"&&!l.includes("-")){const h=l==="OPTION"?t.getAttribute("value")||"":t.value,f=i==null?t.type==="checkbox"?"on":"":String(i);(h!==f||!("_value"in t))&&(t.value=f),i==null&&t.removeAttribute(n),t._value=i;return}let u=!1;if(i===""||i==null){const h=typeof t[n];h==="boolean"?i=Gh(i):i==null&&h==="string"?(i="",u=!0):h==="number"&&(i=0,u=!0)}try{t[n]=i}catch{}u&&t.removeAttribute(o||n)}function fi(t,n,i,s){t.addEventListener(n,i,s)}function Mv(t,n,i,s){t.removeEventListener(n,i,s)}const bf=Symbol("_vei");function kv(t,n,i,s,o=null){const l=t[bf]||(t[bf]={}),u=l[n];if(s&&u)u.value=s;else{const[h,f]=Av(n);if(s){const p=l[n]=Ov(s,o);fi(t,h,p,f)}else u&&(Mv(t,h,u,f),l[n]=void 0)}}const Tf=/(?:Once|Passive|Capture)$/;function Av(t){let n;if(Tf.test(t)){n={};let s;for(;s=t.match(Tf);)t=t.slice(0,t.length-s[0].length),n[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):xi(t.slice(2)),n]}let Ga=0;const Lv=Promise.resolve(),Ev=()=>Ga||(Lv.then(()=>Ga=0),Ga=Date.now());function Ov(t,n){const i=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=i.attached)return;Xe(Iv(s,i.value),n,5,[s])};return i.value=t,i.attached=Ev(),i}function Iv(t,n){if(Tt(n)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},n.map(s=>o=>!o._stopped&&s&&s(o))}else return n}const Cf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Nv=(t,n,i,s,o,l)=>{const u=o==="svg";n==="class"?wv(t,s,u):n==="style"?Sv(t,i,s):Do(n)?tu(n)||kv(t,n,i,s,l):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):zv(t,n,s,u))?(wf(t,n,s),!t.tagName.includes("-")&&(n==="value"||n==="checked"||n==="selected")&&xf(t,n,s,u,l,n!=="value")):t._isVueCE&&(/[A-Z]/.test(n)||!Kt(s))?wf(t,Ve(n),s,l,n):(n==="true-value"?t._trueValue=s:n==="false-value"&&(t._falseValue=s),xf(t,n,s,u))};function zv(t,n,i,s){if(s)return!!(n==="innerHTML"||n==="textContent"||n in t&&Cf(n)&&Pt(i));if(n==="spellcheck"||n==="draggable"||n==="translate"||n==="autocorrect"||n==="sandbox"&&t.tagName==="IFRAME"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA")return!1;if(n==="width"||n==="height"){const o=t.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Cf(n)&&Kt(i)?!1:n in t}const yo=t=>{const n=t.props["onUpdate:modelValue"]||!1;return Tt(n)?i=>Gi(n,i):n};function Rv(t){t.target.composing=!0}function Sf(t){const n=t.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const Ki=Symbol("_assign");function Pf(t,n,i){return n&&(t=t.trim()),i&&(t=Zo(t)),t}const Mf={created(t,{modifiers:{lazy:n,trim:i,number:s}},o){t[Ki]=yo(o);const l=s||o.props&&o.props.type==="number";fi(t,n?"change":"input",u=>{u.target.composing||t[Ki](Pf(t.value,i,l))}),(i||l)&&fi(t,"change",()=>{t.value=Pf(t.value,i,l)}),n||(fi(t,"compositionstart",Rv),fi(t,"compositionend",Sf),fi(t,"change",Sf))},mounted(t,{value:n}){t.value=n??""},beforeUpdate(t,{value:n,oldValue:i,modifiers:{lazy:s,trim:o,number:l}},u){if(t[Ki]=yo(u),t.composing)return;const h=(l||t.type==="number")&&!/^0\d/.test(t.value)?Zo(t.value):t.value,f=n??"";h!==f&&(document.activeElement===t&&t.type!=="range"&&(s&&n===i||o&&t.value.trim()===f)||(t.value=f))}},$a={deep:!0,created(t,{value:n,modifiers:{number:i}},s){const o=Bo(n);fi(t,"change",()=>{const l=Array.prototype.filter.call(t.options,u=>u.selected).map(u=>i?Zo(xo(u)):xo(u));t[Ki](t.multiple?o?new Set(l):l:l[0]),t._assigning=!0,wi(()=>{t._assigning=!1})}),t[Ki]=yo(s)},mounted(t,{value:n}){kf(t,n)},beforeUpdate(t,n,i){t[Ki]=yo(i)},updated(t,{value:n}){t._assigning||kf(t,n)}};function kf(t,n){const i=t.multiple,s=Tt(n);if(!(i&&!s&&!Bo(n))){for(let o=0,l=t.options.length;o<l;o++){const u=t.options[o],h=xo(u);if(i)if(s){const f=typeof h;f==="string"||f==="number"?u.selected=n.some(p=>String(p)===String(h)):u.selected=Og(n,h)>-1}else u.selected=n.has(h);else if(Vo(xo(u),n)){t.selectedIndex!==o&&(t.selectedIndex=o);return}}!i&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function xo(t){return"_value"in t?t._value:t.value}const Dv=["ctrl","shift","alt","meta"],Bv={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,n)=>Dv.some(i=>t[`${i}Key`]&&!n.includes(i))},Fv=(t,n)=>{const i=t._withMods||(t._withMods={}),s=n.join(".");return i[s]||(i[s]=((o,...l)=>{for(let u=0;u<n.length;u++){const h=Bv[n[u]];if(h&&h(o,n))return}return t(o,...l)}))},Hv=oe({patchProp:Nv},pv);let Af;function Zv(){return Af||(Af=K_(Hv))}const Uv=((...t)=>{const n=Zv().createApp(...t),{mount:i}=n;return n.mount=s=>{const o=Wv(s);if(!o)return;const l=n._component;!Pt(l)&&!l.render&&!l.template&&(l.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const u=i(o,!1,Vv(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),u},n});function Vv(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Wv(t){return Kt(t)?document.querySelector(t):t}const jv="/VisualAnalytics2025/assets/fisheye-icon.svg",fr=(t,n)=>{const i=t.__vccOpts||t;for(const[s,o]of n)i[s]=o;return i},Gv=["src","alt"],$v={class:"font-medium tracking-wide relative z-10"},qv={__name:"Button",props:{to:{type:String,required:!0},icon:{type:String,required:!0},label:{type:String,required:!0}},setup(t){return(n,i)=>{const s=hu("router-link");return dt(),tr(s,{to:t.to,class:"btn-glass group"},{default:cr(()=>[I("img",{src:t.icon,alt:t.label+" icon",class:"w-3.5 h-3.5 transition-opacity duration-200 opacity-60 group-hover:opacity-100 group-[.router-link-active]:opacity-100"},null,8,Gv),I("span",$v,Lt(t.label),1)]),_:1},8,["to"])}}},qa=fr(qv,[["__scopeId","data-v-c9933804"]]),Kv={class:"sticky top-0 z-50 w-full px-6 py-3 flex items-center justify-between border-b border-white/10 shadow-lg navbar-bg"},Yv={class:"flex items-center select-none"},Xv={class:"flex items-center gap-3"},Jv={__name:"Navbar",setup(t){return(n,i)=>{const s=hu("router-link");return dt(),gt("nav",Kv,[I("div",Yv,[Nt(s,{to:"/",class:"inline-flex items-center gap-3 group focus:outline-none"},{default:cr(()=>[...i[0]||(i[0]=[I("img",{src:jv,alt:"FishEye icon",class:"w-8 h-8 group-hover:scale-110 transition-transform duration-300"},null,-1),I("div",{class:"flex flex-col"},[I("span",{class:"text-white font-bold text-lg leading-none tracking-wide"}," FishEye "),I("span",{class:"text-[10px] text-blue-200 font-medium uppercase tracking-[0.15em] leading-none mt-0.5"}," International ")],-1)])]),_:1})]),I("div",Xv,[Nt(qa,{to:"/",icon:"/assets/map-icon.svg",label:"Traffic Explorer"}),Nt(qa,{to:"/harborinspector",icon:"/assets/anchor-icon.svg",label:"Harbor Inspector"}),Nt(qa,{to:"/trajectoryanalyzer",icon:"/assets/compare-vessel-icon.svg",label:"Trajectory Analyzer"})])])}}},Qv=fr(Jv,[["__scopeId","data-v-c9f5bffd"]]),t0={class:"h-screen flex flex-col overflow-hidden"},e0={__name:"App",setup(t){return(n,i)=>{const s=hu("router-view");return dt(),gt("div",t0,[Nt(Qv,{class:"shrink-0"}),Nt(s,null,{default:cr(({Component:o})=>[(dt(),tr(__,null,[(dt(),tr(M_(o),{class:"flex-1 overflow-hidden"}))],1024))]),_:1})])}}};const Hi=typeof document<"u";function tp(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function n0(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&tp(t.default)}const Ft=Object.assign;function Ka(t,n){const i={};for(const s in n){const o=n[s];i[s]=Je(o)?o.map(t):t(o)}return i}const qr=()=>{},Je=Array.isArray;function Lf(t,n){const i={};for(const s in t)i[s]=s in n?n[s]:t[s];return i}const ep=/#/g,i0=/&/g,r0=/\//g,s0=/=/g,o0=/\?/g,np=/\+/g,a0=/%5B/g,l0=/%5D/g,ip=/%5E/g,u0=/%60/g,rp=/%7B/g,c0=/%7C/g,sp=/%7D/g,f0=/%20/g;function xu(t){return t==null?"":encodeURI(""+t).replace(c0,"|").replace(a0,"[").replace(l0,"]")}function h0(t){return xu(t).replace(rp,"{").replace(sp,"}").replace(ip,"^")}function Ll(t){return xu(t).replace(np,"%2B").replace(f0,"+").replace(ep,"%23").replace(i0,"%26").replace(u0,"`").replace(rp,"{").replace(sp,"}").replace(ip,"^")}function d0(t){return Ll(t).replace(s0,"%3D")}function p0(t){return xu(t).replace(ep,"%23").replace(o0,"%3F")}function m0(t){return p0(t).replace(r0,"%2F")}function rs(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const g0=/\/$/,_0=t=>t.replace(g0,"");function Ya(t,n,i="/"){let s,o={},l="",u="";const h=n.indexOf("#");let f=n.indexOf("?");return f=h>=0&&f>h?-1:f,f>=0&&(s=n.slice(0,f),l=n.slice(f,h>0?h:n.length),o=t(l.slice(1))),h>=0&&(s=s||n.slice(0,h),u=n.slice(h,n.length)),s=w0(s??n,i),{fullPath:s+l+u,path:s,query:o,hash:rs(u)}}function v0(t,n){const i=n.query?t(n.query):"";return n.path+(i&&"?")+i+(n.hash||"")}function Ef(t,n){return!n||!t.toLowerCase().startsWith(n.toLowerCase())?t:t.slice(n.length)||"/"}function y0(t,n,i){const s=n.matched.length-1,o=i.matched.length-1;return s>-1&&s===o&&er(n.matched[s],i.matched[o])&&op(n.params,i.params)&&t(n.query)===t(i.query)&&n.hash===i.hash}function er(t,n){return(t.aliasOf||t)===(n.aliasOf||n)}function op(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(var i in t)if(!x0(t[i],n[i]))return!1;return!0}function x0(t,n){return Je(t)?Of(t,n):Je(n)?Of(n,t):t?.valueOf()===n?.valueOf()}function Of(t,n){return Je(n)?t.length===n.length&&t.every((i,s)=>i===n[s]):t.length===1&&t[0]===n}function w0(t,n){if(t.startsWith("/"))return t;if(!t)return n;const i=n.split("/"),s=t.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let l=i.length-1,u,h;for(u=0;u<s.length;u++)if(h=s[u],h!==".")if(h==="..")l>1&&l--;else break;return i.slice(0,l).join("/")+"/"+s.slice(u).join("/")}const Gn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let El=(function(t){return t.pop="pop",t.push="push",t})({}),Xa=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function b0(t){if(!t)if(Hi){const n=document.querySelector("base");t=n&&n.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),_0(t)}const T0=/^[^#]+#/;function C0(t,n){return t.replace(T0,"#")+n}function S0(t,n){const i=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:n.behavior,left:s.left-i.left-(n.left||0),top:s.top-i.top-(n.top||0)}}const Jo=()=>({left:window.scrollX,top:window.scrollY});function P0(t){let n;if("el"in t){const i=t.el,s=typeof i=="string"&&i.startsWith("#"),o=typeof i=="string"?s?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!o)return;n=S0(o,t)}else n=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.scrollX,n.top!=null?n.top:window.scrollY)}function If(t,n){return(history.state?history.state.position-n:-1)+t}const Ol=new Map;function M0(t,n){Ol.set(t,n)}function k0(t){const n=Ol.get(t);return Ol.delete(t),n}function A0(t){return typeof t=="string"||t&&typeof t=="object"}function ap(t){return typeof t=="string"||typeof t=="symbol"}let Jt=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const lp=Symbol("");Jt.MATCHER_NOT_FOUND+"",Jt.NAVIGATION_GUARD_REDIRECT+"",Jt.NAVIGATION_ABORTED+"",Jt.NAVIGATION_CANCELLED+"",Jt.NAVIGATION_DUPLICATED+"";function nr(t,n){return Ft(new Error,{type:t,[lp]:!0},n)}function yn(t,n){return t instanceof Error&&lp in t&&(n==null||!!(t.type&n))}const L0=["params","query","hash"];function E0(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const n={};for(const i of L0)i in t&&(n[i]=t[i]);return JSON.stringify(n,null,2)}function O0(t){const n={};if(t===""||t==="?")return n;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const o=i[s].replace(np," "),l=o.indexOf("="),u=rs(l<0?o:o.slice(0,l)),h=l<0?null:rs(o.slice(l+1));if(u in n){let f=n[u];Je(f)||(f=n[u]=[f]),f.push(h)}else n[u]=h}return n}function Nf(t){let n="";for(let i in t){const s=t[i];if(i=d0(i),s==null){s!==void 0&&(n+=(n.length?"&":"")+i);continue}(Je(s)?s.map(o=>o&&Ll(o)):[s&&Ll(s)]).forEach(o=>{o!==void 0&&(n+=(n.length?"&":"")+i,o!=null&&(n+="="+o))})}return n}function I0(t){const n={};for(const i in t){const s=t[i];s!==void 0&&(n[i]=Je(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return n}const N0=Symbol(""),zf=Symbol(""),wu=Symbol(""),up=Symbol(""),Il=Symbol("");function Pr(){let t=[];function n(s){return t.push(s),()=>{const o=t.indexOf(s);o>-1&&t.splice(o,1)}}function i(){t=[]}return{add:n,list:()=>t.slice(),reset:i}}function Xn(t,n,i,s,o,l=u=>u()){const u=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((h,f)=>{const p=_=>{_===!1?f(nr(Jt.NAVIGATION_ABORTED,{from:i,to:n})):_ instanceof Error?f(_):A0(_)?f(nr(Jt.NAVIGATION_GUARD_REDIRECT,{from:n,to:_})):(u&&s.enterCallbacks[o]===u&&typeof _=="function"&&u.push(_),h())},m=l(()=>t.call(s&&s.instances[o],n,i,p));let g=Promise.resolve(m);t.length<3&&(g=g.then(p)),g.catch(_=>f(_))})}function Ja(t,n,i,s,o=l=>l()){const l=[];for(const u of t)for(const h in u.components){let f=u.components[h];if(!(n!=="beforeRouteEnter"&&!u.instances[h]))if(tp(f)){const p=(f.__vccOpts||f)[n];p&&l.push(Xn(p,i,s,u,h,o))}else{let p=f();l.push(()=>p.then(m=>{if(!m)throw new Error(`Couldn't resolve component "${h}" at "${u.path}"`);const g=n0(m)?m.default:m;u.mods[h]=m,u.components[h]=g;const _=(g.__vccOpts||g)[n];return _&&Xn(_,i,s,u,h,o)()}))}}return l}function z0(t,n){const i=[],s=[],o=[],l=Math.max(n.matched.length,t.matched.length);for(let u=0;u<l;u++){const h=n.matched[u];h&&(t.matched.find(p=>er(p,h))?s.push(h):i.push(h));const f=t.matched[u];f&&(n.matched.find(p=>er(p,f))||o.push(f))}return[i,s,o]}let R0=()=>location.protocol+"//"+location.host;function cp(t,n){const{pathname:i,search:s,hash:o}=n,l=t.indexOf("#");if(l>-1){let u=o.includes(t.slice(l))?t.slice(l).length:1,h=o.slice(u);return h[0]!=="/"&&(h="/"+h),Ef(h,"")}return Ef(i,t)+s+o}function D0(t,n,i,s){let o=[],l=[],u=null;const h=({state:_})=>{const x=cp(t,location),O=i.value,N=n.value;let T=0;if(_){if(i.value=x,n.value=_,u&&u===O){u=null;return}T=N?_.position-N.position:0}else s(x);o.forEach(b=>{b(i.value,O,{delta:T,type:El.pop,direction:T?T>0?Xa.forward:Xa.back:Xa.unknown})})};function f(){u=i.value}function p(_){o.push(_);const x=()=>{const O=o.indexOf(_);O>-1&&o.splice(O,1)};return l.push(x),x}function m(){if(document.visibilityState==="hidden"){const{history:_}=window;if(!_.state)return;_.replaceState(Ft({},_.state,{scroll:Jo()}),"")}}function g(){for(const _ of l)_();l=[],window.removeEventListener("popstate",h),window.removeEventListener("pagehide",m),document.removeEventListener("visibilitychange",m)}return window.addEventListener("popstate",h),window.addEventListener("pagehide",m),document.addEventListener("visibilitychange",m),{pauseListeners:f,listen:p,destroy:g}}function Rf(t,n,i,s=!1,o=!1){return{back:t,current:n,forward:i,replaced:s,position:window.history.length,scroll:o?Jo():null}}function B0(t){const{history:n,location:i}=window,s={value:cp(t,i)},o={value:n.state};o.value||l(s.value,{back:null,current:s.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function l(f,p,m){const g=t.indexOf("#"),_=g>-1?(i.host&&document.querySelector("base")?t:t.slice(g))+f:R0()+t+f;try{n[m?"replaceState":"pushState"](p,"",_),o.value=p}catch(x){console.error(x),i[m?"replace":"assign"](_)}}function u(f,p){l(f,Ft({},n.state,Rf(o.value.back,f,o.value.forward,!0),p,{position:o.value.position}),!0),s.value=f}function h(f,p){const m=Ft({},o.value,n.state,{forward:f,scroll:Jo()});l(m.current,m,!0),l(f,Ft({},Rf(s.value,f,null),{position:m.position+1},p),!1),s.value=f}return{location:s,state:o,push:h,replace:u}}function F0(t){t=b0(t);const n=B0(t),i=D0(t,n.state,n.location,n.replace);function s(l,u=!0){u||i.pauseListeners(),history.go(l)}const o=Ft({location:"",base:t,go:s,createHref:C0.bind(null,t)},n,i);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>n.state.value}),o}let hi=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var ie=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(ie||{});const H0={type:hi.Static,value:""},Z0=/[a-zA-Z0-9_]/;function U0(t){if(!t)return[[]];if(t==="/")return[[H0]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function n(x){throw new Error(`ERR (${i})/"${p}": ${x}`)}let i=ie.Static,s=i;const o=[];let l;function u(){l&&o.push(l),l=[]}let h=0,f,p="",m="";function g(){p&&(i===ie.Static?l.push({type:hi.Static,value:p}):i===ie.Param||i===ie.ParamRegExp||i===ie.ParamRegExpEnd?(l.length>1&&(f==="*"||f==="+")&&n(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),l.push({type:hi.Param,value:p,regexp:m,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):n("Invalid state to consume buffer"),p="")}function _(){p+=f}for(;h<t.length;){if(f=t[h++],f==="\\"&&i!==ie.ParamRegExp){s=i,i=ie.EscapeNext;continue}switch(i){case ie.Static:f==="/"?(p&&g(),u()):f===":"?(g(),i=ie.Param):_();break;case ie.EscapeNext:_(),i=s;break;case ie.Param:f==="("?i=ie.ParamRegExp:Z0.test(f)?_():(g(),i=ie.Static,f!=="*"&&f!=="?"&&f!=="+"&&h--);break;case ie.ParamRegExp:f===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+f:i=ie.ParamRegExpEnd:m+=f;break;case ie.ParamRegExpEnd:g(),i=ie.Static,f!=="*"&&f!=="?"&&f!=="+"&&h--,m="";break;default:n("Unknown state");break}}return i===ie.ParamRegExp&&n(`Unfinished custom RegExp for param "${p}"`),g(),u(),o}const Df="[^/]+?",V0={sensitive:!1,strict:!1,start:!0,end:!0};var we=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(we||{});const W0=/[.+*?^${}()[\]/\\]/g;function j0(t,n){const i=Ft({},V0,n),s=[];let o=i.start?"^":"";const l=[];for(const p of t){const m=p.length?[]:[we.Root];i.strict&&!p.length&&(o+="/");for(let g=0;g<p.length;g++){const _=p[g];let x=we.Segment+(i.sensitive?we.BonusCaseSensitive:0);if(_.type===hi.Static)g||(o+="/"),o+=_.value.replace(W0,"\\$&"),x+=we.Static;else if(_.type===hi.Param){const{value:O,repeatable:N,optional:T,regexp:b}=_;l.push({name:O,repeatable:N,optional:T});const P=b||Df;if(P!==Df){x+=we.BonusCustomRegExp;try{`${P}`}catch(k){throw new Error(`Invalid custom RegExp for param "${O}" (${P}): `+k.message)}}let C=N?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;g||(C=T&&p.length<2?`(?:/${C})`:"/"+C),T&&(C+="?"),o+=C,x+=we.Dynamic,T&&(x+=we.BonusOptional),N&&(x+=we.BonusRepeatable),P===".*"&&(x+=we.BonusWildcard)}m.push(x)}s.push(m)}if(i.strict&&i.end){const p=s.length-1;s[p][s[p].length-1]+=we.BonusStrict}i.strict||(o+="/?"),i.end?o+="$":i.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const u=new RegExp(o,i.sensitive?"":"i");function h(p){const m=p.match(u),g={};if(!m)return null;for(let _=1;_<m.length;_++){const x=m[_]||"",O=l[_-1];g[O.name]=x&&O.repeatable?x.split("/"):x}return g}function f(p){let m="",g=!1;for(const _ of t){(!g||!m.endsWith("/"))&&(m+="/"),g=!1;for(const x of _)if(x.type===hi.Static)m+=x.value;else if(x.type===hi.Param){const{value:O,repeatable:N,optional:T}=x,b=O in p?p[O]:"";if(Je(b)&&!N)throw new Error(`Provided param "${O}" is an array but it is not repeatable (* or + modifiers)`);const P=Je(b)?b.join("/"):b;if(!P)if(T)_.length<2&&(m.endsWith("/")?m=m.slice(0,-1):g=!0);else throw new Error(`Missing required param "${O}"`);m+=P}}return m||"/"}return{re:u,score:s,keys:l,parse:h,stringify:f}}function G0(t,n){let i=0;for(;i<t.length&&i<n.length;){const s=n[i]-t[i];if(s)return s;i++}return t.length<n.length?t.length===1&&t[0]===we.Static+we.Segment?-1:1:t.length>n.length?n.length===1&&n[0]===we.Static+we.Segment?1:-1:0}function fp(t,n){let i=0;const s=t.score,o=n.score;for(;i<s.length&&i<o.length;){const l=G0(s[i],o[i]);if(l)return l;i++}if(Math.abs(o.length-s.length)===1){if(Bf(s))return 1;if(Bf(o))return-1}return o.length-s.length}function Bf(t){const n=t[t.length-1];return t.length>0&&n[n.length-1]<0}const $0={strict:!1,end:!0,sensitive:!1};function q0(t,n,i){const s=j0(U0(t.path),i),o=Ft(s,{record:t,parent:n,children:[],alias:[]});return n&&!o.record.aliasOf==!n.record.aliasOf&&n.children.push(o),o}function K0(t,n){const i=[],s=new Map;n=Lf($0,n);function o(g){return s.get(g)}function l(g,_,x){const O=!x,N=Hf(g);N.aliasOf=x&&x.record;const T=Lf(n,g),b=[N];if("alias"in g){const k=typeof g.alias=="string"?[g.alias]:g.alias;for(const V of k)b.push(Hf(Ft({},N,{components:x?x.record.components:N.components,path:V,aliasOf:x?x.record:N})))}let P,C;for(const k of b){const{path:V}=k;if(_&&V[0]!=="/"){const F=_.record.path,j=F[F.length-1]==="/"?"":"/";k.path=_.record.path+(V&&j+V)}if(P=q0(k,_,T),x?x.alias.push(P):(C=C||P,C!==P&&C.alias.push(P),O&&g.name&&!Zf(P)&&u(g.name)),hp(P)&&f(P),N.children){const F=N.children;for(let j=0;j<F.length;j++)l(F[j],P,x&&x.children[j])}x=x||P}return C?()=>{u(C)}:qr}function u(g){if(ap(g)){const _=s.get(g);_&&(s.delete(g),i.splice(i.indexOf(_),1),_.children.forEach(u),_.alias.forEach(u))}else{const _=i.indexOf(g);_>-1&&(i.splice(_,1),g.record.name&&s.delete(g.record.name),g.children.forEach(u),g.alias.forEach(u))}}function h(){return i}function f(g){const _=J0(g,i);i.splice(_,0,g),g.record.name&&!Zf(g)&&s.set(g.record.name,g)}function p(g,_){let x,O={},N,T;if("name"in g&&g.name){if(x=s.get(g.name),!x)throw nr(Jt.MATCHER_NOT_FOUND,{location:g});T=x.record.name,O=Ft(Ff(_.params,x.keys.filter(C=>!C.optional).concat(x.parent?x.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),g.params&&Ff(g.params,x.keys.map(C=>C.name))),N=x.stringify(O)}else if(g.path!=null)N=g.path,x=i.find(C=>C.re.test(N)),x&&(O=x.parse(N),T=x.record.name);else{if(x=_.name?s.get(_.name):i.find(C=>C.re.test(_.path)),!x)throw nr(Jt.MATCHER_NOT_FOUND,{location:g,currentLocation:_});T=x.record.name,O=Ft({},_.params,g.params),N=x.stringify(O)}const b=[];let P=x;for(;P;)b.unshift(P.record),P=P.parent;return{name:T,path:N,params:O,matched:b,meta:X0(b)}}t.forEach(g=>l(g));function m(){i.length=0,s.clear()}return{addRoute:l,resolve:p,removeRoute:u,clearRoutes:m,getRoutes:h,getRecordMatcher:o}}function Ff(t,n){const i={};for(const s of n)s in t&&(i[s]=t[s]);return i}function Hf(t){const n={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Y0(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(n,"mods",{value:{}}),n}function Y0(t){const n={},i=t.props||!1;if("component"in t)n.default=i;else for(const s in t.components)n[s]=typeof i=="object"?i[s]:i;return n}function Zf(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function X0(t){return t.reduce((n,i)=>Ft(n,i.meta),{})}function J0(t,n){let i=0,s=n.length;for(;i!==s;){const l=i+s>>1;fp(t,n[l])<0?s=l:i=l+1}const o=Q0(t);return o&&(s=n.lastIndexOf(o,s-1)),s}function Q0(t){let n=t;for(;n=n.parent;)if(hp(n)&&fp(t,n)===0)return n}function hp({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Uf(t){const n=En(wu),i=En(up),s=qt(()=>{const f=Be(t.to);return n.resolve(f)}),o=qt(()=>{const{matched:f}=s.value,{length:p}=f,m=f[p-1],g=i.matched;if(!m||!g.length)return-1;const _=g.findIndex(er.bind(null,m));if(_>-1)return _;const x=Vf(f[p-2]);return p>1&&Vf(m)===x&&g[g.length-1].path!==x?g.findIndex(er.bind(null,f[p-2])):_}),l=qt(()=>o.value>-1&&ry(i.params,s.value.params)),u=qt(()=>o.value>-1&&o.value===i.matched.length-1&&op(i.params,s.value.params));function h(f={}){if(iy(f)){const p=n[Be(t.replace)?"replace":"push"](Be(t.to)).catch(qr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>p),p}return Promise.resolve()}return{route:s,href:qt(()=>s.value.href),isActive:l,isExactActive:u,navigate:h}}function ty(t){return t.length===1?t[0]:t}const ey=Sd({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Uf,setup(t,{slots:n}){const i=un(Uf(t)),{options:s}=En(wu),o=qt(()=>({[Wf(t.activeClass,s.linkActiveClass,"router-link-active")]:i.isActive,[Wf(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const l=n.default&&ty(n.default(i));return t.custom?l:yu("a",{"aria-current":i.isExactActive?t.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:o.value},l)}}}),ny=ey;function iy(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const n=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return t.preventDefault&&t.preventDefault(),!0}}function ry(t,n){for(const i in n){const s=n[i],o=t[i];if(typeof s=="string"){if(s!==o)return!1}else if(!Je(o)||o.length!==s.length||s.some((l,u)=>l.valueOf()!==o[u].valueOf()))return!1}return!0}function Vf(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Wf=(t,n,i)=>t??n??i,sy=Sd({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:n,slots:i}){const s=En(Il),o=qt(()=>t.route||s.value),l=En(zf,0),u=qt(()=>{let p=Be(l);const{matched:m}=o.value;let g;for(;(g=m[p])&&!g.components;)p++;return p}),h=qt(()=>o.value.matched[u.value]);to(zf,qt(()=>u.value+1)),to(N0,h),to(Il,o);const f=kt();return Ue(()=>[f.value,h.value,t.name],([p,m,g],[_,x,O])=>{m&&(m.instances[g]=p,x&&x!==m&&p&&p===_&&(m.leaveGuards.size||(m.leaveGuards=x.leaveGuards),m.updateGuards.size||(m.updateGuards=x.updateGuards))),p&&m&&(!x||!er(m,x)||!_)&&(m.enterCallbacks[g]||[]).forEach(N=>N(p))},{flush:"post"}),()=>{const p=o.value,m=t.name,g=h.value,_=g&&g.components[m];if(!_)return jf(i.default,{Component:_,route:p});const x=g.props[m],O=x?x===!0?p.params:typeof x=="function"?x(p):x:null,T=yu(_,Ft({},O,n,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(g.instances[m]=null)},ref:f}));return jf(i.default,{Component:T,route:p})||T}}});function jf(t,n){if(!t)return null;const i=t(n);return i.length===1?i[0]:i}const oy=sy;function ay(t){const n=K0(t.routes,t),i=t.parseQuery||O0,s=t.stringifyQuery||Nf,o=t.history,l=Pr(),u=Pr(),h=Pr(),f=cu(Gn);let p=Gn;Hi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=Ka.bind(null,H=>""+H),g=Ka.bind(null,m0),_=Ka.bind(null,rs);function x(H,ut){let Z,rt;return ap(H)?(Z=n.getRecordMatcher(H),rt=ut):rt=H,n.addRoute(rt,Z)}function O(H){const ut=n.getRecordMatcher(H);ut&&n.removeRoute(ut)}function N(){return n.getRoutes().map(H=>H.record)}function T(H){return!!n.getRecordMatcher(H)}function b(H,ut){if(ut=Ft({},ut||f.value),typeof H=="string"){const E=Ya(i,H,ut.path),K=n.resolve({path:E.path},ut),X=o.createHref(E.fullPath);return Ft(E,K,{params:_(K.params),hash:rs(E.hash),redirectedFrom:void 0,href:X})}let Z;if(H.path!=null)Z=Ft({},H,{path:Ya(i,H.path,ut.path).path});else{const E=Ft({},H.params);for(const K in E)E[K]==null&&delete E[K];Z=Ft({},H,{params:g(E)}),ut.params=g(ut.params)}const rt=n.resolve(Z,ut),U=H.hash||"";rt.params=m(_(rt.params));const v=v0(s,Ft({},H,{hash:h0(U),path:rt.path})),w=o.createHref(v);return Ft({fullPath:v,hash:U,query:s===Nf?I0(H.query):H.query||{}},rt,{redirectedFrom:void 0,href:w})}function P(H){return typeof H=="string"?Ya(i,H,f.value.path):Ft({},H)}function C(H,ut){if(p!==H)return nr(Jt.NAVIGATION_CANCELLED,{from:ut,to:H})}function k(H){return j(H)}function V(H){return k(Ft(P(H),{replace:!0}))}function F(H,ut){const Z=H.matched[H.matched.length-1];if(Z&&Z.redirect){const{redirect:rt}=Z;let U=typeof rt=="function"?rt(H,ut):rt;return typeof U=="string"&&(U=U.includes("?")||U.includes("#")?U=P(U):{path:U},U.params={}),Ft({query:H.query,hash:H.hash,params:U.path!=null?{}:H.params},U)}}function j(H,ut){const Z=p=b(H),rt=f.value,U=H.state,v=H.force,w=H.replace===!0,E=F(Z,rt);if(E)return j(Ft(P(E),{state:typeof E=="object"?Ft({},U,E.state):U,force:v,replace:w}),ut||Z);const K=Z;K.redirectedFrom=ut;let X;return!v&&y0(s,rt,Z)&&(X=nr(Jt.NAVIGATION_DUPLICATED,{to:K,from:rt}),st(rt,rt,!0,!1)),(X?Promise.resolve(X):nt(K,rt)).catch(S=>yn(S)?yn(S,Jt.NAVIGATION_GUARD_REDIRECT)?S:B(S):D(S,K,rt)).then(S=>{if(S){if(yn(S,Jt.NAVIGATION_GUARD_REDIRECT))return j(Ft({replace:w},P(S.to),{state:typeof S.to=="object"?Ft({},U,S.to.state):U,force:v}),ut||K)}else S=J(K,rt,!0,w,U);return Y(K,rt,S),S})}function tt(H,ut){const Z=C(H,ut);return Z?Promise.reject(Z):Promise.resolve()}function q(H){const ut=vt.values().next().value;return ut&&typeof ut.runWithContext=="function"?ut.runWithContext(H):H()}function nt(H,ut){let Z;const[rt,U,v]=z0(H,ut);Z=Ja(rt.reverse(),"beforeRouteLeave",H,ut);for(const E of rt)E.leaveGuards.forEach(K=>{Z.push(Xn(K,H,ut))});const w=tt.bind(null,H,ut);return Z.push(w),pt(Z).then(()=>{Z=[];for(const E of l.list())Z.push(Xn(E,H,ut));return Z.push(w),pt(Z)}).then(()=>{Z=Ja(U,"beforeRouteUpdate",H,ut);for(const E of U)E.updateGuards.forEach(K=>{Z.push(Xn(K,H,ut))});return Z.push(w),pt(Z)}).then(()=>{Z=[];for(const E of v)if(E.beforeEnter)if(Je(E.beforeEnter))for(const K of E.beforeEnter)Z.push(Xn(K,H,ut));else Z.push(Xn(E.beforeEnter,H,ut));return Z.push(w),pt(Z)}).then(()=>(H.matched.forEach(E=>E.enterCallbacks={}),Z=Ja(v,"beforeRouteEnter",H,ut,q),Z.push(w),pt(Z))).then(()=>{Z=[];for(const E of u.list())Z.push(Xn(E,H,ut));return Z.push(w),pt(Z)}).catch(E=>yn(E,Jt.NAVIGATION_CANCELLED)?E:Promise.reject(E))}function Y(H,ut,Z){h.list().forEach(rt=>q(()=>rt(H,ut,Z)))}function J(H,ut,Z,rt,U){const v=C(H,ut);if(v)return v;const w=ut===Gn,E=Hi?history.state:{};Z&&(rt||w?o.replace(H.fullPath,Ft({scroll:w&&E&&E.scroll},U)):o.push(H.fullPath,U)),f.value=H,st(H,ut,Z,w),B()}let ft;function A(){ft||(ft=o.listen((H,ut,Z)=>{if(!_t.listening)return;const rt=b(H),U=F(rt,_t.currentRoute.value);if(U){j(Ft(U,{replace:!0,force:!0}),rt).catch(qr);return}p=rt;const v=f.value;Hi&&M0(If(v.fullPath,Z.delta),Jo()),nt(rt,v).catch(w=>yn(w,Jt.NAVIGATION_ABORTED|Jt.NAVIGATION_CANCELLED)?w:yn(w,Jt.NAVIGATION_GUARD_REDIRECT)?(j(Ft(P(w.to),{force:!0}),rt).then(E=>{yn(E,Jt.NAVIGATION_ABORTED|Jt.NAVIGATION_DUPLICATED)&&!Z.delta&&Z.type===El.pop&&o.go(-1,!1)}).catch(qr),Promise.reject()):(Z.delta&&o.go(-Z.delta,!1),D(w,rt,v))).then(w=>{w=w||J(rt,v,!1),w&&(Z.delta&&!yn(w,Jt.NAVIGATION_CANCELLED)?o.go(-Z.delta,!1):Z.type===El.pop&&yn(w,Jt.NAVIGATION_ABORTED|Jt.NAVIGATION_DUPLICATED)&&o.go(-1,!1)),Y(rt,v,w)}).catch(qr)}))}let at=Pr(),z=Pr(),G;function D(H,ut,Z){B(H);const rt=z.list();return rt.length?rt.forEach(U=>U(H,ut,Z)):console.error(H),Promise.reject(H)}function Q(){return G&&f.value!==Gn?Promise.resolve():new Promise((H,ut)=>{at.add([H,ut])})}function B(H){return G||(G=!H,A(),at.list().forEach(([ut,Z])=>H?Z(H):ut()),at.reset()),H}function st(H,ut,Z,rt){const{scrollBehavior:U}=t;if(!Hi||!U)return Promise.resolve();const v=!Z&&k0(If(H.fullPath,0))||(rt||!Z)&&history.state&&history.state.scroll||null;return wi().then(()=>U(H,ut,v)).then(w=>w&&P0(w)).catch(w=>D(w,H,ut))}const lt=H=>o.go(H);let bt;const vt=new Set,_t={currentRoute:f,listening:!0,addRoute:x,removeRoute:O,clearRoutes:n.clearRoutes,hasRoute:T,getRoutes:N,resolve:b,options:t,push:k,replace:V,go:lt,back:()=>lt(-1),forward:()=>lt(1),beforeEach:l.add,beforeResolve:u.add,afterEach:h.add,onError:z.add,isReady:Q,install(H){H.component("RouterLink",ny),H.component("RouterView",oy),H.config.globalProperties.$router=_t,Object.defineProperty(H.config.globalProperties,"$route",{enumerable:!0,get:()=>Be(f)}),Hi&&!bt&&f.value===Gn&&(bt=!0,k(o.location).catch(rt=>{}));const ut={};for(const rt in Gn)Object.defineProperty(ut,rt,{get:()=>f.value[rt],enumerable:!0});H.provide(wu,_t),H.provide(up,ud(ut)),H.provide(Il,f);const Z=H.unmount;vt.add(H),H.unmount=function(){vt.delete(H),vt.size<1&&(p=Gn,ft&&ft(),ft=null,f.value=Gn,bt=!1,G=!1),Z()}}};function pt(H){return H.reduce((ut,Z)=>ut.then(()=>q(Z)),Promise.resolve())}return _t}const bu="/VisualAnalytics2025/assets/icon-info.svg";function io(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function ly(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Tu(t){let n,i,s;t.length!==2?(n=io,i=(h,f)=>io(t(h),f),s=(h,f)=>t(h)-f):(n=t===io||t===ly?t:uy,i=t,s=t);function o(h,f,p=0,m=h.length){if(p<m){if(n(f,f)!==0)return m;do{const g=p+m>>>1;i(h[g],f)<0?p=g+1:m=g}while(p<m)}return p}function l(h,f,p=0,m=h.length){if(p<m){if(n(f,f)!==0)return m;do{const g=p+m>>>1;i(h[g],f)<=0?p=g+1:m=g}while(p<m)}return p}function u(h,f,p=0,m=h.length){const g=o(h,f,p,m-1);return g>p&&s(h[g-1],f)>-s(h[g],f)?g-1:g}return{left:o,center:u,right:l}}function uy(){return 0}function cy(t){return t===null?NaN:+t}const fy=Tu(io),hy=fy.right;Tu(cy).center;function Cu(t,n){let i,s;if(n===void 0)for(const o of t)o!=null&&(i===void 0?o>=o&&(i=s=o):(i>o&&(i=o),s<o&&(s=o)));else{let o=-1;for(let l of t)(l=n(l,++o,t))!=null&&(i===void 0?l>=l&&(i=s=l):(i>l&&(i=l),s<l&&(s=l)))}return[i,s]}class Nl extends Map{constructor(n,i=my){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),n!=null)for(const[s,o]of n)this.set(s,o)}get(n){return super.get(Gf(this,n))}has(n){return super.has(Gf(this,n))}set(n,i){return super.set(dy(this,n),i)}delete(n){return super.delete(py(this,n))}}function Gf({_intern:t,_key:n},i){const s=n(i);return t.has(s)?t.get(s):i}function dy({_intern:t,_key:n},i){const s=n(i);return t.has(s)?t.get(s):(t.set(s,i),i)}function py({_intern:t,_key:n},i){const s=n(i);return t.has(s)&&(i=t.get(s),t.delete(s)),i}function my(t){return t!==null&&typeof t=="object"?t.valueOf():t}function gy(t){return t}function _y(t,...n){return vy(t,Array.from,gy,n)}function vy(t,n,i,s){return(function o(l,u){if(u>=s.length)return i(l);const h=new Nl,f=s[u++];let p=-1;for(const m of l){const g=f(m,++p,l),_=h.get(g);_?_.push(m):h.set(g,[m])}for(const[m,g]of h)h.set(m,o(g,u));return n(h)})(t,0)}const yy=Math.sqrt(50),xy=Math.sqrt(10),wy=Math.sqrt(2);function wo(t,n,i){const s=(n-t)/Math.max(0,i),o=Math.floor(Math.log10(s)),l=s/Math.pow(10,o),u=l>=yy?10:l>=xy?5:l>=wy?2:1;let h,f,p;return o<0?(p=Math.pow(10,-o)/u,h=Math.round(t*p),f=Math.round(n*p),h/p<t&&++h,f/p>n&&--f,p=-p):(p=Math.pow(10,o)*u,h=Math.round(t/p),f=Math.round(n/p),h*p<t&&++h,f*p>n&&--f),f<h&&.5<=i&&i<2?wo(t,n,i*2):[h,f,p]}function by(t,n,i){if(n=+n,t=+t,i=+i,!(i>0))return[];if(t===n)return[t];const s=n<t,[o,l,u]=s?wo(n,t,i):wo(t,n,i);if(!(l>=o))return[];const h=l-o+1,f=new Array(h);if(s)if(u<0)for(let p=0;p<h;++p)f[p]=(l-p)/-u;else for(let p=0;p<h;++p)f[p]=(l-p)*u;else if(u<0)for(let p=0;p<h;++p)f[p]=(o+p)/-u;else for(let p=0;p<h;++p)f[p]=(o+p)*u;return f}function zl(t,n,i){return n=+n,t=+t,i=+i,wo(t,n,i)[2]}function Rl(t,n,i){n=+n,t=+t,i=+i;const s=n<t,o=s?zl(n,t,i):zl(t,n,i);return(s?-1:1)*(o<0?1/-o:o)}function $f(t,n){let i;if(n===void 0)for(const s of t)s!=null&&(i<s||i===void 0&&s>=s)&&(i=s);else{let s=-1;for(let o of t)(o=n(o,++s,t))!=null&&(i<o||i===void 0&&o>=o)&&(i=o)}return i}function Ty(t,n,i){t=+t,n=+n,i=(o=arguments.length)<2?(n=t,t=0,1):o<3?1:+i;for(var s=-1,o=Math.max(0,Math.ceil((n-t)/i))|0,l=new Array(o);++s<o;)l[s]=t+s*i;return l}function Cy(t){return t}var ro=1,Qa=2,Dl=3,Rr=4,qf=1e-6;function Sy(t){return"translate("+t+",0)"}function Py(t){return"translate(0,"+t+")"}function My(t){return n=>+t(n)}function ky(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),i=>+t(i)+n}function Ay(){return!this.__axis}function Su(t,n){var i=[],s=null,o=null,l=6,u=6,h=3,f=typeof window<"u"&&window.devicePixelRatio>1?0:.5,p=t===ro||t===Rr?-1:1,m=t===Rr||t===Qa?"x":"y",g=t===ro||t===Dl?Sy:Py;function _(x){var O=s??(n.ticks?n.ticks.apply(n,i):n.domain()),N=o??(n.tickFormat?n.tickFormat.apply(n,i):Cy),T=Math.max(l,0)+h,b=n.range(),P=+b[0]+f,C=+b[b.length-1]+f,k=(n.bandwidth?ky:My)(n.copy(),f),V=x.selection?x.selection():x,F=V.selectAll(".domain").data([null]),j=V.selectAll(".tick").data(O,n).order(),tt=j.exit(),q=j.enter().append("g").attr("class","tick"),nt=j.select("line"),Y=j.select("text");F=F.merge(F.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),j=j.merge(q),nt=nt.merge(q.append("line").attr("stroke","currentColor").attr(m+"2",p*l)),Y=Y.merge(q.append("text").attr("fill","currentColor").attr(m,p*T).attr("dy",t===ro?"0em":t===Dl?"0.71em":"0.32em")),x!==V&&(F=F.transition(x),j=j.transition(x),nt=nt.transition(x),Y=Y.transition(x),tt=tt.transition(x).attr("opacity",qf).attr("transform",function(J){return isFinite(J=k(J))?g(J+f):this.getAttribute("transform")}),q.attr("opacity",qf).attr("transform",function(J){var ft=this.parentNode.__axis;return g((ft&&isFinite(ft=ft(J))?ft:k(J))+f)})),tt.remove(),F.attr("d",t===Rr||t===Qa?u?"M"+p*u+","+P+"H"+f+"V"+C+"H"+p*u:"M"+f+","+P+"V"+C:u?"M"+P+","+p*u+"V"+f+"H"+C+"V"+p*u:"M"+P+","+f+"H"+C),j.attr("opacity",1).attr("transform",function(J){return g(k(J)+f)}),nt.attr(m+"2",p*l),Y.attr(m,p*T).text(N),V.filter(Ay).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Qa?"start":t===Rr?"end":"middle"),V.each(function(){this.__axis=k})}return _.scale=function(x){return arguments.length?(n=x,_):n},_.ticks=function(){return i=Array.from(arguments),_},_.tickArguments=function(x){return arguments.length?(i=x==null?[]:Array.from(x),_):i.slice()},_.tickValues=function(x){return arguments.length?(s=x==null?null:Array.from(x),_):s&&s.slice()},_.tickFormat=function(x){return arguments.length?(o=x,_):o},_.tickSize=function(x){return arguments.length?(l=u=+x,_):l},_.tickSizeInner=function(x){return arguments.length?(l=+x,_):l},_.tickSizeOuter=function(x){return arguments.length?(u=+x,_):u},_.tickPadding=function(x){return arguments.length?(h=+x,_):h},_.offset=function(x){return arguments.length?(f=+x,_):f},_}function Bl(t){return Su(ro,t)}function bo(t){return Su(Dl,t)}function Dr(t){return Su(Rr,t)}var Ly={value:()=>{}};function Qo(){for(var t=0,n=arguments.length,i={},s;t<n;++t){if(!(s=arguments[t]+"")||s in i||/[\s.]/.test(s))throw new Error("illegal type: "+s);i[s]=[]}return new so(i)}function so(t){this._=t}function Ey(t,n){return t.trim().split(/^|\s+/).map(function(i){var s="",o=i.indexOf(".");if(o>=0&&(s=i.slice(o+1),i=i.slice(0,o)),i&&!n.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:s}})}so.prototype=Qo.prototype={constructor:so,on:function(t,n){var i=this._,s=Ey(t+"",i),o,l=-1,u=s.length;if(arguments.length<2){for(;++l<u;)if((o=(t=s[l]).type)&&(o=Oy(i[o],t.name)))return o;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++l<u;)if(o=(t=s[l]).type)i[o]=Kf(i[o],t.name,n);else if(n==null)for(o in i)i[o]=Kf(i[o],t.name,null);return this},copy:function(){var t={},n=this._;for(var i in n)t[i]=n[i].slice();return new so(t)},call:function(t,n){if((o=arguments.length-2)>0)for(var i=new Array(o),s=0,o,l;s<o;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(l=this._[t],s=0,o=l.length;s<o;++s)l[s].value.apply(n,i)},apply:function(t,n,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var s=this._[t],o=0,l=s.length;o<l;++o)s[o].value.apply(n,i)}};function Oy(t,n){for(var i=0,s=t.length,o;i<s;++i)if((o=t[i]).name===n)return o.value}function Kf(t,n,i){for(var s=0,o=t.length;s<o;++s)if(t[s].name===n){t[s]=Ly,t=t.slice(0,s).concat(t.slice(s+1));break}return i!=null&&t.push({name:n,value:i}),t}var Fl="http://www.w3.org/1999/xhtml";const Yf={svg:"http://www.w3.org/2000/svg",xhtml:Fl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ta(t){var n=t+="",i=n.indexOf(":");return i>=0&&(n=t.slice(0,i))!=="xmlns"&&(t=t.slice(i+1)),Yf.hasOwnProperty(n)?{space:Yf[n],local:t}:t}function Iy(t){return function(){var n=this.ownerDocument,i=this.namespaceURI;return i===Fl&&n.documentElement.namespaceURI===Fl?n.createElement(t):n.createElementNS(i,t)}}function Ny(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function dp(t){var n=ta(t);return(n.local?Ny:Iy)(n)}function zy(){}function Pu(t){return t==null?zy:function(){return this.querySelector(t)}}function Ry(t){typeof t!="function"&&(t=Pu(t));for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o)for(var l=n[o],u=l.length,h=s[o]=new Array(u),f,p,m=0;m<u;++m)(f=l[m])&&(p=t.call(f,f.__data__,m,l))&&("__data__"in f&&(p.__data__=f.__data__),h[m]=p);return new Le(s,this._parents)}function Dy(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function By(){return[]}function pp(t){return t==null?By:function(){return this.querySelectorAll(t)}}function Fy(t){return function(){return Dy(t.apply(this,arguments))}}function Hy(t){typeof t=="function"?t=Fy(t):t=pp(t);for(var n=this._groups,i=n.length,s=[],o=[],l=0;l<i;++l)for(var u=n[l],h=u.length,f,p=0;p<h;++p)(f=u[p])&&(s.push(t.call(f,f.__data__,p,u)),o.push(f));return new Le(s,o)}function mp(t){return function(){return this.matches(t)}}function gp(t){return function(n){return n.matches(t)}}var Zy=Array.prototype.find;function Uy(t){return function(){return Zy.call(this.children,t)}}function Vy(){return this.firstElementChild}function Wy(t){return this.select(t==null?Vy:Uy(typeof t=="function"?t:gp(t)))}var jy=Array.prototype.filter;function Gy(){return Array.from(this.children)}function $y(t){return function(){return jy.call(this.children,t)}}function qy(t){return this.selectAll(t==null?Gy:$y(typeof t=="function"?t:gp(t)))}function Ky(t){typeof t!="function"&&(t=mp(t));for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o)for(var l=n[o],u=l.length,h=s[o]=[],f,p=0;p<u;++p)(f=l[p])&&t.call(f,f.__data__,p,l)&&h.push(f);return new Le(s,this._parents)}function _p(t){return new Array(t.length)}function Yy(){return new Le(this._enter||this._groups.map(_p),this._parents)}function To(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}To.prototype={constructor:To,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Xy(t){return function(){return t}}function Jy(t,n,i,s,o,l){for(var u=0,h,f=n.length,p=l.length;u<p;++u)(h=n[u])?(h.__data__=l[u],s[u]=h):i[u]=new To(t,l[u]);for(;u<f;++u)(h=n[u])&&(o[u]=h)}function Qy(t,n,i,s,o,l,u){var h,f,p=new Map,m=n.length,g=l.length,_=new Array(m),x;for(h=0;h<m;++h)(f=n[h])&&(_[h]=x=u.call(f,f.__data__,h,n)+"",p.has(x)?o[h]=f:p.set(x,f));for(h=0;h<g;++h)x=u.call(t,l[h],h,l)+"",(f=p.get(x))?(s[h]=f,f.__data__=l[h],p.delete(x)):i[h]=new To(t,l[h]);for(h=0;h<m;++h)(f=n[h])&&p.get(_[h])===f&&(o[h]=f)}function tx(t){return t.__data__}function ex(t,n){if(!arguments.length)return Array.from(this,tx);var i=n?Qy:Jy,s=this._parents,o=this._groups;typeof t!="function"&&(t=Xy(t));for(var l=o.length,u=new Array(l),h=new Array(l),f=new Array(l),p=0;p<l;++p){var m=s[p],g=o[p],_=g.length,x=nx(t.call(m,m&&m.__data__,p,s)),O=x.length,N=h[p]=new Array(O),T=u[p]=new Array(O),b=f[p]=new Array(_);i(m,g,N,T,b,x,n);for(var P=0,C=0,k,V;P<O;++P)if(k=N[P]){for(P>=C&&(C=P+1);!(V=T[C])&&++C<O;);k._next=V||null}}return u=new Le(u,s),u._enter=h,u._exit=f,u}function nx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ix(){return new Le(this._exit||this._groups.map(_p),this._parents)}function rx(t,n,i){var s=this.enter(),o=this,l=this.exit();return typeof t=="function"?(s=t(s),s&&(s=s.selection())):s=s.append(t+""),n!=null&&(o=n(o),o&&(o=o.selection())),i==null?l.remove():i(l),s&&o?s.merge(o).order():o}function sx(t){for(var n=t.selection?t.selection():t,i=this._groups,s=n._groups,o=i.length,l=s.length,u=Math.min(o,l),h=new Array(o),f=0;f<u;++f)for(var p=i[f],m=s[f],g=p.length,_=h[f]=new Array(g),x,O=0;O<g;++O)(x=p[O]||m[O])&&(_[O]=x);for(;f<o;++f)h[f]=i[f];return new Le(h,this._parents)}function ox(){for(var t=this._groups,n=-1,i=t.length;++n<i;)for(var s=t[n],o=s.length-1,l=s[o],u;--o>=0;)(u=s[o])&&(l&&u.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(u,l),l=u);return this}function ax(t){t||(t=lx);function n(g,_){return g&&_?t(g.__data__,_.__data__):!g-!_}for(var i=this._groups,s=i.length,o=new Array(s),l=0;l<s;++l){for(var u=i[l],h=u.length,f=o[l]=new Array(h),p,m=0;m<h;++m)(p=u[m])&&(f[m]=p);f.sort(n)}return new Le(o,this._parents).order()}function lx(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function ux(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function cx(){return Array.from(this)}function fx(){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var s=t[n],o=0,l=s.length;o<l;++o){var u=s[o];if(u)return u}return null}function hx(){let t=0;for(const n of this)++t;return t}function dx(){return!this.node()}function px(t){for(var n=this._groups,i=0,s=n.length;i<s;++i)for(var o=n[i],l=0,u=o.length,h;l<u;++l)(h=o[l])&&t.call(h,h.__data__,l,o);return this}function mx(t){return function(){this.removeAttribute(t)}}function gx(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _x(t,n){return function(){this.setAttribute(t,n)}}function vx(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function yx(t,n){return function(){var i=n.apply(this,arguments);i==null?this.removeAttribute(t):this.setAttribute(t,i)}}function xx(t,n){return function(){var i=n.apply(this,arguments);i==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function wx(t,n){var i=ta(t);if(arguments.length<2){var s=this.node();return i.local?s.getAttributeNS(i.space,i.local):s.getAttribute(i)}return this.each((n==null?i.local?gx:mx:typeof n=="function"?i.local?xx:yx:i.local?vx:_x)(i,n))}function vp(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function bx(t){return function(){this.style.removeProperty(t)}}function Tx(t,n,i){return function(){this.style.setProperty(t,n,i)}}function Cx(t,n,i){return function(){var s=n.apply(this,arguments);s==null?this.style.removeProperty(t):this.style.setProperty(t,s,i)}}function Sx(t,n,i){return arguments.length>1?this.each((n==null?bx:typeof n=="function"?Cx:Tx)(t,n,i??"")):ir(this.node(),t)}function ir(t,n){return t.style.getPropertyValue(n)||vp(t).getComputedStyle(t,null).getPropertyValue(n)}function Px(t){return function(){delete this[t]}}function Mx(t,n){return function(){this[t]=n}}function kx(t,n){return function(){var i=n.apply(this,arguments);i==null?delete this[t]:this[t]=i}}function Ax(t,n){return arguments.length>1?this.each((n==null?Px:typeof n=="function"?kx:Mx)(t,n)):this.node()[t]}function yp(t){return t.trim().split(/^|\s+/)}function Mu(t){return t.classList||new xp(t)}function xp(t){this._node=t,this._names=yp(t.getAttribute("class")||"")}xp.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function wp(t,n){for(var i=Mu(t),s=-1,o=n.length;++s<o;)i.add(n[s])}function bp(t,n){for(var i=Mu(t),s=-1,o=n.length;++s<o;)i.remove(n[s])}function Lx(t){return function(){wp(this,t)}}function Ex(t){return function(){bp(this,t)}}function Ox(t,n){return function(){(n.apply(this,arguments)?wp:bp)(this,t)}}function Ix(t,n){var i=yp(t+"");if(arguments.length<2){for(var s=Mu(this.node()),o=-1,l=i.length;++o<l;)if(!s.contains(i[o]))return!1;return!0}return this.each((typeof n=="function"?Ox:n?Lx:Ex)(i,n))}function Nx(){this.textContent=""}function zx(t){return function(){this.textContent=t}}function Rx(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Dx(t){return arguments.length?this.each(t==null?Nx:(typeof t=="function"?Rx:zx)(t)):this.node().textContent}function Bx(){this.innerHTML=""}function Fx(t){return function(){this.innerHTML=t}}function Hx(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function Zx(t){return arguments.length?this.each(t==null?Bx:(typeof t=="function"?Hx:Fx)(t)):this.node().innerHTML}function Ux(){this.nextSibling&&this.parentNode.appendChild(this)}function Vx(){return this.each(Ux)}function Wx(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function jx(){return this.each(Wx)}function Gx(t){var n=typeof t=="function"?t:dp(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function $x(){return null}function qx(t,n){var i=typeof t=="function"?t:dp(t),s=n==null?$x:typeof n=="function"?n:Pu(n);return this.select(function(){return this.insertBefore(i.apply(this,arguments),s.apply(this,arguments)||null)})}function Kx(){var t=this.parentNode;t&&t.removeChild(this)}function Yx(){return this.each(Kx)}function Xx(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Jx(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Qx(t){return this.select(t?Jx:Xx)}function tw(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ew(t){return function(n){t.call(this,n,this.__data__)}}function nw(t){return t.trim().split(/^|\s+/).map(function(n){var i="",s=n.indexOf(".");return s>=0&&(i=n.slice(s+1),n=n.slice(0,s)),{type:n,name:i}})}function iw(t){return function(){var n=this.__on;if(n){for(var i=0,s=-1,o=n.length,l;i<o;++i)l=n[i],(!t.type||l.type===t.type)&&l.name===t.name?this.removeEventListener(l.type,l.listener,l.options):n[++s]=l;++s?n.length=s:delete this.__on}}}function rw(t,n,i){return function(){var s=this.__on,o,l=ew(n);if(s){for(var u=0,h=s.length;u<h;++u)if((o=s[u]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=l,o.options=i),o.value=n;return}}this.addEventListener(t.type,l,i),o={type:t.type,name:t.name,value:n,listener:l,options:i},s?s.push(o):this.__on=[o]}}function sw(t,n,i){var s=nw(t+""),o,l=s.length,u;if(arguments.length<2){var h=this.node().__on;if(h){for(var f=0,p=h.length,m;f<p;++f)for(o=0,m=h[f];o<l;++o)if((u=s[o]).type===m.type&&u.name===m.name)return m.value}return}for(h=n?rw:iw,o=0;o<l;++o)this.each(h(s[o],n,i));return this}function Tp(t,n,i){var s=vp(t),o=s.CustomEvent;typeof o=="function"?o=new o(n,i):(o=s.document.createEvent("Event"),i?(o.initEvent(n,i.bubbles,i.cancelable),o.detail=i.detail):o.initEvent(n,!1,!1)),t.dispatchEvent(o)}function ow(t,n){return function(){return Tp(this,t,n)}}function aw(t,n){return function(){return Tp(this,t,n.apply(this,arguments))}}function lw(t,n){return this.each((typeof n=="function"?aw:ow)(t,n))}function*uw(){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var s=t[n],o=0,l=s.length,u;o<l;++o)(u=s[o])&&(yield u)}var Cp=[null];function Le(t,n){this._groups=t,this._parents=n}function hs(){return new Le([[document.documentElement]],Cp)}function cw(){return this}Le.prototype=hs.prototype={constructor:Le,select:Ry,selectAll:Hy,selectChild:Wy,selectChildren:qy,filter:Ky,data:ex,enter:Yy,exit:ix,join:rx,merge:sx,selection:cw,order:ox,sort:ax,call:ux,nodes:cx,node:fx,size:hx,empty:dx,each:px,attr:wx,style:Sx,property:Ax,classed:Ix,text:Dx,html:Zx,raise:Vx,lower:jx,append:Gx,insert:qx,remove:Yx,clone:Qx,datum:tw,on:sw,dispatch:lw,[Symbol.iterator]:uw};function Xt(t){return typeof t=="string"?new Le([[document.querySelector(t)]],[document.documentElement]):new Le([[t]],Cp)}function fw(t){let n;for(;n=t.sourceEvent;)t=n;return t}function on(t,n){if(t=fw(t),n===void 0&&(n=t.currentTarget),n){var i=n.ownerSVGElement||n;if(i.createSVGPoint){var s=i.createSVGPoint();return s.x=t.clientX,s.y=t.clientY,s=s.matrixTransform(n.getScreenCTM().inverse()),[s.x,s.y]}if(n.getBoundingClientRect){var o=n.getBoundingClientRect();return[t.clientX-o.left-n.clientLeft,t.clientY-o.top-n.clientTop]}}return[t.pageX,t.pageY]}const Hl={capture:!0,passive:!1};function Zl(t){t.preventDefault(),t.stopImmediatePropagation()}function Sp(t){var n=t.document.documentElement,i=Xt(t).on("dragstart.drag",Zl,Hl);"onselectstart"in n?i.on("selectstart.drag",Zl,Hl):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Pp(t,n){var i=t.document.documentElement,s=Xt(t).on("dragstart.drag",null);n&&(s.on("click.drag",Zl,Hl),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in i?s.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}function ku(t,n,i){t.prototype=n.prototype=i,i.constructor=t}function Mp(t,n){var i=Object.create(t.prototype);for(var s in n)i[s]=n[s];return i}function ds(){}var ss=.7,Co=1/ss,Yi="\\s*([+-]?\\d+)\\s*",os="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hw=/^#([0-9a-f]{3,8})$/,dw=new RegExp(`^rgb\\(${Yi},${Yi},${Yi}\\)$`),pw=new RegExp(`^rgb\\(${cn},${cn},${cn}\\)$`),mw=new RegExp(`^rgba\\(${Yi},${Yi},${Yi},${os}\\)$`),gw=new RegExp(`^rgba\\(${cn},${cn},${cn},${os}\\)$`),_w=new RegExp(`^hsl\\(${os},${cn},${cn}\\)$`),vw=new RegExp(`^hsla\\(${os},${cn},${cn},${os}\\)$`),Xf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ku(ds,ti,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Jf,formatHex:Jf,formatHex8:yw,formatHsl:xw,formatRgb:Qf,toString:Qf});function Jf(){return this.rgb().formatHex()}function yw(){return this.rgb().formatHex8()}function xw(){return kp(this).formatHsl()}function Qf(){return this.rgb().formatRgb()}function ti(t){var n,i;return t=(t+"").trim().toLowerCase(),(n=hw.exec(t))?(i=n[1].length,n=parseInt(n[1],16),i===6?th(n):i===3?new Pe(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):i===8?Fs(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):i===4?Fs(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=dw.exec(t))?new Pe(n[1],n[2],n[3],1):(n=pw.exec(t))?new Pe(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=mw.exec(t))?Fs(n[1],n[2],n[3],n[4]):(n=gw.exec(t))?Fs(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=_w.exec(t))?ih(n[1],n[2]/100,n[3]/100,1):(n=vw.exec(t))?ih(n[1],n[2]/100,n[3]/100,n[4]):Xf.hasOwnProperty(t)?th(Xf[t]):t==="transparent"?new Pe(NaN,NaN,NaN,0):null}function th(t){return new Pe(t>>16&255,t>>8&255,t&255,1)}function Fs(t,n,i,s){return s<=0&&(t=n=i=NaN),new Pe(t,n,i,s)}function ww(t){return t instanceof ds||(t=ti(t)),t?(t=t.rgb(),new Pe(t.r,t.g,t.b,t.opacity)):new Pe}function Ul(t,n,i,s){return arguments.length===1?ww(t):new Pe(t,n,i,s??1)}function Pe(t,n,i,s){this.r=+t,this.g=+n,this.b=+i,this.opacity=+s}ku(Pe,Ul,Mp(ds,{brighter(t){return t=t==null?Co:Math.pow(Co,t),new Pe(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ss:Math.pow(ss,t),new Pe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Pe(_i(this.r),_i(this.g),_i(this.b),So(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eh,formatHex:eh,formatHex8:bw,formatRgb:nh,toString:nh}));function eh(){return`#${di(this.r)}${di(this.g)}${di(this.b)}`}function bw(){return`#${di(this.r)}${di(this.g)}${di(this.b)}${di((isNaN(this.opacity)?1:this.opacity)*255)}`}function nh(){const t=So(this.opacity);return`${t===1?"rgb(":"rgba("}${_i(this.r)}, ${_i(this.g)}, ${_i(this.b)}${t===1?")":`, ${t})`}`}function So(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _i(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function di(t){return t=_i(t),(t<16?"0":"")+t.toString(16)}function ih(t,n,i,s){return s<=0?t=n=i=NaN:i<=0||i>=1?t=n=NaN:n<=0&&(t=NaN),new qe(t,n,i,s)}function kp(t){if(t instanceof qe)return new qe(t.h,t.s,t.l,t.opacity);if(t instanceof ds||(t=ti(t)),!t)return new qe;if(t instanceof qe)return t;t=t.rgb();var n=t.r/255,i=t.g/255,s=t.b/255,o=Math.min(n,i,s),l=Math.max(n,i,s),u=NaN,h=l-o,f=(l+o)/2;return h?(n===l?u=(i-s)/h+(i<s)*6:i===l?u=(s-n)/h+2:u=(n-i)/h+4,h/=f<.5?l+o:2-l-o,u*=60):h=f>0&&f<1?0:u,new qe(u,h,f,t.opacity)}function Tw(t,n,i,s){return arguments.length===1?kp(t):new qe(t,n,i,s??1)}function qe(t,n,i,s){this.h=+t,this.s=+n,this.l=+i,this.opacity=+s}ku(qe,Tw,Mp(ds,{brighter(t){return t=t==null?Co:Math.pow(Co,t),new qe(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ss:Math.pow(ss,t),new qe(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,s=i+(i<.5?i:1-i)*n,o=2*i-s;return new Pe(tl(t>=240?t-240:t+120,o,s),tl(t,o,s),tl(t<120?t+240:t-120,o,s),this.opacity)},clamp(){return new qe(rh(this.h),Hs(this.s),Hs(this.l),So(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=So(this.opacity);return`${t===1?"hsl(":"hsla("}${rh(this.h)}, ${Hs(this.s)*100}%, ${Hs(this.l)*100}%${t===1?")":`, ${t})`}`}}));function rh(t){return t=(t||0)%360,t<0?t+360:t}function Hs(t){return Math.max(0,Math.min(1,t||0))}function tl(t,n,i){return(t<60?n+(i-n)*t/60:t<180?i:t<240?n+(i-n)*(240-t)/60:n)*255}const Au=t=>()=>t;function Cw(t,n){return function(i){return t+i*n}}function Sw(t,n,i){return t=Math.pow(t,i),n=Math.pow(n,i)-t,i=1/i,function(s){return Math.pow(t+s*n,i)}}function Pw(t){return(t=+t)==1?Ap:function(n,i){return i-n?Sw(n,i,t):Au(isNaN(n)?i:n)}}function Ap(t,n){var i=n-t;return i?Cw(t,i):Au(isNaN(t)?n:t)}const Po=(function t(n){var i=Pw(n);function s(o,l){var u=i((o=Ul(o)).r,(l=Ul(l)).r),h=i(o.g,l.g),f=i(o.b,l.b),p=Ap(o.opacity,l.opacity);return function(m){return o.r=u(m),o.g=h(m),o.b=f(m),o.opacity=p(m),o+""}}return s.gamma=t,s})(1);function Mw(t,n){n||(n=[]);var i=t?Math.min(n.length,t.length):0,s=n.slice(),o;return function(l){for(o=0;o<i;++o)s[o]=t[o]*(1-l)+n[o]*l;return s}}function kw(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Aw(t,n){var i=n?n.length:0,s=t?Math.min(i,t.length):0,o=new Array(s),l=new Array(i),u;for(u=0;u<s;++u)o[u]=ea(t[u],n[u]);for(;u<i;++u)l[u]=n[u];return function(h){for(u=0;u<s;++u)l[u]=o[u](h);return l}}function Lw(t,n){var i=new Date;return t=+t,n=+n,function(s){return i.setTime(t*(1-s)+n*s),i}}function $e(t,n){return t=+t,n=+n,function(i){return t*(1-i)+n*i}}function Ew(t,n){var i={},s={},o;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(o in n)o in t?i[o]=ea(t[o],n[o]):s[o]=n[o];return function(l){for(o in i)s[o]=i[o](l);return s}}var Vl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,el=new RegExp(Vl.source,"g");function Ow(t){return function(){return t}}function Iw(t){return function(n){return t(n)+""}}function Lp(t,n){var i=Vl.lastIndex=el.lastIndex=0,s,o,l,u=-1,h=[],f=[];for(t=t+"",n=n+"";(s=Vl.exec(t))&&(o=el.exec(n));)(l=o.index)>i&&(l=n.slice(i,l),h[u]?h[u]+=l:h[++u]=l),(s=s[0])===(o=o[0])?h[u]?h[u]+=o:h[++u]=o:(h[++u]=null,f.push({i:u,x:$e(s,o)})),i=el.lastIndex;return i<n.length&&(l=n.slice(i),h[u]?h[u]+=l:h[++u]=l),h.length<2?f[0]?Iw(f[0].x):Ow(n):(n=f.length,function(p){for(var m=0,g;m<n;++m)h[(g=f[m]).i]=g.x(p);return h.join("")})}function ea(t,n){var i=typeof n,s;return n==null||i==="boolean"?Au(n):(i==="number"?$e:i==="string"?(s=ti(n))?(n=s,Po):Lp:n instanceof ti?Po:n instanceof Date?Lw:kw(n)?Mw:Array.isArray(n)?Aw:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?Ew:$e)(t,n)}function Nw(t,n){return t=+t,n=+n,function(i){return Math.round(t*(1-i)+n*i)}}var sh=180/Math.PI,Wl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ep(t,n,i,s,o,l){var u,h,f;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(f=t*i+n*s)&&(i-=t*f,s-=n*f),(h=Math.sqrt(i*i+s*s))&&(i/=h,s/=h,f/=h),t*s<n*i&&(t=-t,n=-n,f=-f,u=-u),{translateX:o,translateY:l,rotate:Math.atan2(n,t)*sh,skewX:Math.atan(f)*sh,scaleX:u,scaleY:h}}var Zs;function zw(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Wl:Ep(n.a,n.b,n.c,n.d,n.e,n.f)}function Rw(t){return t==null||(Zs||(Zs=document.createElementNS("http://www.w3.org/2000/svg","g")),Zs.setAttribute("transform",t),!(t=Zs.transform.baseVal.consolidate()))?Wl:(t=t.matrix,Ep(t.a,t.b,t.c,t.d,t.e,t.f))}function Op(t,n,i,s){function o(p){return p.length?p.pop()+" ":""}function l(p,m,g,_,x,O){if(p!==g||m!==_){var N=x.push("translate(",null,n,null,i);O.push({i:N-4,x:$e(p,g)},{i:N-2,x:$e(m,_)})}else(g||_)&&x.push("translate("+g+n+_+i)}function u(p,m,g,_){p!==m?(p-m>180?m+=360:m-p>180&&(p+=360),_.push({i:g.push(o(g)+"rotate(",null,s)-2,x:$e(p,m)})):m&&g.push(o(g)+"rotate("+m+s)}function h(p,m,g,_){p!==m?_.push({i:g.push(o(g)+"skewX(",null,s)-2,x:$e(p,m)}):m&&g.push(o(g)+"skewX("+m+s)}function f(p,m,g,_,x,O){if(p!==g||m!==_){var N=x.push(o(x)+"scale(",null,",",null,")");O.push({i:N-4,x:$e(p,g)},{i:N-2,x:$e(m,_)})}else(g!==1||_!==1)&&x.push(o(x)+"scale("+g+","+_+")")}return function(p,m){var g=[],_=[];return p=t(p),m=t(m),l(p.translateX,p.translateY,m.translateX,m.translateY,g,_),u(p.rotate,m.rotate,g,_),h(p.skewX,m.skewX,g,_),f(p.scaleX,p.scaleY,m.scaleX,m.scaleY,g,_),p=m=null,function(x){for(var O=-1,N=_.length,T;++O<N;)g[(T=_[O]).i]=T.x(x);return g.join("")}}}var Dw=Op(zw,"px, ","px)","deg)"),Bw=Op(Rw,", ",")",")"),Fw=1e-12;function oh(t){return((t=Math.exp(t))+1/t)/2}function Hw(t){return((t=Math.exp(t))-1/t)/2}function Zw(t){return((t=Math.exp(2*t))-1)/(t+1)}const Uw=(function t(n,i,s){function o(l,u){var h=l[0],f=l[1],p=l[2],m=u[0],g=u[1],_=u[2],x=m-h,O=g-f,N=x*x+O*O,T,b;if(N<Fw)b=Math.log(_/p)/n,T=function(j){return[h+j*x,f+j*O,p*Math.exp(n*j*b)]};else{var P=Math.sqrt(N),C=(_*_-p*p+s*N)/(2*p*i*P),k=(_*_-p*p-s*N)/(2*_*i*P),V=Math.log(Math.sqrt(C*C+1)-C),F=Math.log(Math.sqrt(k*k+1)-k);b=(F-V)/n,T=function(j){var tt=j*b,q=oh(V),nt=p/(i*P)*(q*Zw(n*tt+V)-Hw(V));return[h+nt*x,f+nt*O,p*q/oh(n*tt+V)]}}return T.duration=b*1e3*n/Math.SQRT2,T}return o.rho=function(l){var u=Math.max(.001,+l),h=u*u,f=h*h;return t(u,h,f)},o})(Math.SQRT2,2,4);var rr=0,Br=0,Mr=0,Ip=1e3,Mo,Fr,ko=0,vi=0,na=0,as=typeof performance=="object"&&performance.now?performance:Date,Np=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Lu(){return vi||(Np(Vw),vi=as.now()+na)}function Vw(){vi=0}function Ao(){this._call=this._time=this._next=null}Ao.prototype=zp.prototype={constructor:Ao,restart:function(t,n,i){if(typeof t!="function")throw new TypeError("callback is not a function");i=(i==null?Lu():+i)+(n==null?0:+n),!this._next&&Fr!==this&&(Fr?Fr._next=this:Mo=this,Fr=this),this._call=t,this._time=i,jl()},stop:function(){this._call&&(this._call=null,this._time=1/0,jl())}};function zp(t,n,i){var s=new Ao;return s.restart(t,n,i),s}function Ww(){Lu(),++rr;for(var t=Mo,n;t;)(n=vi-t._time)>=0&&t._call.call(void 0,n),t=t._next;--rr}function ah(){vi=(ko=as.now())+na,rr=Br=0;try{Ww()}finally{rr=0,Gw(),vi=0}}function jw(){var t=as.now(),n=t-ko;n>Ip&&(na-=n,ko=t)}function Gw(){for(var t,n=Mo,i,s=1/0;n;)n._call?(s>n._time&&(s=n._time),t=n,n=n._next):(i=n._next,n._next=null,n=t?t._next=i:Mo=i);Fr=t,jl(s)}function jl(t){if(!rr){Br&&(Br=clearTimeout(Br));var n=t-vi;n>24?(t<1/0&&(Br=setTimeout(ah,t-as.now()-na)),Mr&&(Mr=clearInterval(Mr))):(Mr||(ko=as.now(),Mr=setInterval(jw,Ip)),rr=1,Np(ah))}}function lh(t,n,i){var s=new Ao;return n=n==null?0:+n,s.restart(o=>{s.stop(),t(o+n)},n,i),s}var $w=Qo("start","end","cancel","interrupt"),qw=[],Rp=0,uh=1,Gl=2,oo=3,ch=4,$l=5,ao=6;function ia(t,n,i,s,o,l){var u=t.__transition;if(!u)t.__transition={};else if(i in u)return;Kw(t,i,{name:n,index:s,group:o,on:$w,tween:qw,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:Rp})}function Eu(t,n){var i=Qe(t,n);if(i.state>Rp)throw new Error("too late; already scheduled");return i}function hn(t,n){var i=Qe(t,n);if(i.state>oo)throw new Error("too late; already running");return i}function Qe(t,n){var i=t.__transition;if(!i||!(i=i[n]))throw new Error("transition not found");return i}function Kw(t,n,i){var s=t.__transition,o;s[n]=i,i.timer=zp(l,0,i.time);function l(p){i.state=uh,i.timer.restart(u,i.delay,i.time),i.delay<=p&&u(p-i.delay)}function u(p){var m,g,_,x;if(i.state!==uh)return f();for(m in s)if(x=s[m],x.name===i.name){if(x.state===oo)return lh(u);x.state===ch?(x.state=ao,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete s[m]):+m<n&&(x.state=ao,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete s[m])}if(lh(function(){i.state===oo&&(i.state=ch,i.timer.restart(h,i.delay,i.time),h(p))}),i.state=Gl,i.on.call("start",t,t.__data__,i.index,i.group),i.state===Gl){for(i.state=oo,o=new Array(_=i.tween.length),m=0,g=-1;m<_;++m)(x=i.tween[m].value.call(t,t.__data__,i.index,i.group))&&(o[++g]=x);o.length=g+1}}function h(p){for(var m=p<i.duration?i.ease.call(null,p/i.duration):(i.timer.restart(f),i.state=$l,1),g=-1,_=o.length;++g<_;)o[g].call(t,m);i.state===$l&&(i.on.call("end",t,t.__data__,i.index,i.group),f())}function f(){i.state=ao,i.timer.stop(),delete s[n];for(var p in s)return;delete t.__transition}}function Xi(t,n){var i=t.__transition,s,o,l=!0,u;if(i){n=n==null?null:n+"";for(u in i){if((s=i[u]).name!==n){l=!1;continue}o=s.state>Gl&&s.state<$l,s.state=ao,s.timer.stop(),s.on.call(o?"interrupt":"cancel",t,t.__data__,s.index,s.group),delete i[u]}l&&delete t.__transition}}function Yw(t){return this.each(function(){Xi(this,t)})}function Xw(t,n){var i,s;return function(){var o=hn(this,t),l=o.tween;if(l!==i){s=i=l;for(var u=0,h=s.length;u<h;++u)if(s[u].name===n){s=s.slice(),s.splice(u,1);break}}o.tween=s}}function Jw(t,n,i){var s,o;if(typeof i!="function")throw new Error;return function(){var l=hn(this,t),u=l.tween;if(u!==s){o=(s=u).slice();for(var h={name:n,value:i},f=0,p=o.length;f<p;++f)if(o[f].name===n){o[f]=h;break}f===p&&o.push(h)}l.tween=o}}function Qw(t,n){var i=this._id;if(t+="",arguments.length<2){for(var s=Qe(this.node(),i).tween,o=0,l=s.length,u;o<l;++o)if((u=s[o]).name===t)return u.value;return null}return this.each((n==null?Xw:Jw)(i,t,n))}function Ou(t,n,i){var s=t._id;return t.each(function(){var o=hn(this,s);(o.value||(o.value={}))[n]=i.apply(this,arguments)}),function(o){return Qe(o,s).value[n]}}function Dp(t,n){var i;return(typeof n=="number"?$e:n instanceof ti?Po:(i=ti(n))?(n=i,Po):Lp)(t,n)}function tb(t){return function(){this.removeAttribute(t)}}function eb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function nb(t,n,i){var s,o=i+"",l;return function(){var u=this.getAttribute(t);return u===o?null:u===s?l:l=n(s=u,i)}}function ib(t,n,i){var s,o=i+"",l;return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===s?l:l=n(s=u,i)}}function rb(t,n,i){var s,o,l;return function(){var u,h=i(this),f;return h==null?void this.removeAttribute(t):(u=this.getAttribute(t),f=h+"",u===f?null:u===s&&f===o?l:(o=f,l=n(s=u,h)))}}function sb(t,n,i){var s,o,l;return function(){var u,h=i(this),f;return h==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),f=h+"",u===f?null:u===s&&f===o?l:(o=f,l=n(s=u,h)))}}function ob(t,n){var i=ta(t),s=i==="transform"?Bw:Dp;return this.attrTween(t,typeof n=="function"?(i.local?sb:rb)(i,s,Ou(this,"attr."+t,n)):n==null?(i.local?eb:tb)(i):(i.local?ib:nb)(i,s,n))}function ab(t,n){return function(i){this.setAttribute(t,n.call(this,i))}}function lb(t,n){return function(i){this.setAttributeNS(t.space,t.local,n.call(this,i))}}function ub(t,n){var i,s;function o(){var l=n.apply(this,arguments);return l!==s&&(i=(s=l)&&lb(t,l)),i}return o._value=n,o}function cb(t,n){var i,s;function o(){var l=n.apply(this,arguments);return l!==s&&(i=(s=l)&&ab(t,l)),i}return o._value=n,o}function fb(t,n){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;var s=ta(t);return this.tween(i,(s.local?ub:cb)(s,n))}function hb(t,n){return function(){Eu(this,t).delay=+n.apply(this,arguments)}}function db(t,n){return n=+n,function(){Eu(this,t).delay=n}}function pb(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?hb:db)(n,t)):Qe(this.node(),n).delay}function mb(t,n){return function(){hn(this,t).duration=+n.apply(this,arguments)}}function gb(t,n){return n=+n,function(){hn(this,t).duration=n}}function _b(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?mb:gb)(n,t)):Qe(this.node(),n).duration}function vb(t,n){if(typeof n!="function")throw new Error;return function(){hn(this,t).ease=n}}function yb(t){var n=this._id;return arguments.length?this.each(vb(n,t)):Qe(this.node(),n).ease}function xb(t,n){return function(){var i=n.apply(this,arguments);if(typeof i!="function")throw new Error;hn(this,t).ease=i}}function wb(t){if(typeof t!="function")throw new Error;return this.each(xb(this._id,t))}function bb(t){typeof t!="function"&&(t=mp(t));for(var n=this._groups,i=n.length,s=new Array(i),o=0;o<i;++o)for(var l=n[o],u=l.length,h=s[o]=[],f,p=0;p<u;++p)(f=l[p])&&t.call(f,f.__data__,p,l)&&h.push(f);return new Rn(s,this._parents,this._name,this._id)}function Tb(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,i=t._groups,s=n.length,o=i.length,l=Math.min(s,o),u=new Array(s),h=0;h<l;++h)for(var f=n[h],p=i[h],m=f.length,g=u[h]=new Array(m),_,x=0;x<m;++x)(_=f[x]||p[x])&&(g[x]=_);for(;h<s;++h)u[h]=n[h];return new Rn(u,this._parents,this._name,this._id)}function Cb(t){return(t+"").trim().split(/^|\s+/).every(function(n){var i=n.indexOf(".");return i>=0&&(n=n.slice(0,i)),!n||n==="start"})}function Sb(t,n,i){var s,o,l=Cb(n)?Eu:hn;return function(){var u=l(this,t),h=u.on;h!==s&&(o=(s=h).copy()).on(n,i),u.on=o}}function Pb(t,n){var i=this._id;return arguments.length<2?Qe(this.node(),i).on.on(t):this.each(Sb(i,t,n))}function Mb(t){return function(){var n=this.parentNode;for(var i in this.__transition)if(+i!==t)return;n&&n.removeChild(this)}}function kb(){return this.on("end.remove",Mb(this._id))}function Ab(t){var n=this._name,i=this._id;typeof t!="function"&&(t=Pu(t));for(var s=this._groups,o=s.length,l=new Array(o),u=0;u<o;++u)for(var h=s[u],f=h.length,p=l[u]=new Array(f),m,g,_=0;_<f;++_)(m=h[_])&&(g=t.call(m,m.__data__,_,h))&&("__data__"in m&&(g.__data__=m.__data__),p[_]=g,ia(p[_],n,i,_,p,Qe(m,i)));return new Rn(l,this._parents,n,i)}function Lb(t){var n=this._name,i=this._id;typeof t!="function"&&(t=pp(t));for(var s=this._groups,o=s.length,l=[],u=[],h=0;h<o;++h)for(var f=s[h],p=f.length,m,g=0;g<p;++g)if(m=f[g]){for(var _=t.call(m,m.__data__,g,f),x,O=Qe(m,i),N=0,T=_.length;N<T;++N)(x=_[N])&&ia(x,n,i,N,_,O);l.push(_),u.push(m)}return new Rn(l,u,n,i)}var Eb=hs.prototype.constructor;function Ob(){return new Eb(this._groups,this._parents)}function Ib(t,n){var i,s,o;return function(){var l=ir(this,t),u=(this.style.removeProperty(t),ir(this,t));return l===u?null:l===i&&u===s?o:o=n(i=l,s=u)}}function Bp(t){return function(){this.style.removeProperty(t)}}function Nb(t,n,i){var s,o=i+"",l;return function(){var u=ir(this,t);return u===o?null:u===s?l:l=n(s=u,i)}}function zb(t,n,i){var s,o,l;return function(){var u=ir(this,t),h=i(this),f=h+"";return h==null&&(f=h=(this.style.removeProperty(t),ir(this,t))),u===f?null:u===s&&f===o?l:(o=f,l=n(s=u,h))}}function Rb(t,n){var i,s,o,l="style."+n,u="end."+l,h;return function(){var f=hn(this,t),p=f.on,m=f.value[l]==null?h||(h=Bp(n)):void 0;(p!==i||o!==m)&&(s=(i=p).copy()).on(u,o=m),f.on=s}}function Db(t,n,i){var s=(t+="")=="transform"?Dw:Dp;return n==null?this.styleTween(t,Ib(t,s)).on("end.style."+t,Bp(t)):typeof n=="function"?this.styleTween(t,zb(t,s,Ou(this,"style."+t,n))).each(Rb(this._id,t)):this.styleTween(t,Nb(t,s,n),i).on("end.style."+t,null)}function Bb(t,n,i){return function(s){this.style.setProperty(t,n.call(this,s),i)}}function Fb(t,n,i){var s,o;function l(){var u=n.apply(this,arguments);return u!==o&&(s=(o=u)&&Bb(t,u,i)),s}return l._value=n,l}function Hb(t,n,i){var s="style."+(t+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(n==null)return this.tween(s,null);if(typeof n!="function")throw new Error;return this.tween(s,Fb(t,n,i??""))}function Zb(t){return function(){this.textContent=t}}function Ub(t){return function(){var n=t(this);this.textContent=n??""}}function Vb(t){return this.tween("text",typeof t=="function"?Ub(Ou(this,"text",t)):Zb(t==null?"":t+""))}function Wb(t){return function(n){this.textContent=t.call(this,n)}}function jb(t){var n,i;function s(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&Wb(o)),n}return s._value=t,s}function Gb(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,jb(t))}function $b(){for(var t=this._name,n=this._id,i=Fp(),s=this._groups,o=s.length,l=0;l<o;++l)for(var u=s[l],h=u.length,f,p=0;p<h;++p)if(f=u[p]){var m=Qe(f,n);ia(f,t,i,p,u,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new Rn(s,this._parents,t,i)}function qb(){var t,n,i=this,s=i._id,o=i.size();return new Promise(function(l,u){var h={value:u},f={value:function(){--o===0&&l()}};i.each(function(){var p=hn(this,s),m=p.on;m!==t&&(n=(t=m).copy(),n._.cancel.push(h),n._.interrupt.push(h),n._.end.push(f)),p.on=n}),o===0&&l()})}var Kb=0;function Rn(t,n,i,s){this._groups=t,this._parents=n,this._name=i,this._id=s}function Fp(){return++Kb}var xn=hs.prototype;Rn.prototype={constructor:Rn,select:Ab,selectAll:Lb,selectChild:xn.selectChild,selectChildren:xn.selectChildren,filter:bb,merge:Tb,selection:Ob,transition:$b,call:xn.call,nodes:xn.nodes,node:xn.node,size:xn.size,empty:xn.empty,each:xn.each,on:Pb,attr:ob,attrTween:fb,style:Db,styleTween:Hb,text:Vb,textTween:Gb,remove:kb,tween:Qw,delay:pb,duration:_b,ease:yb,easeVarying:wb,end:qb,[Symbol.iterator]:xn[Symbol.iterator]};function Yb(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Xb={time:null,delay:0,duration:250,ease:Yb};function Jb(t,n){for(var i;!(i=t.__transition)||!(i=i[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return i}function Qb(t){var n,i;t instanceof Rn?(n=t._id,t=t._name):(n=Fp(),(i=Xb).time=Lu(),t=t==null?null:t+"");for(var s=this._groups,o=s.length,l=0;l<o;++l)for(var u=s[l],h=u.length,f,p=0;p<h;++p)(f=u[p])&&ia(f,t,n,p,u,i||Jb(f,n));return new Rn(s,this._parents,t,n)}hs.prototype.interrupt=Yw;hs.prototype.transition=Qb;const nl=t=>()=>t;function t1(t,{sourceEvent:n,target:i,selection:s,mode:o,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},selection:{value:s,enumerable:!0,configurable:!0},mode:{value:o,enumerable:!0,configurable:!0},_:{value:l}})}function e1(t){t.stopImmediatePropagation()}function il(t){t.preventDefault(),t.stopImmediatePropagation()}var fh={name:"drag"},rl={name:"space"},zi={name:"handle"},Ri={name:"center"};const{abs:hh,max:de,min:pe}=Math;function dh(t){return[+t[0],+t[1]]}function ph(t){return[dh(t[0]),dh(t[1])]}var lo={name:"x",handles:["w","e"].map(ql),input:function(t,n){return t==null?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},sl={},wn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},mh={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},gh={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},n1={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},i1={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ql(t){return{type:t}}function r1(t){return!t.ctrlKey&&!t.button}function s1(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function o1(){return navigator.maxTouchPoints||"ontouchstart"in this}function ol(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function a1(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function l1(){return u1(lo)}function u1(t){var n=s1,i=r1,s=o1,o=!0,l=Qo("start","brush","end"),u=6,h;function f(T){var b=T.property("__brush",N).selectAll(".overlay").data([ql("overlay")]);b.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",wn.overlay).merge(b).each(function(){var C=ol(this).extent;Xt(this).attr("x",C[0][0]).attr("y",C[0][1]).attr("width",C[1][0]-C[0][0]).attr("height",C[1][1]-C[0][1])}),T.selectAll(".selection").data([ql("selection")]).enter().append("rect").attr("class","selection").attr("cursor",wn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var P=T.selectAll(".handle").data(t.handles,function(C){return C.type});P.exit().remove(),P.enter().append("rect").attr("class",function(C){return"handle handle--"+C.type}).attr("cursor",function(C){return wn[C.type]}),T.each(p).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",_).filter(s).on("touchstart.brush",_).on("touchmove.brush",x).on("touchend.brush touchcancel.brush",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}f.move=function(T,b,P){T.tween?T.on("start.brush",function(C){m(this,arguments).beforestart().start(C)}).on("interrupt.brush end.brush",function(C){m(this,arguments).end(C)}).tween("brush",function(){var C=this,k=C.__brush,V=m(C,arguments),F=k.selection,j=t.input(typeof b=="function"?b.apply(this,arguments):b,k.extent),tt=ea(F,j);function q(nt){k.selection=nt===1&&j===null?null:tt(nt),p.call(C),V.brush()}return F!==null&&j!==null?q:q(1)}):T.each(function(){var C=this,k=arguments,V=C.__brush,F=t.input(typeof b=="function"?b.apply(C,k):b,V.extent),j=m(C,k).beforestart();Xi(C),V.selection=F===null?null:F,p.call(C),j.start(P).brush(P).end(P)})},f.clear=function(T,b){f.move(T,null,b)};function p(){var T=Xt(this),b=ol(this).selection;b?(T.selectAll(".selection").style("display",null).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1]),T.selectAll(".handle").style("display",null).attr("x",function(P){return P.type[P.type.length-1]==="e"?b[1][0]-u/2:b[0][0]-u/2}).attr("y",function(P){return P.type[0]==="s"?b[1][1]-u/2:b[0][1]-u/2}).attr("width",function(P){return P.type==="n"||P.type==="s"?b[1][0]-b[0][0]+u:u}).attr("height",function(P){return P.type==="e"||P.type==="w"?b[1][1]-b[0][1]+u:u})):T.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function m(T,b,P){var C=T.__brush.emitter;return C&&(!P||!C.clean)?C:new g(T,b,P)}function g(T,b,P){this.that=T,this.args=b,this.state=T.__brush,this.active=0,this.clean=P}g.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(T,b){return this.starting?(this.starting=!1,this.emit("start",T,b)):this.emit("brush",T),this},brush:function(T,b){return this.emit("brush",T,b),this},end:function(T,b){return--this.active===0&&(delete this.state.emitter,this.emit("end",T,b)),this},emit:function(T,b,P){var C=Xt(this.that).datum();l.call(T,this.that,new t1(T,{sourceEvent:b,target:f,selection:t.output(this.state.selection),mode:P,dispatch:l}),C)}};function _(T){if(h&&!T.touches||!i.apply(this,arguments))return;var b=this,P=T.target.__data__.type,C=(o&&T.metaKey?P="overlay":P)==="selection"?fh:o&&T.altKey?Ri:zi,k=t===sl?null:n1[P],V=t===lo?null:i1[P],F=ol(b),j=F.extent,tt=F.selection,q=j[0][0],nt,Y,J=j[0][1],ft,A,at=j[1][0],z,G,D=j[1][1],Q,B,st=0,lt=0,bt,vt=k&&V&&o&&T.shiftKey,_t,pt,H=Array.from(T.touches||[T],S=>{const W=S.identifier;return S=on(S,b),S.point0=S.slice(),S.identifier=W,S});Xi(b);var ut=m(b,arguments,!0).beforestart();if(P==="overlay"){tt&&(bt=!0);const S=[H[0],H[1]||H[0]];F.selection=tt=[[nt=t===sl?q:pe(S[0][0],S[1][0]),ft=t===lo?J:pe(S[0][1],S[1][1])],[z=t===sl?at:de(S[0][0],S[1][0]),Q=t===lo?D:de(S[0][1],S[1][1])]],H.length>1&&w(T)}else nt=tt[0][0],ft=tt[0][1],z=tt[1][0],Q=tt[1][1];Y=nt,A=ft,G=z,B=Q;var Z=Xt(b).attr("pointer-events","none"),rt=Z.selectAll(".overlay").attr("cursor",wn[P]);if(T.touches)ut.moved=v,ut.ended=E;else{var U=Xt(T.view).on("mousemove.brush",v,!0).on("mouseup.brush",E,!0);o&&U.on("keydown.brush",K,!0).on("keyup.brush",X,!0),Sp(T.view)}p.call(b),ut.start(T,C.name);function v(S){for(const W of S.changedTouches||[S])for(const et of H)et.identifier===W.identifier&&(et.cur=on(W,b));if(vt&&!_t&&!pt&&H.length===1){const W=H[0];hh(W.cur[0]-W[0])>hh(W.cur[1]-W[1])?pt=!0:_t=!0}for(const W of H)W.cur&&(W[0]=W.cur[0],W[1]=W.cur[1]);bt=!0,il(S),w(S)}function w(S){const W=H[0],et=W.point0;var ct;switch(st=W[0]-et[0],lt=W[1]-et[1],C){case rl:case fh:{k&&(st=de(q-nt,pe(at-z,st)),Y=nt+st,G=z+st),V&&(lt=de(J-ft,pe(D-Q,lt)),A=ft+lt,B=Q+lt);break}case zi:{H[1]?(k&&(Y=de(q,pe(at,H[0][0])),G=de(q,pe(at,H[1][0])),k=1),V&&(A=de(J,pe(D,H[0][1])),B=de(J,pe(D,H[1][1])),V=1)):(k<0?(st=de(q-nt,pe(at-nt,st)),Y=nt+st,G=z):k>0&&(st=de(q-z,pe(at-z,st)),Y=nt,G=z+st),V<0?(lt=de(J-ft,pe(D-ft,lt)),A=ft+lt,B=Q):V>0&&(lt=de(J-Q,pe(D-Q,lt)),A=ft,B=Q+lt));break}case Ri:{k&&(Y=de(q,pe(at,nt-st*k)),G=de(q,pe(at,z+st*k))),V&&(A=de(J,pe(D,ft-lt*V)),B=de(J,pe(D,Q+lt*V)));break}}G<Y&&(k*=-1,ct=nt,nt=z,z=ct,ct=Y,Y=G,G=ct,P in mh&&rt.attr("cursor",wn[P=mh[P]])),B<A&&(V*=-1,ct=ft,ft=Q,Q=ct,ct=A,A=B,B=ct,P in gh&&rt.attr("cursor",wn[P=gh[P]])),F.selection&&(tt=F.selection),_t&&(Y=tt[0][0],G=tt[1][0]),pt&&(A=tt[0][1],B=tt[1][1]),(tt[0][0]!==Y||tt[0][1]!==A||tt[1][0]!==G||tt[1][1]!==B)&&(F.selection=[[Y,A],[G,B]],p.call(b),ut.brush(S,C.name))}function E(S){if(e1(S),S.touches){if(S.touches.length)return;h&&clearTimeout(h),h=setTimeout(function(){h=null},500)}else Pp(S.view,bt),U.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Z.attr("pointer-events","all"),rt.attr("cursor",wn.overlay),F.selection&&(tt=F.selection),a1(tt)&&(F.selection=null,p.call(b)),ut.end(S,C.name)}function K(S){switch(S.keyCode){case 16:{vt=k&&V;break}case 18:{C===zi&&(k&&(z=G-st*k,nt=Y+st*k),V&&(Q=B-lt*V,ft=A+lt*V),C=Ri,w(S));break}case 32:{(C===zi||C===Ri)&&(k<0?z=G-st:k>0&&(nt=Y-st),V<0?Q=B-lt:V>0&&(ft=A-lt),C=rl,rt.attr("cursor",wn.selection),w(S));break}default:return}il(S)}function X(S){switch(S.keyCode){case 16:{vt&&(_t=pt=vt=!1,w(S));break}case 18:{C===Ri&&(k<0?z=G:k>0&&(nt=Y),V<0?Q=B:V>0&&(ft=A),C=zi,w(S));break}case 32:{C===rl&&(S.altKey?(k&&(z=G-st*k,nt=Y+st*k),V&&(Q=B-lt*V,ft=A+lt*V),C=Ri):(k<0?z=G:k>0&&(nt=Y),V<0?Q=B:V>0&&(ft=A),C=zi),rt.attr("cursor",wn[P]),w(S));break}default:return}il(S)}}function x(T){m(this,arguments).moved(T)}function O(T){m(this,arguments).ended(T)}function N(){var T=this.__brush||{selection:null};return T.extent=ph(n.apply(this,arguments)),T.dim=t,T}return f.extent=function(T){return arguments.length?(n=typeof T=="function"?T:nl(ph(T)),f):n},f.filter=function(T){return arguments.length?(i=typeof T=="function"?T:nl(!!T),f):i},f.touchable=function(T){return arguments.length?(s=typeof T=="function"?T:nl(!!T),f):s},f.handleSize=function(T){return arguments.length?(u=+T,f):u},f.keyModifiers=function(T){return arguments.length?(o=!!T,f):o},f.on=function(){var T=l.on.apply(l,arguments);return T===l?f:T},f}function c1(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function Hn(t,n){return fetch(t,n).then(c1)}function f1(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Lo(t,n){if((i=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var i,s=t.slice(0,i);return[s.length>1?s[0]+s.slice(2):s,+t.slice(i+1)]}function sr(t){return t=Lo(Math.abs(t)),t?t[1]:NaN}function h1(t,n){return function(i,s){for(var o=i.length,l=[],u=0,h=t[0],f=0;o>0&&h>0&&(f+h+1>s&&(h=Math.max(1,s-f)),l.push(i.substring(o-=h,o+h)),!((f+=h+1)>s));)h=t[u=(u+1)%t.length];return l.reverse().join(n)}}function d1(t){return function(n){return n.replace(/[0-9]/g,function(i){return t[+i]})}}var p1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Eo(t){if(!(n=p1.exec(t)))throw new Error("invalid format: "+t);var n;return new Iu({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Eo.prototype=Iu.prototype;function Iu(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Iu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function m1(t){t:for(var n=t.length,i=1,s=-1,o;i<n;++i)switch(t[i]){case".":s=o=i;break;case"0":s===0&&(s=i),o=i;break;default:if(!+t[i])break t;s>0&&(s=0);break}return s>0?t.slice(0,s)+t.slice(o+1):t}var Hp;function g1(t,n){var i=Lo(t,n);if(!i)return t+"";var s=i[0],o=i[1],l=o-(Hp=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,u=s.length;return l===u?s:l>u?s+new Array(l-u+1).join("0"):l>0?s.slice(0,l)+"."+s.slice(l):"0."+new Array(1-l).join("0")+Lo(t,Math.max(0,n+l-1))[0]}function _h(t,n){var i=Lo(t,n);if(!i)return t+"";var s=i[0],o=i[1];return o<0?"0."+new Array(-o).join("0")+s:s.length>o+1?s.slice(0,o+1)+"."+s.slice(o+1):s+new Array(o-s.length+2).join("0")}const vh={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:f1,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>_h(t*100,n),r:_h,s:g1,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function yh(t){return t}var xh=Array.prototype.map,wh=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _1(t){var n=t.grouping===void 0||t.thousands===void 0?yh:h1(xh.call(t.grouping,Number),t.thousands+""),i=t.currency===void 0?"":t.currency[0]+"",s=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",l=t.numerals===void 0?yh:d1(xh.call(t.numerals,String)),u=t.percent===void 0?"%":t.percent+"",h=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function p(g){g=Eo(g);var _=g.fill,x=g.align,O=g.sign,N=g.symbol,T=g.zero,b=g.width,P=g.comma,C=g.precision,k=g.trim,V=g.type;V==="n"?(P=!0,V="g"):vh[V]||(C===void 0&&(C=12),k=!0,V="g"),(T||_==="0"&&x==="=")&&(T=!0,_="0",x="=");var F=N==="$"?i:N==="#"&&/[boxX]/.test(V)?"0"+V.toLowerCase():"",j=N==="$"?s:/[%p]/.test(V)?u:"",tt=vh[V],q=/[defgprs%]/.test(V);C=C===void 0?6:/[gprs]/.test(V)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function nt(Y){var J=F,ft=j,A,at,z;if(V==="c")ft=tt(Y)+ft,Y="";else{Y=+Y;var G=Y<0||1/Y<0;if(Y=isNaN(Y)?f:tt(Math.abs(Y),C),k&&(Y=m1(Y)),G&&+Y==0&&O!=="+"&&(G=!1),J=(G?O==="("?O:h:O==="-"||O==="("?"":O)+J,ft=(V==="s"?wh[8+Hp/3]:"")+ft+(G&&O==="("?")":""),q){for(A=-1,at=Y.length;++A<at;)if(z=Y.charCodeAt(A),48>z||z>57){ft=(z===46?o+Y.slice(A+1):Y.slice(A))+ft,Y=Y.slice(0,A);break}}}P&&!T&&(Y=n(Y,1/0));var D=J.length+Y.length+ft.length,Q=D<b?new Array(b-D+1).join(_):"";switch(P&&T&&(Y=n(Q+Y,Q.length?b-ft.length:1/0),Q=""),x){case"<":Y=J+Y+ft+Q;break;case"=":Y=J+Q+Y+ft;break;case"^":Y=Q.slice(0,D=Q.length>>1)+J+Y+ft+Q.slice(D);break;default:Y=Q+J+Y+ft;break}return l(Y)}return nt.toString=function(){return g+""},nt}function m(g,_){var x=p((g=Eo(g),g.type="f",g)),O=Math.max(-8,Math.min(8,Math.floor(sr(_)/3)))*3,N=Math.pow(10,-O),T=wh[8+O/3];return function(b){return x(N*b)+T}}return{format:p,formatPrefix:m}}var Us,Zp,Up;v1({thousands:",",grouping:[3],currency:["$",""]});function v1(t){return Us=_1(t),Zp=Us.format,Up=Us.formatPrefix,Us}function y1(t){return Math.max(0,-sr(Math.abs(t)))}function x1(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sr(n)/3)))*3-sr(Math.abs(t)))}function w1(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,sr(n)-sr(t))+1}function ra(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}const bh=Symbol("implicit");function Vp(){var t=new Nl,n=[],i=[],s=bh;function o(l){let u=t.get(l);if(u===void 0){if(s!==bh)return s;t.set(l,u=n.push(l)-1)}return i[u%i.length]}return o.domain=function(l){if(!arguments.length)return n.slice();n=[],t=new Nl;for(const u of l)t.has(u)||t.set(u,n.push(u)-1);return o},o.range=function(l){return arguments.length?(i=Array.from(l),o):i.slice()},o.unknown=function(l){return arguments.length?(s=l,o):s},o.copy=function(){return Vp(n,i).unknown(s)},ra.apply(o,arguments),o}function Nu(){var t=Vp().unknown(void 0),n=t.domain,i=t.range,s=0,o=1,l,u,h=!1,f=0,p=0,m=.5;delete t.unknown;function g(){var _=n().length,x=o<s,O=x?o:s,N=x?s:o;l=(N-O)/Math.max(1,_-f+p*2),h&&(l=Math.floor(l)),O+=(N-O-l*(_-f))*m,u=l*(1-f),h&&(O=Math.round(O),u=Math.round(u));var T=Ty(_).map(function(b){return O+l*b});return i(x?T.reverse():T)}return t.domain=function(_){return arguments.length?(n(_),g()):n()},t.range=function(_){return arguments.length?([s,o]=_,s=+s,o=+o,g()):[s,o]},t.rangeRound=function(_){return[s,o]=_,s=+s,o=+o,h=!0,g()},t.bandwidth=function(){return u},t.step=function(){return l},t.round=function(_){return arguments.length?(h=!!_,g()):h},t.padding=function(_){return arguments.length?(f=Math.min(1,p=+_),g()):f},t.paddingInner=function(_){return arguments.length?(f=Math.min(1,_),g()):f},t.paddingOuter=function(_){return arguments.length?(p=+_,g()):p},t.align=function(_){return arguments.length?(m=Math.max(0,Math.min(1,_)),g()):m},t.copy=function(){return Nu(n(),[s,o]).round(h).paddingInner(f).paddingOuter(p).align(m)},ra.apply(g(),arguments)}function b1(t){return function(){return t}}function T1(t){return+t}var Th=[0,1];function Zi(t){return t}function Kl(t,n){return(n-=t=+t)?function(i){return(i-t)/n}:b1(isNaN(n)?NaN:.5)}function C1(t,n){var i;return t>n&&(i=t,t=n,n=i),function(s){return Math.max(t,Math.min(n,s))}}function S1(t,n,i){var s=t[0],o=t[1],l=n[0],u=n[1];return o<s?(s=Kl(o,s),l=i(u,l)):(s=Kl(s,o),l=i(l,u)),function(h){return l(s(h))}}function P1(t,n,i){var s=Math.min(t.length,n.length)-1,o=new Array(s),l=new Array(s),u=-1;for(t[s]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<s;)o[u]=Kl(t[u],t[u+1]),l[u]=i(n[u],n[u+1]);return function(h){var f=hy(t,h,1,s)-1;return l[f](o[f](h))}}function Wp(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function M1(){var t=Th,n=Th,i=ea,s,o,l,u=Zi,h,f,p;function m(){var _=Math.min(t.length,n.length);return u!==Zi&&(u=C1(t[0],t[_-1])),h=_>2?P1:S1,f=p=null,g}function g(_){return _==null||isNaN(_=+_)?l:(f||(f=h(t.map(s),n,i)))(s(u(_)))}return g.invert=function(_){return u(o((p||(p=h(n,t.map(s),$e)))(_)))},g.domain=function(_){return arguments.length?(t=Array.from(_,T1),m()):t.slice()},g.range=function(_){return arguments.length?(n=Array.from(_),m()):n.slice()},g.rangeRound=function(_){return n=Array.from(_),i=Nw,m()},g.clamp=function(_){return arguments.length?(u=_?!0:Zi,m()):u!==Zi},g.interpolate=function(_){return arguments.length?(i=_,m()):i},g.unknown=function(_){return arguments.length?(l=_,g):l},function(_,x){return s=_,o=x,m()}}function jp(){return M1()(Zi,Zi)}function k1(t,n,i,s){var o=Rl(t,n,i),l;switch(s=Eo(s??",f"),s.type){case"s":{var u=Math.max(Math.abs(t),Math.abs(n));return s.precision==null&&!isNaN(l=x1(o,u))&&(s.precision=l),Up(s,u)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(l=w1(o,Math.max(Math.abs(t),Math.abs(n))))&&(s.precision=l-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(l=y1(o))&&(s.precision=l-(s.type==="%")*2);break}}return Zp(s)}function A1(t){var n=t.domain;return t.ticks=function(i){var s=n();return by(s[0],s[s.length-1],i??10)},t.tickFormat=function(i,s){var o=n();return k1(o[0],o[o.length-1],i??10,s)},t.nice=function(i){i==null&&(i=10);var s=n(),o=0,l=s.length-1,u=s[o],h=s[l],f,p,m=10;for(h<u&&(p=u,u=h,h=p,p=o,o=l,l=p);m-- >0;){if(p=zl(u,h,i),p===f)return s[o]=u,s[l]=h,n(s);if(p>0)u=Math.floor(u/p)*p,h=Math.ceil(h/p)*p;else if(p<0)u=Math.ceil(u*p)/p,h=Math.floor(h*p)/p;else break;f=p}return t},t}function Yl(){var t=jp();return t.copy=function(){return Wp(t,Yl())},ra.apply(t,arguments),A1(t)}function L1(t,n){t=t.slice();var i=0,s=t.length-1,o=t[i],l=t[s],u;return l<o&&(u=i,i=s,s=u,u=o,o=l,l=u),t[i]=n.floor(o),t[s]=n.ceil(l),t}const al=new Date,ll=new Date;function re(t,n,i,s){function o(l){return t(l=arguments.length===0?new Date:new Date(+l)),l}return o.floor=l=>(t(l=new Date(+l)),l),o.ceil=l=>(t(l=new Date(l-1)),n(l,1),t(l),l),o.round=l=>{const u=o(l),h=o.ceil(l);return l-u<h-l?u:h},o.offset=(l,u)=>(n(l=new Date(+l),u==null?1:Math.floor(u)),l),o.range=(l,u,h)=>{const f=[];if(l=o.ceil(l),h=h==null?1:Math.floor(h),!(l<u)||!(h>0))return f;let p;do f.push(p=new Date(+l)),n(l,h),t(l);while(p<l&&l<u);return f},o.filter=l=>re(u=>{if(u>=u)for(;t(u),!l(u);)u.setTime(u-1)},(u,h)=>{if(u>=u)if(h<0)for(;++h<=0;)for(;n(u,-1),!l(u););else for(;--h>=0;)for(;n(u,1),!l(u););}),i&&(o.count=(l,u)=>(al.setTime(+l),ll.setTime(+u),t(al),t(ll),Math.floor(i(al,ll))),o.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?o.filter(s?u=>s(u)%l===0:u=>o.count(0,u)%l===0):o)),o}const Oo=re(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);Oo.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?re(n=>{n.setTime(Math.floor(n/t)*t)},(n,i)=>{n.setTime(+n+i*t)},(n,i)=>(i-n)/t):Oo);Oo.range;const kn=1e3,He=kn*60,An=He*60,Dn=An*24,zu=Dn*7,Ch=Dn*30,ul=Dn*365,Ui=re(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*kn)},(t,n)=>(n-t)/kn,t=>t.getUTCSeconds());Ui.range;const Ru=re(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*kn)},(t,n)=>{t.setTime(+t+n*He)},(t,n)=>(n-t)/He,t=>t.getMinutes());Ru.range;const E1=re(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*He)},(t,n)=>(n-t)/He,t=>t.getUTCMinutes());E1.range;const Du=re(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*kn-t.getMinutes()*He)},(t,n)=>{t.setTime(+t+n*An)},(t,n)=>(n-t)/An,t=>t.getHours());Du.range;const O1=re(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*An)},(t,n)=>(n-t)/An,t=>t.getUTCHours());O1.range;const ps=re(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*He)/Dn,t=>t.getDate()-1);ps.range;const Bu=re(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Dn,t=>t.getUTCDate()-1);Bu.range;const I1=re(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Dn,t=>Math.floor(t/Dn));I1.range;function bi(t){return re(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,i)=>{n.setDate(n.getDate()+i*7)},(n,i)=>(i-n-(i.getTimezoneOffset()-n.getTimezoneOffset())*He)/zu)}const sa=bi(0),Io=bi(1),N1=bi(2),z1=bi(3),or=bi(4),R1=bi(5),D1=bi(6);sa.range;Io.range;N1.range;z1.range;or.range;R1.range;D1.range;function Ti(t){return re(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,i)=>{n.setUTCDate(n.getUTCDate()+i*7)},(n,i)=>(i-n)/zu)}const Gp=Ti(0),No=Ti(1),B1=Ti(2),F1=Ti(3),ar=Ti(4),H1=Ti(5),Z1=Ti(6);Gp.range;No.range;B1.range;F1.range;ar.range;H1.range;Z1.range;const Fu=re(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Fu.range;const U1=re(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());U1.range;const Bn=re(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());Bn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:re(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,i)=>{n.setFullYear(n.getFullYear()+i*t)});Bn.range;const yi=re(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());yi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:re(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,i)=>{n.setUTCFullYear(n.getUTCFullYear()+i*t)});yi.range;function V1(t,n,i,s,o,l){const u=[[Ui,1,kn],[Ui,5,5*kn],[Ui,15,15*kn],[Ui,30,30*kn],[l,1,He],[l,5,5*He],[l,15,15*He],[l,30,30*He],[o,1,An],[o,3,3*An],[o,6,6*An],[o,12,12*An],[s,1,Dn],[s,2,2*Dn],[i,1,zu],[n,1,Ch],[n,3,3*Ch],[t,1,ul]];function h(p,m,g){const _=m<p;_&&([p,m]=[m,p]);const x=g&&typeof g.range=="function"?g:f(p,m,g),O=x?x.range(p,+m+1):[];return _?O.reverse():O}function f(p,m,g){const _=Math.abs(m-p)/g,x=Tu(([,,T])=>T).right(u,_);if(x===u.length)return t.every(Rl(p/ul,m/ul,g));if(x===0)return Oo.every(Math.max(Rl(p,m,g),1));const[O,N]=u[_/u[x-1][2]<u[x][2]/_?x-1:x];return O.every(N)}return[h,f]}const[W1,j1]=V1(Bn,Fu,sa,ps,Du,Ru);function cl(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function fl(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function kr(t,n,i){return{y:t,m:n,d:i,H:0,M:0,S:0,L:0}}function G1(t){var n=t.dateTime,i=t.date,s=t.time,o=t.periods,l=t.days,u=t.shortDays,h=t.months,f=t.shortMonths,p=Ar(o),m=Lr(o),g=Ar(l),_=Lr(l),x=Ar(u),O=Lr(u),N=Ar(h),T=Lr(h),b=Ar(f),P=Lr(f),C={a:G,A:D,b:Q,B,c:null,d:Lh,e:Lh,f:mT,g:ST,G:MT,H:hT,I:dT,j:pT,L:$p,m:gT,M:_T,p:st,q:lt,Q:Ih,s:Nh,S:vT,u:yT,U:xT,V:wT,w:bT,W:TT,x:null,X:null,y:CT,Y:PT,Z:kT,"%":Oh},k={a:bt,A:vt,b:_t,B:pt,c:null,d:Eh,e:Eh,f:OT,g:UT,G:WT,H:AT,I:LT,j:ET,L:Kp,m:IT,M:NT,p:H,q:ut,Q:Ih,s:Nh,S:zT,u:RT,U:DT,V:BT,w:FT,W:HT,x:null,X:null,y:ZT,Y:VT,Z:jT,"%":Oh},V={a:nt,A:Y,b:J,B:ft,c:A,d:kh,e:kh,f:lT,g:Mh,G:Ph,H:Ah,I:Ah,j:rT,L:aT,m:iT,M:sT,p:q,q:nT,Q:cT,s:fT,S:oT,u:X1,U:J1,V:Q1,w:Y1,W:tT,x:at,X:z,y:Mh,Y:Ph,Z:eT,"%":uT};C.x=F(i,C),C.X=F(s,C),C.c=F(n,C),k.x=F(i,k),k.X=F(s,k),k.c=F(n,k);function F(Z,rt){return function(U){var v=[],w=-1,E=0,K=Z.length,X,S,W;for(U instanceof Date||(U=new Date(+U));++w<K;)Z.charCodeAt(w)===37&&(v.push(Z.slice(E,w)),(S=Sh[X=Z.charAt(++w)])!=null?X=Z.charAt(++w):S=X==="e"?" ":"0",(W=rt[X])&&(X=W(U,S)),v.push(X),E=w+1);return v.push(Z.slice(E,w)),v.join("")}}function j(Z,rt){return function(U){var v=kr(1900,void 0,1),w=tt(v,Z,U+="",0),E,K;if(w!=U.length)return null;if("Q"in v)return new Date(v.Q);if("s"in v)return new Date(v.s*1e3+("L"in v?v.L:0));if(rt&&!("Z"in v)&&(v.Z=0),"p"in v&&(v.H=v.H%12+v.p*12),v.m===void 0&&(v.m="q"in v?v.q:0),"V"in v){if(v.V<1||v.V>53)return null;"w"in v||(v.w=1),"Z"in v?(E=fl(kr(v.y,0,1)),K=E.getUTCDay(),E=K>4||K===0?No.ceil(E):No(E),E=Bu.offset(E,(v.V-1)*7),v.y=E.getUTCFullYear(),v.m=E.getUTCMonth(),v.d=E.getUTCDate()+(v.w+6)%7):(E=cl(kr(v.y,0,1)),K=E.getDay(),E=K>4||K===0?Io.ceil(E):Io(E),E=ps.offset(E,(v.V-1)*7),v.y=E.getFullYear(),v.m=E.getMonth(),v.d=E.getDate()+(v.w+6)%7)}else("W"in v||"U"in v)&&("w"in v||(v.w="u"in v?v.u%7:"W"in v?1:0),K="Z"in v?fl(kr(v.y,0,1)).getUTCDay():cl(kr(v.y,0,1)).getDay(),v.m=0,v.d="W"in v?(v.w+6)%7+v.W*7-(K+5)%7:v.w+v.U*7-(K+6)%7);return"Z"in v?(v.H+=v.Z/100|0,v.M+=v.Z%100,fl(v)):cl(v)}}function tt(Z,rt,U,v){for(var w=0,E=rt.length,K=U.length,X,S;w<E;){if(v>=K)return-1;if(X=rt.charCodeAt(w++),X===37){if(X=rt.charAt(w++),S=V[X in Sh?rt.charAt(w++):X],!S||(v=S(Z,U,v))<0)return-1}else if(X!=U.charCodeAt(v++))return-1}return v}function q(Z,rt,U){var v=p.exec(rt.slice(U));return v?(Z.p=m.get(v[0].toLowerCase()),U+v[0].length):-1}function nt(Z,rt,U){var v=x.exec(rt.slice(U));return v?(Z.w=O.get(v[0].toLowerCase()),U+v[0].length):-1}function Y(Z,rt,U){var v=g.exec(rt.slice(U));return v?(Z.w=_.get(v[0].toLowerCase()),U+v[0].length):-1}function J(Z,rt,U){var v=b.exec(rt.slice(U));return v?(Z.m=P.get(v[0].toLowerCase()),U+v[0].length):-1}function ft(Z,rt,U){var v=N.exec(rt.slice(U));return v?(Z.m=T.get(v[0].toLowerCase()),U+v[0].length):-1}function A(Z,rt,U){return tt(Z,n,rt,U)}function at(Z,rt,U){return tt(Z,i,rt,U)}function z(Z,rt,U){return tt(Z,s,rt,U)}function G(Z){return u[Z.getDay()]}function D(Z){return l[Z.getDay()]}function Q(Z){return f[Z.getMonth()]}function B(Z){return h[Z.getMonth()]}function st(Z){return o[+(Z.getHours()>=12)]}function lt(Z){return 1+~~(Z.getMonth()/3)}function bt(Z){return u[Z.getUTCDay()]}function vt(Z){return l[Z.getUTCDay()]}function _t(Z){return f[Z.getUTCMonth()]}function pt(Z){return h[Z.getUTCMonth()]}function H(Z){return o[+(Z.getUTCHours()>=12)]}function ut(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var rt=F(Z+="",C);return rt.toString=function(){return Z},rt},parse:function(Z){var rt=j(Z+="",!1);return rt.toString=function(){return Z},rt},utcFormat:function(Z){var rt=F(Z+="",k);return rt.toString=function(){return Z},rt},utcParse:function(Z){var rt=j(Z+="",!0);return rt.toString=function(){return Z},rt}}}var Sh={"-":"",_:" ",0:"0"},ae=/^\s*\d+/,$1=/^%/,q1=/[\\^$*+?|[\]().{}]/g;function Dt(t,n,i){var s=t<0?"-":"",o=(s?-t:t)+"",l=o.length;return s+(l<i?new Array(i-l+1).join(n)+o:o)}function K1(t){return t.replace(q1,"\\$&")}function Ar(t){return new RegExp("^(?:"+t.map(K1).join("|")+")","i")}function Lr(t){return new Map(t.map((n,i)=>[n.toLowerCase(),i]))}function Y1(t,n,i){var s=ae.exec(n.slice(i,i+1));return s?(t.w=+s[0],i+s[0].length):-1}function X1(t,n,i){var s=ae.exec(n.slice(i,i+1));return s?(t.u=+s[0],i+s[0].length):-1}function J1(t,n,i){var s=ae.exec(n.slice(i,i+2));return s?(t.U=+s[0],i+s[0].length):-1}function Q1(t,n,i){var s=ae.exec(n.slice(i,i+2));return s?(t.V=+s[0],i+s[0].length):-1}function tT(t,n,i){var s=ae.exec(n.slice(i,i+2));return s?(t.W=+s[0],i+s[0].length):-1}function Ph(t,n,i){var s=ae.exec(n.slice(i,i+4));return s?(t.y=+s[0],i+s[0].length):-1}function Mh(t,n,i){var s=ae.exec(n.slice(i,i+2));return s?(t.y=+s[0]+(+s[0]>68?1900:2e3),i+s[0].length):-1}function eT(t,n,i){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(i,i+6));return s?(t.Z=s[1]?0:-(s[2]+(s[3]||"00")),i+s[0].length):-1}function nT(t,n,i){var s=ae.exec(n.slice(i,i+1));return s?(t.q=s[0]*3-3,i+s[0].length):-1}function iT(t,n,i){var s=ae.exec(n.slice(i,i+2));return s?(t.m=s[0]-1,i+s[0].length):-1}function kh(t,n,i){var s=ae.exec(n.slice(i,i+2));return s?(t.d=+s[0],i+s[0].length):-1}function rT(t,n,i){var s=ae.exec(n.slice(i,i+3));return s?(t.m=0,t.d=+s[0],i+s[0].length):-1}function Ah(t,n,i){var s=ae.exec(n.slice(i,i+2));return s?(t.H=+s[0],i+s[0].length):-1}function sT(t,n,i){var s=ae.exec(n.slice(i,i+2));return s?(t.M=+s[0],i+s[0].length):-1}function oT(t,n,i){var s=ae.exec(n.slice(i,i+2));return s?(t.S=+s[0],i+s[0].length):-1}function aT(t,n,i){var s=ae.exec(n.slice(i,i+3));return s?(t.L=+s[0],i+s[0].length):-1}function lT(t,n,i){var s=ae.exec(n.slice(i,i+6));return s?(t.L=Math.floor(s[0]/1e3),i+s[0].length):-1}function uT(t,n,i){var s=$1.exec(n.slice(i,i+1));return s?i+s[0].length:-1}function cT(t,n,i){var s=ae.exec(n.slice(i));return s?(t.Q=+s[0],i+s[0].length):-1}function fT(t,n,i){var s=ae.exec(n.slice(i));return s?(t.s=+s[0],i+s[0].length):-1}function Lh(t,n){return Dt(t.getDate(),n,2)}function hT(t,n){return Dt(t.getHours(),n,2)}function dT(t,n){return Dt(t.getHours()%12||12,n,2)}function pT(t,n){return Dt(1+ps.count(Bn(t),t),n,3)}function $p(t,n){return Dt(t.getMilliseconds(),n,3)}function mT(t,n){return $p(t,n)+"000"}function gT(t,n){return Dt(t.getMonth()+1,n,2)}function _T(t,n){return Dt(t.getMinutes(),n,2)}function vT(t,n){return Dt(t.getSeconds(),n,2)}function yT(t){var n=t.getDay();return n===0?7:n}function xT(t,n){return Dt(sa.count(Bn(t)-1,t),n,2)}function qp(t){var n=t.getDay();return n>=4||n===0?or(t):or.ceil(t)}function wT(t,n){return t=qp(t),Dt(or.count(Bn(t),t)+(Bn(t).getDay()===4),n,2)}function bT(t){return t.getDay()}function TT(t,n){return Dt(Io.count(Bn(t)-1,t),n,2)}function CT(t,n){return Dt(t.getFullYear()%100,n,2)}function ST(t,n){return t=qp(t),Dt(t.getFullYear()%100,n,2)}function PT(t,n){return Dt(t.getFullYear()%1e4,n,4)}function MT(t,n){var i=t.getDay();return t=i>=4||i===0?or(t):or.ceil(t),Dt(t.getFullYear()%1e4,n,4)}function kT(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Dt(n/60|0,"0",2)+Dt(n%60,"0",2)}function Eh(t,n){return Dt(t.getUTCDate(),n,2)}function AT(t,n){return Dt(t.getUTCHours(),n,2)}function LT(t,n){return Dt(t.getUTCHours()%12||12,n,2)}function ET(t,n){return Dt(1+Bu.count(yi(t),t),n,3)}function Kp(t,n){return Dt(t.getUTCMilliseconds(),n,3)}function OT(t,n){return Kp(t,n)+"000"}function IT(t,n){return Dt(t.getUTCMonth()+1,n,2)}function NT(t,n){return Dt(t.getUTCMinutes(),n,2)}function zT(t,n){return Dt(t.getUTCSeconds(),n,2)}function RT(t){var n=t.getUTCDay();return n===0?7:n}function DT(t,n){return Dt(Gp.count(yi(t)-1,t),n,2)}function Yp(t){var n=t.getUTCDay();return n>=4||n===0?ar(t):ar.ceil(t)}function BT(t,n){return t=Yp(t),Dt(ar.count(yi(t),t)+(yi(t).getUTCDay()===4),n,2)}function FT(t){return t.getUTCDay()}function HT(t,n){return Dt(No.count(yi(t)-1,t),n,2)}function ZT(t,n){return Dt(t.getUTCFullYear()%100,n,2)}function UT(t,n){return t=Yp(t),Dt(t.getUTCFullYear()%100,n,2)}function VT(t,n){return Dt(t.getUTCFullYear()%1e4,n,4)}function WT(t,n){var i=t.getUTCDay();return t=i>=4||i===0?ar(t):ar.ceil(t),Dt(t.getUTCFullYear()%1e4,n,4)}function jT(){return"+0000"}function Oh(){return"%"}function Ih(t){return+t}function Nh(t){return Math.floor(+t/1e3)}var Di,Hu;GT({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function GT(t){return Di=G1(t),Hu=Di.format,Di.parse,Di.utcFormat,Di.utcParse,Di}function $T(t){return new Date(t)}function qT(t){return t instanceof Date?+t:+new Date(+t)}function Xp(t,n,i,s,o,l,u,h,f,p){var m=jp(),g=m.invert,_=m.domain,x=p(".%L"),O=p(":%S"),N=p("%I:%M"),T=p("%I %p"),b=p("%a %d"),P=p("%b %d"),C=p("%B"),k=p("%Y");function V(F){return(f(F)<F?x:h(F)<F?O:u(F)<F?N:l(F)<F?T:s(F)<F?o(F)<F?b:P:i(F)<F?C:k)(F)}return m.invert=function(F){return new Date(g(F))},m.domain=function(F){return arguments.length?_(Array.from(F,qT)):_().map($T)},m.ticks=function(F){var j=_();return t(j[0],j[j.length-1],F??10)},m.tickFormat=function(F,j){return j==null?V:p(j)},m.nice=function(F){var j=_();return(!F||typeof F.range!="function")&&(F=n(j[0],j[j.length-1],F??10)),F?_(L1(j,F)):m},m.copy=function(){return Wp(m,Xp(t,n,i,s,o,l,u,h,f,p))},m}function Zu(){return ra.apply(Xp(W1,j1,Bn,Fu,sa,ps,Du,Ru,Ui,Hu).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}const Vs=t=>()=>t;function KT(t,{sourceEvent:n,target:i,transform:s,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:o}})}function Ln(t,n,i){this.k=t,this.x=n,this.y=i}Ln.prototype={constructor:Ln,scale:function(t){return t===1?this:new Ln(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Ln(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var lr=new Ln(1,0,0);Ln.prototype;function hl(t){t.stopImmediatePropagation()}function Er(t){t.preventDefault(),t.stopImmediatePropagation()}function YT(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function XT(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function zh(){return this.__zoom||lr}function JT(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function QT(){return navigator.maxTouchPoints||"ontouchstart"in this}function tC(t,n,i){var s=t.invertX(n[0][0])-i[0][0],o=t.invertX(n[1][0])-i[1][0],l=t.invertY(n[0][1])-i[0][1],u=t.invertY(n[1][1])-i[1][1];return t.translate(o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o),u>l?(l+u)/2:Math.min(0,l)||Math.max(0,u))}function Uu(){var t=YT,n=XT,i=tC,s=JT,o=QT,l=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],h=250,f=Uw,p=Qo("start","zoom","end"),m,g,_,x=500,O=150,N=0,T=10;function b(A){A.property("__zoom",zh).on("wheel.zoom",tt,{passive:!1}).on("mousedown.zoom",q).on("dblclick.zoom",nt).filter(o).on("touchstart.zoom",Y).on("touchmove.zoom",J).on("touchend.zoom touchcancel.zoom",ft).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(A,at,z,G){var D=A.selection?A.selection():A;D.property("__zoom",zh),A!==D?V(A,at,z,G):D.interrupt().each(function(){F(this,arguments).event(G).start().zoom(null,typeof at=="function"?at.apply(this,arguments):at).end()})},b.scaleBy=function(A,at,z,G){b.scaleTo(A,function(){var D=this.__zoom.k,Q=typeof at=="function"?at.apply(this,arguments):at;return D*Q},z,G)},b.scaleTo=function(A,at,z,G){b.transform(A,function(){var D=n.apply(this,arguments),Q=this.__zoom,B=z==null?k(D):typeof z=="function"?z.apply(this,arguments):z,st=Q.invert(B),lt=typeof at=="function"?at.apply(this,arguments):at;return i(C(P(Q,lt),B,st),D,u)},z,G)},b.translateBy=function(A,at,z,G){b.transform(A,function(){return i(this.__zoom.translate(typeof at=="function"?at.apply(this,arguments):at,typeof z=="function"?z.apply(this,arguments):z),n.apply(this,arguments),u)},null,G)},b.translateTo=function(A,at,z,G,D){b.transform(A,function(){var Q=n.apply(this,arguments),B=this.__zoom,st=G==null?k(Q):typeof G=="function"?G.apply(this,arguments):G;return i(lr.translate(st[0],st[1]).scale(B.k).translate(typeof at=="function"?-at.apply(this,arguments):-at,typeof z=="function"?-z.apply(this,arguments):-z),Q,u)},G,D)};function P(A,at){return at=Math.max(l[0],Math.min(l[1],at)),at===A.k?A:new Ln(at,A.x,A.y)}function C(A,at,z){var G=at[0]-z[0]*A.k,D=at[1]-z[1]*A.k;return G===A.x&&D===A.y?A:new Ln(A.k,G,D)}function k(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function V(A,at,z,G){A.on("start.zoom",function(){F(this,arguments).event(G).start()}).on("interrupt.zoom end.zoom",function(){F(this,arguments).event(G).end()}).tween("zoom",function(){var D=this,Q=arguments,B=F(D,Q).event(G),st=n.apply(D,Q),lt=z==null?k(st):typeof z=="function"?z.apply(D,Q):z,bt=Math.max(st[1][0]-st[0][0],st[1][1]-st[0][1]),vt=D.__zoom,_t=typeof at=="function"?at.apply(D,Q):at,pt=f(vt.invert(lt).concat(bt/vt.k),_t.invert(lt).concat(bt/_t.k));return function(H){if(H===1)H=_t;else{var ut=pt(H),Z=bt/ut[2];H=new Ln(Z,lt[0]-ut[0]*Z,lt[1]-ut[1]*Z)}B.zoom(null,H)}})}function F(A,at,z){return!z&&A.__zooming||new j(A,at)}function j(A,at){this.that=A,this.args=at,this.active=0,this.sourceEvent=null,this.extent=n.apply(A,at),this.taps=0}j.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,at){return this.mouse&&A!=="mouse"&&(this.mouse[1]=at.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=at.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=at.invert(this.touch1[0])),this.that.__zoom=at,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var at=Xt(this.that).datum();p.call(A,this.that,new KT(A,{sourceEvent:this.sourceEvent,target:b,transform:this.that.__zoom,dispatch:p}),at)}};function tt(A,...at){if(!t.apply(this,arguments))return;var z=F(this,at).event(A),G=this.__zoom,D=Math.max(l[0],Math.min(l[1],G.k*Math.pow(2,s.apply(this,arguments)))),Q=on(A);if(z.wheel)(z.mouse[0][0]!==Q[0]||z.mouse[0][1]!==Q[1])&&(z.mouse[1]=G.invert(z.mouse[0]=Q)),clearTimeout(z.wheel);else{if(G.k===D)return;z.mouse=[Q,G.invert(Q)],Xi(this),z.start()}Er(A),z.wheel=setTimeout(B,O),z.zoom("mouse",i(C(P(G,D),z.mouse[0],z.mouse[1]),z.extent,u));function B(){z.wheel=null,z.end()}}function q(A,...at){if(_||!t.apply(this,arguments))return;var z=A.currentTarget,G=F(this,at,!0).event(A),D=Xt(A.view).on("mousemove.zoom",lt,!0).on("mouseup.zoom",bt,!0),Q=on(A,z),B=A.clientX,st=A.clientY;Sp(A.view),hl(A),G.mouse=[Q,this.__zoom.invert(Q)],Xi(this),G.start();function lt(vt){if(Er(vt),!G.moved){var _t=vt.clientX-B,pt=vt.clientY-st;G.moved=_t*_t+pt*pt>N}G.event(vt).zoom("mouse",i(C(G.that.__zoom,G.mouse[0]=on(vt,z),G.mouse[1]),G.extent,u))}function bt(vt){D.on("mousemove.zoom mouseup.zoom",null),Pp(vt.view,G.moved),Er(vt),G.event(vt).end()}}function nt(A,...at){if(t.apply(this,arguments)){var z=this.__zoom,G=on(A.changedTouches?A.changedTouches[0]:A,this),D=z.invert(G),Q=z.k*(A.shiftKey?.5:2),B=i(C(P(z,Q),G,D),n.apply(this,at),u);Er(A),h>0?Xt(this).transition().duration(h).call(V,B,G,A):Xt(this).call(b.transform,B,G,A)}}function Y(A,...at){if(t.apply(this,arguments)){var z=A.touches,G=z.length,D=F(this,at,A.changedTouches.length===G).event(A),Q,B,st,lt;for(hl(A),B=0;B<G;++B)st=z[B],lt=on(st,this),lt=[lt,this.__zoom.invert(lt),st.identifier],D.touch0?!D.touch1&&D.touch0[2]!==lt[2]&&(D.touch1=lt,D.taps=0):(D.touch0=lt,Q=!0,D.taps=1+!!m);m&&(m=clearTimeout(m)),Q&&(D.taps<2&&(g=lt[0],m=setTimeout(function(){m=null},x)),Xi(this),D.start())}}function J(A,...at){if(this.__zooming){var z=F(this,at).event(A),G=A.changedTouches,D=G.length,Q,B,st,lt;for(Er(A),Q=0;Q<D;++Q)B=G[Q],st=on(B,this),z.touch0&&z.touch0[2]===B.identifier?z.touch0[0]=st:z.touch1&&z.touch1[2]===B.identifier&&(z.touch1[0]=st);if(B=z.that.__zoom,z.touch1){var bt=z.touch0[0],vt=z.touch0[1],_t=z.touch1[0],pt=z.touch1[1],H=(H=_t[0]-bt[0])*H+(H=_t[1]-bt[1])*H,ut=(ut=pt[0]-vt[0])*ut+(ut=pt[1]-vt[1])*ut;B=P(B,Math.sqrt(H/ut)),st=[(bt[0]+_t[0])/2,(bt[1]+_t[1])/2],lt=[(vt[0]+pt[0])/2,(vt[1]+pt[1])/2]}else if(z.touch0)st=z.touch0[0],lt=z.touch0[1];else return;z.zoom("touch",i(C(B,st,lt),z.extent,u))}}function ft(A,...at){if(this.__zooming){var z=F(this,at).event(A),G=A.changedTouches,D=G.length,Q,B;for(hl(A),_&&clearTimeout(_),_=setTimeout(function(){_=null},x),Q=0;Q<D;++Q)B=G[Q],z.touch0&&z.touch0[2]===B.identifier?delete z.touch0:z.touch1&&z.touch1[2]===B.identifier&&delete z.touch1;if(z.touch1&&!z.touch0&&(z.touch0=z.touch1,delete z.touch1),z.touch0)z.touch0[1]=this.__zoom.invert(z.touch0[0]);else if(z.end(),z.taps===2&&(B=on(B,this),Math.hypot(g[0]-B[0],g[1]-B[1])<T)){var st=Xt(this).on("dblclick.zoom");st&&st.apply(this,arguments)}}}return b.wheelDelta=function(A){return arguments.length?(s=typeof A=="function"?A:Vs(+A),b):s},b.filter=function(A){return arguments.length?(t=typeof A=="function"?A:Vs(!!A),b):t},b.touchable=function(A){return arguments.length?(o=typeof A=="function"?A:Vs(!!A),b):o},b.extent=function(A){return arguments.length?(n=typeof A=="function"?A:Vs([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),b):n},b.scaleExtent=function(A){return arguments.length?(l[0]=+A[0],l[1]=+A[1],b):[l[0],l[1]]},b.translateExtent=function(A){return arguments.length?(u[0][0]=+A[0][0],u[1][0]=+A[1][0],u[0][1]=+A[0][1],u[1][1]=+A[1][1],b):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},b.constrain=function(A){return arguments.length?(i=A,b):i},b.duration=function(A){return arguments.length?(h=+A,b):h},b.interpolate=function(A){return arguments.length?(f=A,b):f},b.on=function(){var A=p.on.apply(p,arguments);return A===p?b:A},b.clickDistance=function(A){return arguments.length?(N=(A=+A)*A,b):Math.sqrt(N)},b.tapDistance=function(A){return arguments.length?(T=+A,b):T},b}let Ws=null,js=null,Gs=null,$s=null,qs=null,Ks=null,Ys=null,Xs=null,Js=null;async function eC(){return Ws||(Ws=await Hn("/data/oceanus.geojson"),Ws)}async function oa(){return js||(js=await Hn("/data/vessels.json"),js)}async function nC(){return Gs||(Gs=await Hn("/data/transponder_pings.json"),Gs)}async function Jp(){return $s||($s=await Hn("/data/transactions.json"),$s)}async function iC(){return qs||(qs=await Hn("/data/trajectories.json"),qs)}async function Vu(){return Ks||(Ks=await Hn("/data/commodities.json"),Ks)}async function Qp(){return Ys||(Ys=await Hn("/data/documents.json"),Ys)}async function tm(){return Xs||(Xs=await Hn("/data/locations.json"),Xs)}async function em(){return Js||(Js=await Hn("/data/harbor_reports.json"),Js)}function rC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hr={exports:{}};var sC=Hr.exports,Rh;function oC(){return Rh||(Rh=1,(function(t,n){(function(i,s){s(n)})(sC,(function(i){var s="1.9.4";function o(e){var r,a,c,d;for(a=1,c=arguments.length;a<c;a++){d=arguments[a];for(r in d)e[r]=d[r]}return e}var l=Object.create||(function(){function e(){}return function(r){return e.prototype=r,new e}})();function u(e,r){var a=Array.prototype.slice;if(e.bind)return e.bind.apply(e,a.call(arguments,1));var c=a.call(arguments,2);return function(){return e.apply(r,c.length?c.concat(a.call(arguments)):arguments)}}var h=0;function f(e){return"_leaflet_id"in e||(e._leaflet_id=++h),e._leaflet_id}function p(e,r,a){var c,d,y,M;return M=function(){c=!1,d&&(y.apply(a,d),d=!1)},y=function(){c?d=arguments:(e.apply(a,arguments),setTimeout(M,r),c=!0)},y}function m(e,r,a){var c=r[1],d=r[0],y=c-d;return e===c&&a?e:((e-d)%y+y)%y+d}function g(){return!1}function _(e,r){if(r===!1)return e;var a=Math.pow(10,r===void 0?6:r);return Math.round(e*a)/a}function x(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function O(e){return x(e).split(/\s+/)}function N(e,r){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?l(e.options):{});for(var a in r)e.options[a]=r[a];return e.options}function T(e,r,a){var c=[];for(var d in e)c.push(encodeURIComponent(a?d.toUpperCase():d)+"="+encodeURIComponent(e[d]));return(!r||r.indexOf("?")===-1?"?":"&")+c.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function P(e,r){return e.replace(b,function(a,c){var d=r[c];if(d===void 0)throw new Error("No value provided for variable "+a);return typeof d=="function"&&(d=d(r)),d})}var C=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function k(e,r){for(var a=0;a<e.length;a++)if(e[a]===r)return a;return-1}var V="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function F(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var j=0;function tt(e){var r=+new Date,a=Math.max(0,16-(r-j));return j=r+a,window.setTimeout(e,a)}var q=window.requestAnimationFrame||F("RequestAnimationFrame")||tt,nt=window.cancelAnimationFrame||F("CancelAnimationFrame")||F("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function Y(e,r,a){if(a&&q===tt)e.call(r);else return q.call(window,u(e,r))}function J(e){e&&nt.call(window,e)}var ft={__proto__:null,extend:o,create:l,bind:u,get lastId(){return h},stamp:f,throttle:p,wrapNum:m,falseFn:g,formatNum:_,trim:x,splitWords:O,setOptions:N,getParamString:T,template:P,isArray:C,indexOf:k,emptyImageUrl:V,requestFn:q,cancelFn:nt,requestAnimFrame:Y,cancelAnimFrame:J};function A(){}A.extend=function(e){var r=function(){N(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=r.__super__=this.prototype,c=l(a);c.constructor=r,r.prototype=c;for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&d!=="prototype"&&d!=="__super__"&&(r[d]=this[d]);return e.statics&&o(r,e.statics),e.includes&&(at(e.includes),o.apply(null,[c].concat(e.includes))),o(c,e),delete c.statics,delete c.includes,c.options&&(c.options=a.options?l(a.options):{},o(c.options,e.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var y=0,M=c._initHooks.length;y<M;y++)c._initHooks[y].call(this)}},r},A.include=function(e){var r=this.prototype.options;return o(this.prototype,e),e.options&&(this.prototype.options=r,this.mergeOptions(e.options)),this},A.mergeOptions=function(e){return o(this.prototype.options,e),this},A.addInitHook=function(e){var r=Array.prototype.slice.call(arguments,1),a=typeof e=="function"?e:function(){this[e].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function at(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=C(e)?e:[e];for(var r=0;r<e.length;r++)e[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var z={on:function(e,r,a){if(typeof e=="object")for(var c in e)this._on(c,e[c],r);else{e=O(e);for(var d=0,y=e.length;d<y;d++)this._on(e[d],r,a)}return this},off:function(e,r,a){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var c in e)this._off(c,e[c],r);else{e=O(e);for(var d=arguments.length===1,y=0,M=e.length;y<M;y++)d?this._off(e[y]):this._off(e[y],r,a)}return this},_on:function(e,r,a,c){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(e,r,a)===!1){a===this&&(a=void 0);var d={fn:r,ctx:a};c&&(d.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(d)}},_off:function(e,r,a){var c,d,y;if(this._events&&(c=this._events[e],!!c)){if(arguments.length===1){if(this._firingCount)for(d=0,y=c.length;d<y;d++)c[d].fn=g;delete this._events[e];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var M=this._listens(e,r,a);if(M!==!1){var R=c[M];this._firingCount&&(R.fn=g,this._events[e]=c=c.slice()),c.splice(M,1)}}},fire:function(e,r,a){if(!this.listens(e,a))return this;var c=o({},r,{type:e,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var d=this._events[e];if(d){this._firingCount=this._firingCount+1||1;for(var y=0,M=d.length;y<M;y++){var R=d[y],$=R.fn;R.once&&this.off(e,$,R.ctx),$.call(R.ctx||this,c)}this._firingCount--}}return a&&this._propagateEvent(c),this},listens:function(e,r,a,c){typeof e!="string"&&console.warn('"string" type argument expected');var d=r;typeof r!="function"&&(c=!!r,d=void 0,a=void 0);var y=this._events&&this._events[e];if(y&&y.length&&this._listens(e,d,a)!==!1)return!0;if(c){for(var M in this._eventParents)if(this._eventParents[M].listens(e,r,a,c))return!0}return!1},_listens:function(e,r,a){if(!this._events)return!1;var c=this._events[e]||[];if(!r)return!!c.length;a===this&&(a=void 0);for(var d=0,y=c.length;d<y;d++)if(c[d].fn===r&&c[d].ctx===a)return d;return!1},once:function(e,r,a){if(typeof e=="object")for(var c in e)this._on(c,e[c],r,!0);else{e=O(e);for(var d=0,y=e.length;d<y;d++)this._on(e[d],r,a,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[f(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[f(e)],this},_propagateEvent:function(e){for(var r in this._eventParents)this._eventParents[r].fire(e.type,o({layer:e.target,propagatedFrom:e.target},e),!0)}};z.addEventListener=z.on,z.removeEventListener=z.clearAllEventListeners=z.off,z.addOneTimeEventListener=z.once,z.fireEvent=z.fire,z.hasEventListeners=z.listens;var G=A.extend(z);function D(e,r,a){this.x=a?Math.round(e):e,this.y=a?Math.round(r):r}var Q=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};D.prototype={clone:function(){return new D(this.x,this.y)},add:function(e){return this.clone()._add(B(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(B(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new D(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new D(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Q(this.x),this.y=Q(this.y),this},distanceTo:function(e){e=B(e);var r=e.x-this.x,a=e.y-this.y;return Math.sqrt(r*r+a*a)},equals:function(e){return e=B(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=B(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function B(e,r,a){return e instanceof D?e:C(e)?new D(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new D(e.x,e.y):new D(e,r,a)}function st(e,r){if(e)for(var a=r?[e,r]:e,c=0,d=a.length;c<d;c++)this.extend(a[c])}st.prototype={extend:function(e){var r,a;if(!e)return this;if(e instanceof D||typeof e[0]=="number"||"x"in e)r=a=B(e);else if(e=lt(e),r=e.min,a=e.max,!r||!a)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=a.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(e){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var r,a;return typeof e[0]=="number"||e instanceof D?e=B(e):e=lt(e),e instanceof st?(r=e.min,a=e.max):r=a=e,r.x>=this.min.x&&a.x<=this.max.x&&r.y>=this.min.y&&a.y<=this.max.y},intersects:function(e){e=lt(e);var r=this.min,a=this.max,c=e.min,d=e.max,y=d.x>=r.x&&c.x<=a.x,M=d.y>=r.y&&c.y<=a.y;return y&&M},overlaps:function(e){e=lt(e);var r=this.min,a=this.max,c=e.min,d=e.max,y=d.x>r.x&&c.x<a.x,M=d.y>r.y&&c.y<a.y;return y&&M},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var r=this.min,a=this.max,c=Math.abs(r.x-a.x)*e,d=Math.abs(r.y-a.y)*e;return lt(B(r.x-c,r.y-d),B(a.x+c,a.y+d))},equals:function(e){return e?(e=lt(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function lt(e,r){return!e||e instanceof st?e:new st(e,r)}function bt(e,r){if(e)for(var a=r?[e,r]:e,c=0,d=a.length;c<d;c++)this.extend(a[c])}bt.prototype={extend:function(e){var r=this._southWest,a=this._northEast,c,d;if(e instanceof _t)c=e,d=e;else if(e instanceof bt){if(c=e._southWest,d=e._northEast,!c||!d)return this}else return e?this.extend(pt(e)||vt(e)):this;return!r&&!a?(this._southWest=new _t(c.lat,c.lng),this._northEast=new _t(d.lat,d.lng)):(r.lat=Math.min(c.lat,r.lat),r.lng=Math.min(c.lng,r.lng),a.lat=Math.max(d.lat,a.lat),a.lng=Math.max(d.lng,a.lng)),this},pad:function(e){var r=this._southWest,a=this._northEast,c=Math.abs(r.lat-a.lat)*e,d=Math.abs(r.lng-a.lng)*e;return new bt(new _t(r.lat-c,r.lng-d),new _t(a.lat+c,a.lng+d))},getCenter:function(){return new _t((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new _t(this.getNorth(),this.getWest())},getSouthEast:function(){return new _t(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof _t||"lat"in e?e=pt(e):e=vt(e);var r=this._southWest,a=this._northEast,c,d;return e instanceof bt?(c=e.getSouthWest(),d=e.getNorthEast()):c=d=e,c.lat>=r.lat&&d.lat<=a.lat&&c.lng>=r.lng&&d.lng<=a.lng},intersects:function(e){e=vt(e);var r=this._southWest,a=this._northEast,c=e.getSouthWest(),d=e.getNorthEast(),y=d.lat>=r.lat&&c.lat<=a.lat,M=d.lng>=r.lng&&c.lng<=a.lng;return y&&M},overlaps:function(e){e=vt(e);var r=this._southWest,a=this._northEast,c=e.getSouthWest(),d=e.getNorthEast(),y=d.lat>r.lat&&c.lat<a.lat,M=d.lng>r.lng&&c.lng<a.lng;return y&&M},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,r){return e?(e=vt(e),this._southWest.equals(e.getSouthWest(),r)&&this._northEast.equals(e.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function vt(e,r){return e instanceof bt?e:new bt(e,r)}function _t(e,r,a){if(isNaN(e)||isNaN(r))throw new Error("Invalid LatLng object: ("+e+", "+r+")");this.lat=+e,this.lng=+r,a!==void 0&&(this.alt=+a)}_t.prototype={equals:function(e,r){if(!e)return!1;e=pt(e);var a=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return a<=(r===void 0?1e-9:r)},toString:function(e){return"LatLng("+_(this.lat,e)+", "+_(this.lng,e)+")"},distanceTo:function(e){return ut.distance(this,pt(e))},wrap:function(){return ut.wrapLatLng(this)},toBounds:function(e){var r=180*e/40075017,a=r/Math.cos(Math.PI/180*this.lat);return vt([this.lat-r,this.lng-a],[this.lat+r,this.lng+a])},clone:function(){return new _t(this.lat,this.lng,this.alt)}};function pt(e,r,a){return e instanceof _t?e:C(e)&&typeof e[0]!="object"?e.length===3?new _t(e[0],e[1],e[2]):e.length===2?new _t(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new _t(e.lat,"lng"in e?e.lng:e.lon,e.alt):r===void 0?null:new _t(e,r,a)}var H={latLngToPoint:function(e,r){var a=this.projection.project(e),c=this.scale(r);return this.transformation._transform(a,c)},pointToLatLng:function(e,r){var a=this.scale(r),c=this.transformation.untransform(e,a);return this.projection.unproject(c)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var r=this.projection.bounds,a=this.scale(e),c=this.transformation.transform(r.min,a),d=this.transformation.transform(r.max,a);return new st(c,d)},infinite:!1,wrapLatLng:function(e){var r=this.wrapLng?m(e.lng,this.wrapLng,!0):e.lng,a=this.wrapLat?m(e.lat,this.wrapLat,!0):e.lat,c=e.alt;return new _t(a,r,c)},wrapLatLngBounds:function(e){var r=e.getCenter(),a=this.wrapLatLng(r),c=r.lat-a.lat,d=r.lng-a.lng;if(c===0&&d===0)return e;var y=e.getSouthWest(),M=e.getNorthEast(),R=new _t(y.lat-c,y.lng-d),$=new _t(M.lat-c,M.lng-d);return new bt(R,$)}},ut=o({},H,{wrapLng:[-180,180],R:6371e3,distance:function(e,r){var a=Math.PI/180,c=e.lat*a,d=r.lat*a,y=Math.sin((r.lat-e.lat)*a/2),M=Math.sin((r.lng-e.lng)*a/2),R=y*y+Math.cos(c)*Math.cos(d)*M*M,$=2*Math.atan2(Math.sqrt(R),Math.sqrt(1-R));return this.R*$}}),Z=6378137,rt={R:Z,MAX_LATITUDE:85.0511287798,project:function(e){var r=Math.PI/180,a=this.MAX_LATITUDE,c=Math.max(Math.min(a,e.lat),-a),d=Math.sin(c*r);return new D(this.R*e.lng*r,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(e){var r=180/Math.PI;return new _t((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*r,e.x*r/this.R)},bounds:(function(){var e=Z*Math.PI;return new st([-e,-e],[e,e])})()};function U(e,r,a,c){if(C(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=r,this._c=a,this._d=c}U.prototype={transform:function(e,r){return this._transform(e.clone(),r)},_transform:function(e,r){return r=r||1,e.x=r*(this._a*e.x+this._b),e.y=r*(this._c*e.y+this._d),e},untransform:function(e,r){return r=r||1,new D((e.x/r-this._b)/this._a,(e.y/r-this._d)/this._c)}};function v(e,r,a,c){return new U(e,r,a,c)}var w=o({},ut,{code:"EPSG:3857",projection:rt,transformation:(function(){var e=.5/(Math.PI*rt.R);return v(e,.5,-e,.5)})()}),E=o({},w,{code:"EPSG:900913"});function K(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function X(e,r){var a="",c,d,y,M,R,$;for(c=0,y=e.length;c<y;c++){for(R=e[c],d=0,M=R.length;d<M;d++)$=R[d],a+=(d?"L":"M")+$.x+" "+$.y;a+=r?xt.svg?"z":"x":""}return a||"M0 0"}var S=document.documentElement.style,W="ActiveXObject"in window,et=W&&!document.addEventListener,ct="msLaunchUri"in navigator&&!("documentMode"in document),it=tn("webkit"),wt=tn("android"),ht=tn("android 2")||tn("android 3"),yt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),St=wt&&tn("Google")&&yt<537&&!("AudioNode"in window),Et=!!window.opera,Zt=!ct&&tn("chrome"),zt=tn("gecko")&&!it&&!Et&&!W,fe=!Zt&&tn("safari"),le=tn("phantom"),Me="OTransition"in S,Ee=navigator.platform.indexOf("Win")===0,Zn=W&&"transition"in S,Ci="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ht,he="MozPerspective"in S,Oe=!window.L_DISABLE_3D&&(Zn||Ci||he)&&!Me&&!le,Un=typeof orientation<"u"||tn("mobile"),ms=Un&&it,im=Un&&Ci,Gu=!window.PointerEvent&&window.MSPointerEvent,$u=!!(window.PointerEvent||Gu),qu="ontouchstart"in window||!!window.TouchEvent,rm=!window.L_NO_TOUCH&&(qu||$u),sm=Un&&Et,om=Un&&zt,am=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,lm=(function(){var e=!1;try{var r=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",g,r),window.removeEventListener("testPassiveEventSupport",g,r)}catch{}return e})(),um=(function(){return!!document.createElement("canvas").getContext})(),aa=!!(document.createElementNS&&K("svg").createSVGRect),cm=!!aa&&(function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),fm=!aa&&(function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var r=e.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}})(),hm=navigator.platform.indexOf("Mac")===0,dm=navigator.platform.indexOf("Linux")===0;function tn(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var xt={ie:W,ielt9:et,edge:ct,webkit:it,android:wt,android23:ht,androidStock:St,opera:Et,chrome:Zt,gecko:zt,safari:fe,phantom:le,opera12:Me,win:Ee,ie3d:Zn,webkit3d:Ci,gecko3d:he,any3d:Oe,mobile:Un,mobileWebkit:ms,mobileWebkit3d:im,msPointer:Gu,pointer:$u,touch:rm,touchNative:qu,mobileOpera:sm,mobileGecko:om,retina:am,passiveEvents:lm,canvas:um,svg:aa,vml:fm,inlineSvg:cm,mac:hm,linux:dm},Ku=xt.msPointer?"MSPointerDown":"pointerdown",Yu=xt.msPointer?"MSPointerMove":"pointermove",Xu=xt.msPointer?"MSPointerUp":"pointerup",Ju=xt.msPointer?"MSPointerCancel":"pointercancel",la={touchstart:Ku,touchmove:Yu,touchend:Xu,touchcancel:Ju},Qu={touchstart:ym,touchmove:gs,touchend:gs,touchcancel:gs},Si={},tc=!1;function pm(e,r,a){return r==="touchstart"&&vm(),Qu[r]?(a=Qu[r].bind(this,a),e.addEventListener(la[r],a,!1),a):(console.warn("wrong event specified:",r),g)}function mm(e,r,a){if(!la[r]){console.warn("wrong event specified:",r);return}e.removeEventListener(la[r],a,!1)}function gm(e){Si[e.pointerId]=e}function _m(e){Si[e.pointerId]&&(Si[e.pointerId]=e)}function ec(e){delete Si[e.pointerId]}function vm(){tc||(document.addEventListener(Ku,gm,!0),document.addEventListener(Yu,_m,!0),document.addEventListener(Xu,ec,!0),document.addEventListener(Ju,ec,!0),tc=!0)}function gs(e,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var a in Si)r.touches.push(Si[a]);r.changedTouches=[r],e(r)}}function ym(e,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&ue(r),gs(e,r)}function xm(e){var r={},a,c;for(c in e)a=e[c],r[c]=a&&a.bind?a.bind(e):a;return e=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var wm=200;function bm(e,r){e.addEventListener("dblclick",r);var a=0,c;function d(y){if(y.detail!==1){c=y.detail;return}if(!(y.pointerType==="mouse"||y.sourceCapabilities&&!y.sourceCapabilities.firesTouchEvents)){var M=oc(y);if(!(M.some(function($){return $ instanceof HTMLLabelElement&&$.attributes.for})&&!M.some(function($){return $ instanceof HTMLInputElement||$ instanceof HTMLSelectElement}))){var R=Date.now();R-a<=wm?(c++,c===2&&r(xm(y))):c=1,a=R}}}return e.addEventListener("click",d),{dblclick:r,simDblclick:d}}function Tm(e,r){e.removeEventListener("dblclick",r.dblclick),e.removeEventListener("click",r.simDblclick)}var ua=ys(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),hr=ys(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),nc=hr==="webkitTransition"||hr==="OTransition"?hr+"End":"transitionend";function ic(e){return typeof e=="string"?document.getElementById(e):e}function dr(e,r){var a=e.style[r]||e.currentStyle&&e.currentStyle[r];if((!a||a==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(e,null);a=c?c[r]:null}return a==="auto"?null:a}function Rt(e,r,a){var c=document.createElement(e);return c.className=r||"",a&&a.appendChild(c),c}function Yt(e){var r=e.parentNode;r&&r.removeChild(e)}function _s(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Pi(e){var r=e.parentNode;r&&r.lastChild!==e&&r.appendChild(e)}function Mi(e){var r=e.parentNode;r&&r.firstChild!==e&&r.insertBefore(e,r.firstChild)}function ca(e,r){if(e.classList!==void 0)return e.classList.contains(r);var a=vs(e);return a.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(a)}function At(e,r){if(e.classList!==void 0)for(var a=O(r),c=0,d=a.length;c<d;c++)e.classList.add(a[c]);else if(!ca(e,r)){var y=vs(e);fa(e,(y?y+" ":"")+r)}}function te(e,r){e.classList!==void 0?e.classList.remove(r):fa(e,x((" "+vs(e)+" ").replace(" "+r+" "," ")))}function fa(e,r){e.className.baseVal===void 0?e.className=r:e.className.baseVal=r}function vs(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function Ie(e,r){"opacity"in e.style?e.style.opacity=r:"filter"in e.style&&Cm(e,r)}function Cm(e,r){var a=!1,c="DXImageTransform.Microsoft.Alpha";try{a=e.filters.item(c)}catch{if(r===1)return}r=Math.round(r*100),a?(a.Enabled=r!==100,a.Opacity=r):e.style.filter+=" progid:"+c+"(opacity="+r+")"}function ys(e){for(var r=document.documentElement.style,a=0;a<e.length;a++)if(e[a]in r)return e[a];return!1}function ei(e,r,a){var c=r||new D(0,0);e.style[ua]=(xt.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(a?" scale("+a+")":"")}function ee(e,r){e._leaflet_pos=r,xt.any3d?ei(e,r):(e.style.left=r.x+"px",e.style.top=r.y+"px")}function ni(e){return e._leaflet_pos||new D(0,0)}var pr,mr,ha;if("onselectstart"in document)pr=function(){Mt(window,"selectstart",ue)},mr=function(){Wt(window,"selectstart",ue)};else{var gr=ys(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);pr=function(){if(gr){var e=document.documentElement.style;ha=e[gr],e[gr]="none"}},mr=function(){gr&&(document.documentElement.style[gr]=ha,ha=void 0)}}function da(){Mt(window,"dragstart",ue)}function pa(){Wt(window,"dragstart",ue)}var xs,ma;function ga(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(ws(),xs=e,ma=e.style.outlineStyle,e.style.outlineStyle="none",Mt(window,"keydown",ws))}function ws(){xs&&(xs.style.outlineStyle=ma,xs=void 0,ma=void 0,Wt(window,"keydown",ws))}function rc(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function _a(e){var r=e.getBoundingClientRect();return{x:r.width/e.offsetWidth||1,y:r.height/e.offsetHeight||1,boundingClientRect:r}}var Sm={__proto__:null,TRANSFORM:ua,TRANSITION:hr,TRANSITION_END:nc,get:ic,getStyle:dr,create:Rt,remove:Yt,empty:_s,toFront:Pi,toBack:Mi,hasClass:ca,addClass:At,removeClass:te,setClass:fa,getClass:vs,setOpacity:Ie,testProp:ys,setTransform:ei,setPosition:ee,getPosition:ni,get disableTextSelection(){return pr},get enableTextSelection(){return mr},disableImageDrag:da,enableImageDrag:pa,preventOutline:ga,restoreOutline:ws,getSizedParentNode:rc,getScale:_a};function Mt(e,r,a,c){if(r&&typeof r=="object")for(var d in r)ya(e,d,r[d],a);else{r=O(r);for(var y=0,M=r.length;y<M;y++)ya(e,r[y],a,c)}return this}var en="_leaflet_events";function Wt(e,r,a,c){if(arguments.length===1)sc(e),delete e[en];else if(r&&typeof r=="object")for(var d in r)xa(e,d,r[d],a);else if(r=O(r),arguments.length===2)sc(e,function(R){return k(r,R)!==-1});else for(var y=0,M=r.length;y<M;y++)xa(e,r[y],a,c);return this}function sc(e,r){for(var a in e[en]){var c=a.split(/\d/)[0];(!r||r(c))&&xa(e,c,null,null,a)}}var va={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ya(e,r,a,c){var d=r+f(a)+(c?"_"+f(c):"");if(e[en]&&e[en][d])return this;var y=function(R){return a.call(c||e,R||window.event)},M=y;!xt.touchNative&&xt.pointer&&r.indexOf("touch")===0?y=pm(e,r,y):xt.touch&&r==="dblclick"?y=bm(e,y):"addEventListener"in e?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?e.addEventListener(va[r]||r,y,xt.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(y=function(R){R=R||window.event,ba(e,R)&&M(R)},e.addEventListener(va[r],y,!1)):e.addEventListener(r,M,!1):e.attachEvent("on"+r,y),e[en]=e[en]||{},e[en][d]=y}function xa(e,r,a,c,d){d=d||r+f(a)+(c?"_"+f(c):"");var y=e[en]&&e[en][d];if(!y)return this;!xt.touchNative&&xt.pointer&&r.indexOf("touch")===0?mm(e,r,y):xt.touch&&r==="dblclick"?Tm(e,y):"removeEventListener"in e?e.removeEventListener(va[r]||r,y,!1):e.detachEvent("on"+r,y),e[en][d]=null}function ii(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function wa(e){return ya(e,"wheel",ii),this}function _r(e){return Mt(e,"mousedown touchstart dblclick contextmenu",ii),e._leaflet_disable_click=!0,this}function ue(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function ri(e){return ue(e),ii(e),this}function oc(e){if(e.composedPath)return e.composedPath();for(var r=[],a=e.target;a;)r.push(a),a=a.parentNode;return r}function ac(e,r){if(!r)return new D(e.clientX,e.clientY);var a=_a(r),c=a.boundingClientRect;return new D((e.clientX-c.left)/a.x-r.clientLeft,(e.clientY-c.top)/a.y-r.clientTop)}var Pm=xt.linux&&xt.chrome?window.devicePixelRatio:xt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function lc(e){return xt.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Pm:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function ba(e,r){var a=r.relatedTarget;if(!a)return!0;try{for(;a&&a!==e;)a=a.parentNode}catch{return!1}return a!==e}var Mm={__proto__:null,on:Mt,off:Wt,stopPropagation:ii,disableScrollPropagation:wa,disableClickPropagation:_r,preventDefault:ue,stop:ri,getPropagationPath:oc,getMousePosition:ac,getWheelDelta:lc,isExternalTarget:ba,addListener:Mt,removeListener:Wt},uc=G.extend({run:function(e,r,a,c){this.stop(),this._el=e,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=ni(e),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Y(this._animate,this),this._step()},_step:function(e){var r=+new Date-this._startTime,a=this._duration*1e3;r<a?this._runFrame(this._easeOut(r/a),e):(this._runFrame(1),this._complete())},_runFrame:function(e,r){var a=this._startPos.add(this._offset.multiplyBy(e));r&&a._round(),ee(this._el,a),this.fire("step")},_complete:function(){J(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),It=G.extend({options:{crs:w,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,r){r=N(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(pt(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=hr&&xt.any3d&&!xt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Mt(this._proxy,nc,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,r,a){if(r=r===void 0?this._zoom:this._limitZoom(r),e=this._limitCenter(pt(e),r,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=o({animate:a.animate},a.zoom),a.pan=o({animate:a.animate,duration:a.duration},a.pan));var c=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,r,a.zoom):this._tryAnimatedPan(e,a.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(e,r,a.pan&&a.pan.noMoveStart),this},setZoom:function(e,r){return this._loaded?this.setView(this.getCenter(),e,{zoom:r}):(this._zoom=e,this)},zoomIn:function(e,r){return e=e||(xt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,r)},zoomOut:function(e,r){return e=e||(xt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,r)},setZoomAround:function(e,r,a){var c=this.getZoomScale(r),d=this.getSize().divideBy(2),y=e instanceof D?e:this.latLngToContainerPoint(e),M=y.subtract(d).multiplyBy(1-1/c),R=this.containerPointToLatLng(d.add(M));return this.setView(R,r,{zoom:a})},_getBoundsCenterZoom:function(e,r){r=r||{},e=e.getBounds?e.getBounds():vt(e);var a=B(r.paddingTopLeft||r.padding||[0,0]),c=B(r.paddingBottomRight||r.padding||[0,0]),d=this.getBoundsZoom(e,!1,a.add(c));if(d=typeof r.maxZoom=="number"?Math.min(r.maxZoom,d):d,d===1/0)return{center:e.getCenter(),zoom:d};var y=c.subtract(a).divideBy(2),M=this.project(e.getSouthWest(),d),R=this.project(e.getNorthEast(),d),$=this.unproject(M.add(R).divideBy(2).add(y),d);return{center:$,zoom:d}},fitBounds:function(e,r){if(e=vt(e),!e.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(e,r);return this.setView(a.center,a.zoom,r)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,r){return this.setView(e,this._zoom,{pan:r})},panBy:function(e,r){if(e=B(e).round(),r=r||{},!e.x&&!e.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new uc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){At(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,a,r.duration||.25,r.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,r,a){if(a=a||{},a.animate===!1||!xt.any3d)return this.setView(e,r,a);this._stop();var c=this.project(this.getCenter()),d=this.project(e),y=this.getSize(),M=this._zoom;e=pt(e),r=r===void 0?M:r;var R=Math.max(y.x,y.y),$=R*this.getZoomScale(M,r),ot=d.distanceTo(c)||1,mt=1.42,Ct=mt*mt;function Ot(ne){var Is=ne?-1:1,mg=ne?$:R,gg=$*$-R*R+Is*Ct*Ct*ot*ot,_g=2*mg*Ct*ot,Ia=gg/_g,Vc=Math.sqrt(Ia*Ia+1)-Ia,vg=Vc<1e-9?-18:Math.log(Vc);return vg}function ye(ne){return(Math.exp(ne)-Math.exp(-ne))/2}function se(ne){return(Math.exp(ne)+Math.exp(-ne))/2}function ze(ne){return ye(ne)/se(ne)}var Te=Ot(0);function Ii(ne){return R*(se(Te)/se(Te+mt*ne))}function fg(ne){return R*(se(Te)*ze(Te+mt*ne)-ye(Te))/Ct}function hg(ne){return 1-Math.pow(1-ne,1.5)}var dg=Date.now(),Zc=(Ot(1)-Te)/mt,pg=a.duration?1e3*a.duration:1e3*Zc*.8;function Uc(){var ne=(Date.now()-dg)/pg,Is=hg(ne)*Zc;ne<=1?(this._flyToFrame=Y(Uc,this),this._move(this.unproject(c.add(d.subtract(c).multiplyBy(fg(Is)/ot)),M),this.getScaleZoom(R/Ii(Is),M),{flyTo:!0})):this._move(e,r)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),Uc.call(this),this},flyToBounds:function(e,r){var a=this._getBoundsCenterZoom(e,r);return this.flyTo(a.center,a.zoom,r)},setMaxBounds:function(e){return e=vt(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var r=this.options.minZoom;return this.options.minZoom=e,this._loaded&&r!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var r=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&r!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,r){this._enforcingBounds=!0;var a=this.getCenter(),c=this._limitCenter(a,this._zoom,vt(e));return a.equals(c)||this.panTo(c,r),this._enforcingBounds=!1,this},panInside:function(e,r){r=r||{};var a=B(r.paddingTopLeft||r.padding||[0,0]),c=B(r.paddingBottomRight||r.padding||[0,0]),d=this.project(this.getCenter()),y=this.project(e),M=this.getPixelBounds(),R=lt([M.min.add(a),M.max.subtract(c)]),$=R.getSize();if(!R.contains(y)){this._enforcingBounds=!0;var ot=y.subtract(R.getCenter()),mt=R.extend(y).getSize().subtract($);d.x+=ot.x<0?-mt.x:mt.x,d.y+=ot.y<0?-mt.y:mt.y,this.panTo(this.unproject(d),r),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=o({animate:!1,pan:!0},e===!0?{animate:!0}:e);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),c=r.divideBy(2).round(),d=a.divideBy(2).round(),y=c.subtract(d);return!y.x&&!y.y?this:(e.animate&&e.pan?this.panBy(y):(e.pan&&this._rawPanBy(y),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=o({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=u(this._handleGeolocationResponse,this),a=u(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,a,e):navigator.geolocation.getCurrentPosition(r,a,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var r=e.code,a=e.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var r=e.coords.latitude,a=e.coords.longitude,c=new _t(r,a),d=c.toBounds(e.coords.accuracy*2),y=this._locateOptions;if(y.setView){var M=this.getBoundsZoom(d);this.setView(c,y.maxZoom?Math.min(M,y.maxZoom):M)}var R={latlng:c,bounds:d,timestamp:e.timestamp};for(var $ in e.coords)typeof e.coords[$]=="number"&&(R[$]=e.coords[$]);this.fire("locationfound",R)}},addHandler:function(e,r){if(!r)return this;var a=this[e]=new r(this);return this._handlers.push(a),this.options[e]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Yt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(J(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)Yt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,r){var a="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),c=Rt("div",a,r||this._mapPane);return e&&(this._panes[e]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),r=this.unproject(e.getBottomLeft()),a=this.unproject(e.getTopRight());return new bt(r,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,r,a){e=vt(e),a=B(a||[0,0]);var c=this.getZoom()||0,d=this.getMinZoom(),y=this.getMaxZoom(),M=e.getNorthWest(),R=e.getSouthEast(),$=this.getSize().subtract(a),ot=lt(this.project(R,c),this.project(M,c)).getSize(),mt=xt.any3d?this.options.zoomSnap:1,Ct=$.x/ot.x,Ot=$.y/ot.y,ye=r?Math.max(Ct,Ot):Math.min(Ct,Ot);return c=this.getScaleZoom(ye,c),mt&&(c=Math.round(c/(mt/100))*(mt/100),c=r?Math.ceil(c/mt)*mt:Math.floor(c/mt)*mt),Math.max(d,Math.min(y,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new D(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,r){var a=this._getTopLeftPoint(e,r);return new st(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,r){var a=this.options.crs;return r=r===void 0?this._zoom:r,a.scale(e)/a.scale(r)},getScaleZoom:function(e,r){var a=this.options.crs;r=r===void 0?this._zoom:r;var c=a.zoom(e*a.scale(r));return isNaN(c)?1/0:c},project:function(e,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(pt(e),r)},unproject:function(e,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(B(e),r)},layerPointToLatLng:function(e){var r=B(e).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(e){var r=this.project(pt(e))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(pt(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(vt(e))},distance:function(e,r){return this.options.crs.distance(pt(e),pt(r))},containerPointToLayerPoint:function(e){return B(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return B(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var r=this.containerPointToLayerPoint(B(e));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(pt(e)))},mouseEventToContainerPoint:function(e){return ac(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var r=this._container=ic(e);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Mt(r,"scroll",this._onScroll,this),this._containerId=f(r)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&xt.any3d,At(e,"leaflet-container"+(xt.touch?" leaflet-touch":"")+(xt.retina?" leaflet-retina":"")+(xt.ielt9?" leaflet-oldie":"")+(xt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=dr(e,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ee(this._mapPane,new D(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(At(e.markerPane,"leaflet-zoom-hide"),At(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,r,a){ee(this._mapPane,new D(0,0));var c=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var d=this._zoom!==r;this._moveStart(d,a)._move(e,r)._moveEnd(d),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(e,r){return e&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(e,r,a,c){r===void 0&&(r=this._zoom);var d=this._zoom!==r;return this._zoom=r,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),c?a&&a.pinch&&this.fire("zoom",a):((d||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return J(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){ee(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[f(this._container)]=this;var r=e?Wt:Mt;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),xt.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){J(this._resizeRequest),this._resizeRequest=Y(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,r){for(var a=[],c,d=r==="mouseout"||r==="mouseover",y=e.target||e.srcElement,M=!1;y;){if(c=this._targets[f(y)],c&&(r==="click"||r==="preclick")&&this._draggableMoved(c)){M=!0;break}if(c&&c.listens(r,!0)&&(d&&!ba(y,e)||(a.push(c),d))||y===this._container)break;y=y.parentNode}return!a.length&&!M&&!d&&this.listens(r,!0)&&(a=[this]),a},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var r=e.target||e.srcElement;if(!(!this._loaded||r._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(r))){var a=e.type;a==="mousedown"&&ga(r),this._fireDOMEvent(e,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,r,a){if(e.type==="click"){var c=o({},e);c.type="preclick",this._fireDOMEvent(c,c.type,a)}var d=this._findEventTargets(e,r);if(a){for(var y=[],M=0;M<a.length;M++)a[M].listens(r,!0)&&y.push(a[M]);d=y.concat(d)}if(d.length){r==="contextmenu"&&ue(e);var R=d[0],$={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var ot=R.getLatLng&&(!R._radius||R._radius<=10);$.containerPoint=ot?this.latLngToContainerPoint(R.getLatLng()):this.mouseEventToContainerPoint(e),$.layerPoint=this.containerPointToLayerPoint($.containerPoint),$.latlng=ot?R.getLatLng():this.layerPointToLatLng($.layerPoint)}for(M=0;M<d.length;M++)if(d[M].fire(r,$,!0),$.originalEvent._stopped||d[M].options.bubblingMouseEvents===!1&&k(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,r=this._handlers.length;e<r;e++)this._handlers[e].disable()},whenReady:function(e,r){return this._loaded?e.call(r||this,{target:this}):this.on("load",e,r),this},_getMapPanePos:function(){return ni(this._mapPane)||new D(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,r){var a=e&&r!==void 0?this._getNewPixelOrigin(e,r):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,r){var a=this.getSize()._divideBy(2);return this.project(e,r)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,r,a){var c=this._getNewPixelOrigin(a,r);return this.project(e,r)._subtract(c)},_latLngBoundsToNewLayerBounds:function(e,r,a){var c=this._getNewPixelOrigin(a,r);return lt([this.project(e.getSouthWest(),r)._subtract(c),this.project(e.getNorthWest(),r)._subtract(c),this.project(e.getSouthEast(),r)._subtract(c),this.project(e.getNorthEast(),r)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,r,a){if(!a)return e;var c=this.project(e,r),d=this.getSize().divideBy(2),y=new st(c.subtract(d),c.add(d)),M=this._getBoundsOffset(y,a,r);return Math.abs(M.x)<=1&&Math.abs(M.y)<=1?e:this.unproject(c.add(M),r)},_limitOffset:function(e,r){if(!r)return e;var a=this.getPixelBounds(),c=new st(a.min.add(e),a.max.add(e));return e.add(this._getBoundsOffset(c,r))},_getBoundsOffset:function(e,r,a){var c=lt(this.project(r.getNorthEast(),a),this.project(r.getSouthWest(),a)),d=c.min.subtract(e.min),y=c.max.subtract(e.max),M=this._rebound(d.x,-y.x),R=this._rebound(d.y,-y.y);return new D(M,R)},_rebound:function(e,r){return e+r>0?Math.round(e-r)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(r))},_limitZoom:function(e){var r=this.getMinZoom(),a=this.getMaxZoom(),c=xt.any3d?this.options.zoomSnap:1;return c&&(e=Math.round(e/c)*c),Math.max(r,Math.min(a,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){te(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,r){var a=this._getCenterOffset(e)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,r),!0)},_createAnimProxy:function(){var e=this._proxy=Rt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(r){var a=ua,c=this._proxy.style[a];ei(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),c===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Yt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),r=this.getZoom();ei(this._proxy,this.project(e,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,r,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(r),d=this._getCenterOffset(e)._divideBy(1-1/c);return a.animate!==!0&&!this.getSize().contains(d)?!1:(Y(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(e,r,!0)},this),!0)},_animateZoom:function(e,r,a,c){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=r,At(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:r,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&te(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function km(e,r){return new It(e,r)}var je=A.extend({options:{position:"topright"},initialize:function(e){N(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var r=this._map;return r&&r.removeControl(this),this.options.position=e,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var r=this._container=this.onAdd(e),a=this.getPosition(),c=e._controlCorners[a];return At(r,"leaflet-control"),a.indexOf("bottom")!==-1?c.insertBefore(r,c.firstChild):c.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Yt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),vr=function(e){return new je(e)};It.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},r="leaflet-",a=this._controlContainer=Rt("div",r+"control-container",this._container);function c(d,y){var M=r+d+" "+r+y;e[d+y]=Rt("div",M,a)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)Yt(this._controlCorners[e]);Yt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var cc=je.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,r,a,c){return a<c?-1:c<a?1:0}},initialize:function(e,r,a){N(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in e)this._addLayer(e[c],c);for(c in r)this._addLayer(r[c],c,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return je.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,r){return this._addLayer(e,r),this._map?this._update():this},addOverlay:function(e,r){return this._addLayer(e,r,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var r=this._getLayer(f(e));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){At(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(At(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):te(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return te(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",r=this._container=Rt("div",e),a=this.options.collapsed;r.setAttribute("aria-haspopup",!0),_r(r),wa(r);var c=this._section=Rt("section",e+"-list");a&&(this._map.on("click",this.collapse,this),Mt(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var d=this._layersLink=Rt("a",e+"-toggle",r);d.href="#",d.title="Layers",d.setAttribute("role","button"),Mt(d,{keydown:function(y){y.keyCode===13&&this._expandSafely()},click:function(y){ue(y),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=Rt("div",e+"-base",c),this._separator=Rt("div",e+"-separator",c),this._overlaysList=Rt("div",e+"-overlays",c),r.appendChild(c)},_getLayer:function(e){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&f(this._layers[r].layer)===e)return this._layers[r]},_addLayer:function(e,r,a){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:r,overlay:a}),this.options.sortLayers&&this._layers.sort(u(function(c,d){return this.options.sortFunction(c.layer,d.layer,c.name,d.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;_s(this._baseLayersList),_s(this._overlaysList),this._layerControlInputs=[];var e,r,a,c,d=0;for(a=0;a<this._layers.length;a++)c=this._layers[a],this._addItem(c),r=r||c.overlay,e=e||!c.overlay,d+=c.overlay?0:1;return this.options.hideSingleBase&&(e=e&&d>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=r&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var r=this._getLayer(f(e.target)),a=r.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;a&&this._map.fire(a,r)},_createRadioElement:function(e,r){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(r?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=a,c.firstChild},_addItem:function(e){var r=document.createElement("label"),a=this._map.hasLayer(e.layer),c;e.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=a):c=this._createRadioElement("leaflet-base-layers_"+f(this),a),this._layerControlInputs.push(c),c.layerId=f(e.layer),Mt(c,"click",this._onInputClick,this);var d=document.createElement("span");d.innerHTML=" "+e.name;var y=document.createElement("span");r.appendChild(y),y.appendChild(c),y.appendChild(d);var M=e.overlay?this._overlaysList:this._baseLayersList;return M.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,r,a,c=[],d=[];this._handlingClick=!0;for(var y=e.length-1;y>=0;y--)r=e[y],a=this._getLayer(r.layerId).layer,r.checked?c.push(a):r.checked||d.push(a);for(y=0;y<d.length;y++)this._map.hasLayer(d[y])&&this._map.removeLayer(d[y]);for(y=0;y<c.length;y++)this._map.hasLayer(c[y])||this._map.addLayer(c[y]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,r,a,c=this._map.getZoom(),d=e.length-1;d>=0;d--)r=e[d],a=this._getLayer(r.layerId).layer,r.disabled=a.options.minZoom!==void 0&&c<a.options.minZoom||a.options.maxZoom!==void 0&&c>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,Mt(e,"click",ue),this.expand();var r=this;setTimeout(function(){Wt(e,"click",ue),r._preventClick=!1})}}),Am=function(e,r,a){return new cc(e,r,a)},Ta=je.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var r="leaflet-control-zoom",a=Rt("div",r+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,r+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,r+"-out",a,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,r,a,c,d){var y=Rt("a",a,c);return y.innerHTML=e,y.href="#",y.title=r,y.setAttribute("role","button"),y.setAttribute("aria-label",r),_r(y),Mt(y,"click",ri),Mt(y,"click",d,this),Mt(y,"click",this._refocusOnMap,this),y},_updateDisabled:function(){var e=this._map,r="leaflet-disabled";te(this._zoomInButton,r),te(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(At(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(At(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});It.mergeOptions({zoomControl:!0}),It.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ta,this.addControl(this.zoomControl))});var Lm=function(e){return new Ta(e)},fc=je.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var r="leaflet-control-scale",a=Rt("div",r),c=this.options;return this._addScales(c,r+"-line",a),e.on(c.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),a},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,r,a){e.metric&&(this._mScale=Rt("div",r,a)),e.imperial&&(this._iScale=Rt("div",r,a))},_update:function(){var e=this._map,r=e.getSize().y/2,a=e.distance(e.containerPointToLatLng([0,r]),e.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(a)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var r=this._getRoundNum(e),a=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,a,r/e)},_updateImperial:function(e){var r=e*3.2808399,a,c,d;r>5280?(a=r/5280,c=this._getRoundNum(a),this._updateScale(this._iScale,c+" mi",c/a)):(d=this._getRoundNum(r),this._updateScale(this._iScale,d+" ft",d/r))},_updateScale:function(e,r,a){e.style.width=Math.round(this.options.maxWidth*a)+"px",e.innerHTML=r},_getRoundNum:function(e){var r=Math.pow(10,(Math.floor(e)+"").length-1),a=e/r;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,r*a}}),Em=function(e){return new fc(e)},Om='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ca=je.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(xt.inlineSvg?Om+" ":"")+"Leaflet</a>"},initialize:function(e){N(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=Rt("div","leaflet-control-attribution"),_r(this._container);for(var r in e._layers)e._layers[r].getAttribution&&this.addAttribution(e._layers[r].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var r in this._attributions)this._attributions[r]&&e.push(r);var a=[];this.options.prefix&&a.push(this.options.prefix),e.length&&a.push(e.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});It.mergeOptions({attributionControl:!0}),It.addInitHook(function(){this.options.attributionControl&&new Ca().addTo(this)});var Im=function(e){return new Ca(e)};je.Layers=cc,je.Zoom=Ta,je.Scale=fc,je.Attribution=Ca,vr.layers=Am,vr.zoom=Lm,vr.scale=Em,vr.attribution=Im;var nn=A.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});nn.addTo=function(e,r){return e.addHandler(r,this),this};var Nm={Events:z},hc=xt.touch?"touchstart mousedown":"mousedown",Vn=G.extend({options:{clickTolerance:3},initialize:function(e,r,a,c){N(this,c),this._element=e,this._dragStartTarget=r||e,this._preventOutline=a},enable:function(){this._enabled||(Mt(this._dragStartTarget,hc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Vn._dragging===this&&this.finishDrag(!0),Wt(this._dragStartTarget,hc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!ca(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){Vn._dragging===this&&this.finishDrag();return}if(!(Vn._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(Vn._dragging=this,this._preventOutline&&ga(this._element),da(),pr(),!this._moving)){this.fire("down");var r=e.touches?e.touches[0]:e,a=rc(this._element);this._startPoint=new D(r.clientX,r.clientY),this._startPos=ni(this._element),this._parentScale=_a(a);var c=e.type==="mousedown";Mt(document,c?"mousemove":"touchmove",this._onMove,this),Mt(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var r=e.touches&&e.touches.length===1?e.touches[0]:e,a=new D(r.clientX,r.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,ue(e),this._moved||(this.fire("dragstart"),this._moved=!0,At(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),At(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),ee(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){te(document.body,"leaflet-dragging"),this._lastTarget&&(te(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Wt(document,"mousemove touchmove",this._onMove,this),Wt(document,"mouseup touchend touchcancel",this._onUp,this),pa(),mr();var r=this._moved&&this._moving;this._moving=!1,Vn._dragging=!1,r&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function dc(e,r,a){var c,d=[1,4,2,8],y,M,R,$,ot,mt,Ct,Ot;for(y=0,mt=e.length;y<mt;y++)e[y]._code=si(e[y],r);for(R=0;R<4;R++){for(Ct=d[R],c=[],y=0,mt=e.length,M=mt-1;y<mt;M=y++)$=e[y],ot=e[M],$._code&Ct?ot._code&Ct||(Ot=bs(ot,$,Ct,r,a),Ot._code=si(Ot,r),c.push(Ot)):(ot._code&Ct&&(Ot=bs(ot,$,Ct,r,a),Ot._code=si(Ot,r),c.push(Ot)),c.push($));e=c}return e}function pc(e,r){var a,c,d,y,M,R,$,ot,mt;if(!e||e.length===0)throw new Error("latlngs not passed");Ne(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var Ct=pt([0,0]),Ot=vt(e),ye=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());ye<1700&&(Ct=Sa(e));var se=e.length,ze=[];for(a=0;a<se;a++){var Te=pt(e[a]);ze.push(r.project(pt([Te.lat-Ct.lat,Te.lng-Ct.lng])))}for(R=$=ot=0,a=0,c=se-1;a<se;c=a++)d=ze[a],y=ze[c],M=d.y*y.x-y.y*d.x,$+=(d.x+y.x)*M,ot+=(d.y+y.y)*M,R+=M*3;R===0?mt=ze[0]:mt=[$/R,ot/R];var Ii=r.unproject(B(mt));return pt([Ii.lat+Ct.lat,Ii.lng+Ct.lng])}function Sa(e){for(var r=0,a=0,c=0,d=0;d<e.length;d++){var y=pt(e[d]);r+=y.lat,a+=y.lng,c++}return pt([r/c,a/c])}var zm={__proto__:null,clipPolygon:dc,polygonCenter:pc,centroid:Sa};function mc(e,r){if(!r||!e.length)return e.slice();var a=r*r;return e=Bm(e,a),e=Dm(e,a),e}function gc(e,r,a){return Math.sqrt(yr(e,r,a,!0))}function Rm(e,r,a){return yr(e,r,a)}function Dm(e,r){var a=e.length,c=typeof Uint8Array<"u"?Uint8Array:Array,d=new c(a);d[0]=d[a-1]=1,Pa(e,d,r,0,a-1);var y,M=[];for(y=0;y<a;y++)d[y]&&M.push(e[y]);return M}function Pa(e,r,a,c,d){var y=0,M,R,$;for(R=c+1;R<=d-1;R++)$=yr(e[R],e[c],e[d],!0),$>y&&(M=R,y=$);y>a&&(r[M]=1,Pa(e,r,a,c,M),Pa(e,r,a,M,d))}function Bm(e,r){for(var a=[e[0]],c=1,d=0,y=e.length;c<y;c++)Fm(e[c],e[d])>r&&(a.push(e[c]),d=c);return d<y-1&&a.push(e[y-1]),a}var _c;function vc(e,r,a,c,d){var y=c?_c:si(e,a),M=si(r,a),R,$,ot;for(_c=M;;){if(!(y|M))return[e,r];if(y&M)return!1;R=y||M,$=bs(e,r,R,a,d),ot=si($,a),R===y?(e=$,y=ot):(r=$,M=ot)}}function bs(e,r,a,c,d){var y=r.x-e.x,M=r.y-e.y,R=c.min,$=c.max,ot,mt;return a&8?(ot=e.x+y*($.y-e.y)/M,mt=$.y):a&4?(ot=e.x+y*(R.y-e.y)/M,mt=R.y):a&2?(ot=$.x,mt=e.y+M*($.x-e.x)/y):a&1&&(ot=R.x,mt=e.y+M*(R.x-e.x)/y),new D(ot,mt,d)}function si(e,r){var a=0;return e.x<r.min.x?a|=1:e.x>r.max.x&&(a|=2),e.y<r.min.y?a|=4:e.y>r.max.y&&(a|=8),a}function Fm(e,r){var a=r.x-e.x,c=r.y-e.y;return a*a+c*c}function yr(e,r,a,c){var d=r.x,y=r.y,M=a.x-d,R=a.y-y,$=M*M+R*R,ot;return $>0&&(ot=((e.x-d)*M+(e.y-y)*R)/$,ot>1?(d=a.x,y=a.y):ot>0&&(d+=M*ot,y+=R*ot)),M=e.x-d,R=e.y-y,c?M*M+R*R:new D(d,y)}function Ne(e){return!C(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function yc(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ne(e)}function xc(e,r){var a,c,d,y,M,R,$,ot;if(!e||e.length===0)throw new Error("latlngs not passed");Ne(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var mt=pt([0,0]),Ct=vt(e),Ot=Ct.getNorthWest().distanceTo(Ct.getSouthWest())*Ct.getNorthEast().distanceTo(Ct.getNorthWest());Ot<1700&&(mt=Sa(e));var ye=e.length,se=[];for(a=0;a<ye;a++){var ze=pt(e[a]);se.push(r.project(pt([ze.lat-mt.lat,ze.lng-mt.lng])))}for(a=0,c=0;a<ye-1;a++)c+=se[a].distanceTo(se[a+1])/2;if(c===0)ot=se[0];else for(a=0,y=0;a<ye-1;a++)if(M=se[a],R=se[a+1],d=M.distanceTo(R),y+=d,y>c){$=(y-c)/d,ot=[R.x-$*(R.x-M.x),R.y-$*(R.y-M.y)];break}var Te=r.unproject(B(ot));return pt([Te.lat+mt.lat,Te.lng+mt.lng])}var Hm={__proto__:null,simplify:mc,pointToSegmentDistance:gc,closestPointOnSegment:Rm,clipSegment:vc,_getEdgeIntersection:bs,_getBitCode:si,_sqClosestPointOnSegment:yr,isFlat:Ne,_flat:yc,polylineCenter:xc},Ma={project:function(e){return new D(e.lng,e.lat)},unproject:function(e){return new _t(e.y,e.x)},bounds:new st([-180,-90],[180,90])},ka={R:6378137,R_MINOR:6356752314245179e-9,bounds:new st([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var r=Math.PI/180,a=this.R,c=e.lat*r,d=this.R_MINOR/a,y=Math.sqrt(1-d*d),M=y*Math.sin(c),R=Math.tan(Math.PI/4-c/2)/Math.pow((1-M)/(1+M),y/2);return c=-a*Math.log(Math.max(R,1e-10)),new D(e.lng*r*a,c)},unproject:function(e){for(var r=180/Math.PI,a=this.R,c=this.R_MINOR/a,d=Math.sqrt(1-c*c),y=Math.exp(-e.y/a),M=Math.PI/2-2*Math.atan(y),R=0,$=.1,ot;R<15&&Math.abs($)>1e-7;R++)ot=d*Math.sin(M),ot=Math.pow((1-ot)/(1+ot),d/2),$=Math.PI/2-2*Math.atan(y*ot)-M,M+=$;return new _t(M*r,e.x*r/a)}},Zm={__proto__:null,LonLat:Ma,Mercator:ka,SphericalMercator:rt},Um=o({},ut,{code:"EPSG:3395",projection:ka,transformation:(function(){var e=.5/(Math.PI*ka.R);return v(e,.5,-e,.5)})()}),wc=o({},ut,{code:"EPSG:4326",projection:Ma,transformation:v(1/180,1,-1/180,.5)}),Vm=o({},H,{projection:Ma,transformation:v(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,r){var a=r.lng-e.lng,c=r.lat-e.lat;return Math.sqrt(a*a+c*c)},infinite:!0});H.Earth=ut,H.EPSG3395=Um,H.EPSG3857=w,H.EPSG900913=E,H.EPSG4326=wc,H.Simple=Vm;var Ge=G.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[f(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[f(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var r=e.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var a=this.getEvents();r.on(a,this),this.once("remove",function(){r.off(a,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});It.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var r=f(e);return this._layers[r]?this:(this._layers[r]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var r=f(e);return this._layers[r]?(this._loaded&&e.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return f(e)in this._layers},eachLayer:function(e,r){for(var a in this._layers)e.call(r,this._layers[a]);return this},_addLayers:function(e){e=e?C(e)?e:[e]:[];for(var r=0,a=e.length;r<a;r++)this.addLayer(e[r])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[f(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var r=f(e);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,r=-1/0,a=this._getZoomSpan();for(var c in this._zoomBoundLayers){var d=this._zoomBoundLayers[c].options;e=d.minZoom===void 0?e:Math.min(e,d.minZoom),r=d.maxZoom===void 0?r:Math.max(r,d.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=e===1/0?void 0:e,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ki=Ge.extend({initialize:function(e,r){N(this,r),this._layers={};var a,c;if(e)for(a=0,c=e.length;a<c;a++)this.addLayer(e[a])},addLayer:function(e){var r=this.getLayerId(e);return this._layers[r]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var r=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(e){var r=typeof e=="number"?e:this.getLayerId(e);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var r=Array.prototype.slice.call(arguments,1),a,c;for(a in this._layers)c=this._layers[a],c[e]&&c[e].apply(c,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,r){for(var a in this._layers)e.call(r,this._layers[a]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return f(e)}}),Wm=function(e,r){return new ki(e,r)},dn=ki.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),ki.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),ki.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new bt;for(var r in this._layers){var a=this._layers[r];e.extend(a.getBounds?a.getBounds():a.getLatLng())}return e}}),jm=function(e,r){return new dn(e,r)},Ai=A.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){N(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,r){var a=this._getIconUrl(e);if(!a){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(a,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(c,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(e,r){var a=this.options,c=a[r+"Size"];typeof c=="number"&&(c=[c,c]);var d=B(c),y=B(r==="shadow"&&a.shadowAnchor||a.iconAnchor||d&&d.divideBy(2,!0));e.className="leaflet-marker-"+r+" "+(a.className||""),y&&(e.style.marginLeft=-y.x+"px",e.style.marginTop=-y.y+"px"),d&&(e.style.width=d.x+"px",e.style.height=d.y+"px")},_createImg:function(e,r){return r=r||document.createElement("img"),r.src=e,r},_getIconUrl:function(e){return xt.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Gm(e){return new Ai(e)}var xr=Ai.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof xr.imagePath!="string"&&(xr.imagePath=this._detectIconPath()),(this.options.imagePath||xr.imagePath)+Ai.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var r=function(a,c,d){var y=c.exec(a);return y&&y[d]};return e=r(e,/^url\((['"])?(.+)\1\)$/,2),e&&r(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=Rt("div","leaflet-default-icon-path",document.body),r=dr(e,"background-image")||dr(e,"backgroundImage");if(document.body.removeChild(e),r=this._stripUrl(r),r)return r;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),bc=nn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Vn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),At(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&te(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var r=this._marker,a=r._map,c=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,y=ni(r._icon),M=a.getPixelBounds(),R=a.getPixelOrigin(),$=lt(M.min._subtract(R).add(d),M.max._subtract(R).subtract(d));if(!$.contains(y)){var ot=B((Math.max($.max.x,y.x)-$.max.x)/(M.max.x-$.max.x)-(Math.min($.min.x,y.x)-$.min.x)/(M.min.x-$.min.x),(Math.max($.max.y,y.y)-$.max.y)/(M.max.y-$.max.y)-(Math.min($.min.y,y.y)-$.min.y)/(M.min.y-$.min.y)).multiplyBy(c);a.panBy(ot,{animate:!1}),this._draggable._newPos._add(ot),this._draggable._startPos._add(ot),ee(r._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=Y(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(J(this._panRequest),this._panRequest=Y(this._adjustPan.bind(this,e)))},_onDrag:function(e){var r=this._marker,a=r._shadow,c=ni(r._icon),d=r._map.layerPointToLatLng(c);a&&ee(a,c),r._latlng=d,e.latlng=d,e.oldLatLng=this._oldLatLng,r.fire("move",e).fire("drag",e)},_onDragEnd:function(e){J(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Ts=Ge.extend({options:{icon:new xr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,r){N(this,r),this._latlng=pt(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var r=this._latlng;return this._latlng=pt(e),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=e.icon.createIcon(this._icon),c=!1;a!==this._icon&&(this._icon&&this._removeIcon(),c=!0,e.title&&(a.title=e.title),a.tagName==="IMG"&&(a.alt=e.alt||"")),At(a,r),e.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Mt(a,"focus",this._panOnFocus,this);var d=e.icon.createShadow(this._shadow),y=!1;d!==this._shadow&&(this._removeShadow(),y=!0),d&&(At(d,r),d.alt=""),this._shadow=d,e.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),d&&y&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Wt(this._icon,"focus",this._panOnFocus,this),Yt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Yt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&ee(this._icon,e),this._shadow&&ee(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var r=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(At(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),bc)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new bc(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&Ie(this._icon,e),this._shadow&&Ie(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var r=this.options.icon.options,a=r.iconSize?B(r.iconSize):B(0,0),c=r.iconAnchor?B(r.iconAnchor):B(0,0);e.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:a.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function $m(e,r){return new Ts(e,r)}var Wn=Ge.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return N(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Cs=Wn.extend({options:{fill:!0,radius:10},initialize:function(e,r){N(this,r),this._latlng=pt(e),this._radius=this.options.radius},setLatLng:function(e){var r=this._latlng;return this._latlng=pt(e),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var r=e&&e.radius||this._radius;return Wn.prototype.setStyle.call(this,e),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,r=this._radiusY||e,a=this._clickTolerance(),c=[e+a,r+a];this._pxBounds=new st(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function qm(e,r){return new Cs(e,r)}var Aa=Cs.extend({initialize:function(e,r,a){if(typeof r=="number"&&(r=o({},a,{radius:r})),N(this,r),this._latlng=pt(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new bt(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Wn.prototype.setStyle,_project:function(){var e=this._latlng.lng,r=this._latlng.lat,a=this._map,c=a.options.crs;if(c.distance===ut.distance){var d=Math.PI/180,y=this._mRadius/ut.R/d,M=a.project([r+y,e]),R=a.project([r-y,e]),$=M.add(R).divideBy(2),ot=a.unproject($).lat,mt=Math.acos((Math.cos(y*d)-Math.sin(r*d)*Math.sin(ot*d))/(Math.cos(r*d)*Math.cos(ot*d)))/d;(isNaN(mt)||mt===0)&&(mt=y/Math.cos(Math.PI/180*r)),this._point=$.subtract(a.getPixelOrigin()),this._radius=isNaN(mt)?0:$.x-a.project([ot,e-mt]).x,this._radiusY=$.y-M.y}else{var Ct=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(Ct).x}this._updateBounds()}});function Km(e,r,a){return new Aa(e,r,a)}var pn=Wn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,r){N(this,r),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var r=1/0,a=null,c=yr,d,y,M=0,R=this._parts.length;M<R;M++)for(var $=this._parts[M],ot=1,mt=$.length;ot<mt;ot++){d=$[ot-1],y=$[ot];var Ct=c(e,d,y,!0);Ct<r&&(r=Ct,a=c(e,d,y))}return a&&(a.distance=Math.sqrt(r)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xc(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,r){return r=r||this._defaultShape(),e=pt(e),r.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new bt,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Ne(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var r=[],a=Ne(e),c=0,d=e.length;c<d;c++)a?(r[c]=pt(e[c]),this._bounds.extend(r[c])):r[c]=this._convertLatLngs(e[c]);return r},_project:function(){var e=new st;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),r=new D(e,e);this._rawPxBounds&&(this._pxBounds=new st([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(e,r,a){var c=e[0]instanceof _t,d=e.length,y,M;if(c){for(M=[],y=0;y<d;y++)M[y]=this._map.latLngToLayerPoint(e[y]),a.extend(M[y]);r.push(M)}else for(y=0;y<d;y++)this._projectLatlngs(e[y],r,a)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,a,c,d,y,M,R,$;for(a=0,d=0,y=this._rings.length;a<y;a++)for($=this._rings[a],c=0,M=$.length;c<M-1;c++)R=vc($[c],$[c+1],e,c,!0),R&&(r[d]=r[d]||[],r[d].push(R[0]),(R[1]!==$[c+1]||c===M-2)&&(r[d].push(R[1]),d++))}},_simplifyPoints:function(){for(var e=this._parts,r=this.options.smoothFactor,a=0,c=e.length;a<c;a++)e[a]=mc(e[a],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,r){var a,c,d,y,M,R,$=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(a=0,y=this._parts.length;a<y;a++)for(R=this._parts[a],c=0,M=R.length,d=M-1;c<M;d=c++)if(!(!r&&c===0)&&gc(e,R[d],R[c])<=$)return!0;return!1}});function Ym(e,r){return new pn(e,r)}pn._flat=yc;var Li=pn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return pc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var r=pn.prototype._convertLatLngs.call(this,e),a=r.length;return a>=2&&r[0]instanceof _t&&r[0].equals(r[a-1])&&r.pop(),r},_setLatLngs:function(e){pn.prototype._setLatLngs.call(this,e),Ne(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ne(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,r=this.options.weight,a=new D(r,r);if(e=new st(e.min.subtract(a),e.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,d=this._rings.length,y;c<d;c++)y=dc(this._rings[c],e,!0),y.length&&this._parts.push(y)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var r=!1,a,c,d,y,M,R,$,ot;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(y=0,$=this._parts.length;y<$;y++)for(a=this._parts[y],M=0,ot=a.length,R=ot-1;M<ot;R=M++)c=a[M],d=a[R],c.y>e.y!=d.y>e.y&&e.x<(d.x-c.x)*(e.y-c.y)/(d.y-c.y)+c.x&&(r=!r);return r||pn.prototype._containsPoint.call(this,e,!0)}});function Xm(e,r){return new Li(e,r)}var mn=dn.extend({initialize:function(e,r){N(this,r),this._layers={},e&&this.addData(e)},addData:function(e){var r=C(e)?e:e.features,a,c,d;if(r){for(a=0,c=r.length;a<c;a++)d=r[a],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var y=this.options;if(y.filter&&!y.filter(e))return this;var M=Ss(e,y);return M?(M.feature=ks(e),M.defaultOptions=M.options,this.resetStyle(M),y.onEachFeature&&y.onEachFeature(e,M),this.addLayer(M)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=o({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(r){this._setLayerStyle(r,e)},this)},_setLayerStyle:function(e,r){e.setStyle&&(typeof r=="function"&&(r=r(e.feature)),e.setStyle(r))}});function Ss(e,r){var a=e.type==="Feature"?e.geometry:e,c=a?a.coordinates:null,d=[],y=r&&r.pointToLayer,M=r&&r.coordsToLatLng||La,R,$,ot,mt;if(!c&&!a)return null;switch(a.type){case"Point":return R=M(c),Tc(y,e,R,r);case"MultiPoint":for(ot=0,mt=c.length;ot<mt;ot++)R=M(c[ot]),d.push(Tc(y,e,R,r));return new dn(d);case"LineString":case"MultiLineString":return $=Ps(c,a.type==="LineString"?0:1,M),new pn($,r);case"Polygon":case"MultiPolygon":return $=Ps(c,a.type==="Polygon"?1:2,M),new Li($,r);case"GeometryCollection":for(ot=0,mt=a.geometries.length;ot<mt;ot++){var Ct=Ss({geometry:a.geometries[ot],type:"Feature",properties:e.properties},r);Ct&&d.push(Ct)}return new dn(d);case"FeatureCollection":for(ot=0,mt=a.features.length;ot<mt;ot++){var Ot=Ss(a.features[ot],r);Ot&&d.push(Ot)}return new dn(d);default:throw new Error("Invalid GeoJSON object.")}}function Tc(e,r,a,c){return e?e(r,a):new Ts(a,c&&c.markersInheritOptions&&c)}function La(e){return new _t(e[1],e[0],e[2])}function Ps(e,r,a){for(var c=[],d=0,y=e.length,M;d<y;d++)M=r?Ps(e[d],r-1,a):(a||La)(e[d]),c.push(M);return c}function Ea(e,r){return e=pt(e),e.alt!==void 0?[_(e.lng,r),_(e.lat,r),_(e.alt,r)]:[_(e.lng,r),_(e.lat,r)]}function Ms(e,r,a,c){for(var d=[],y=0,M=e.length;y<M;y++)d.push(r?Ms(e[y],Ne(e[y])?0:r-1,a,c):Ea(e[y],c));return!r&&a&&d.length>0&&d.push(d[0].slice()),d}function Ei(e,r){return e.feature?o({},e.feature,{geometry:r}):ks(r)}function ks(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var Oa={toGeoJSON:function(e){return Ei(this,{type:"Point",coordinates:Ea(this.getLatLng(),e)})}};Ts.include(Oa),Aa.include(Oa),Cs.include(Oa),pn.include({toGeoJSON:function(e){var r=!Ne(this._latlngs),a=Ms(this._latlngs,r?1:0,!1,e);return Ei(this,{type:(r?"Multi":"")+"LineString",coordinates:a})}}),Li.include({toGeoJSON:function(e){var r=!Ne(this._latlngs),a=r&&!Ne(this._latlngs[0]),c=Ms(this._latlngs,a?2:r?1:0,!0,e);return r||(c=[c]),Ei(this,{type:(a?"Multi":"")+"Polygon",coordinates:c})}}),ki.include({toMultiPoint:function(e){var r=[];return this.eachLayer(function(a){r.push(a.toGeoJSON(e).geometry.coordinates)}),Ei(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(e){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(e);var a=r==="GeometryCollection",c=[];return this.eachLayer(function(d){if(d.toGeoJSON){var y=d.toGeoJSON(e);if(a)c.push(y.geometry);else{var M=ks(y);M.type==="FeatureCollection"?c.push.apply(c,M.features):c.push(M)}}}),a?Ei(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function Cc(e,r){return new mn(e,r)}var Jm=Cc,As=Ge.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,r,a){this._url=e,this._bounds=vt(r),N(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(At(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Yt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&Pi(this._image),this},bringToBack:function(){return this._map&&Mi(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=vt(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",r=this._image=e?this._url:Rt("img");if(At(r,"leaflet-image-layer"),this._zoomAnimated&&At(r,"leaflet-zoom-animated"),this.options.className&&At(r,this.options.className),r.onselectstart=g,r.onmousemove=g,r.onload=u(this.fire,this,"load"),r.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(e){var r=this._map.getZoomScale(e.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;ei(this._image,a,r)},_reset:function(){var e=this._image,r=new st(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=r.getSize();ee(e,r.min),e.style.width=a.x+"px",e.style.height=a.y+"px"},_updateOpacity:function(){Ie(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Qm=function(e,r,a){return new As(e,r,a)},Sc=As.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",r=this._image=e?this._url:Rt("video");if(At(r,"leaflet-image-layer"),this._zoomAnimated&&At(r,"leaflet-zoom-animated"),this.options.className&&At(r,this.options.className),r.onselectstart=g,r.onmousemove=g,r.onloadeddata=u(this.fire,this,"load"),e){for(var a=r.getElementsByTagName("source"),c=[],d=0;d<a.length;d++)c.push(a[d].src);this._url=a.length>0?c:[r.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var y=0;y<this._url.length;y++){var M=Rt("source");M.src=this._url[y],r.appendChild(M)}}});function tg(e,r,a){return new Sc(e,r,a)}var Pc=As.extend({_initImage:function(){var e=this._image=this._url;At(e,"leaflet-image-layer"),this._zoomAnimated&&At(e,"leaflet-zoom-animated"),this.options.className&&At(e,this.options.className),e.onselectstart=g,e.onmousemove=g}});function eg(e,r,a){return new Pc(e,r,a)}var rn=Ge.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,r){e&&(e instanceof _t||C(e))?(this._latlng=pt(e),N(this,r)):(N(this,e),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Ie(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Ie(this._container,1),this.bringToFront(),this.options.interactive&&(At(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(Ie(this._container,0),this._removeTimeout=setTimeout(u(Yt,void 0,this._container),200)):Yt(this._container),this.options.interactive&&(te(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=pt(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Pi(this._container),this},bringToBack:function(){return this._map&&Mi(this._container),this},_prepareOpen:function(e){var r=this._source;if(!r._map)return!1;if(r instanceof dn){r=null;var a=this._source._layers;for(var c in a)if(a[c]._map){r=a[c];break}if(!r)return!1;this._source=r}if(!e)if(r.getCenter)e=r.getCenter();else if(r.getLatLng)e=r.getLatLng();else if(r.getBounds)e=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")e.innerHTML=r;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),r=B(this.options.offset),a=this._getAnchor();this._zoomAnimated?ee(this._container,e.add(a)):r=r.add(e).add(a);var c=this._containerBottom=-r.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=c+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}});It.include({_initOverlay:function(e,r,a,c){var d=r;return d instanceof e||(d=new e(c).setContent(r)),a&&d.setLatLng(a),d}}),Ge.include({_initOverlay:function(e,r,a,c){var d=a;return d instanceof e?(N(d,c),d._source=this):(d=r&&!c?r:new e(c,this),d.setContent(a)),d}});var Ls=rn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,rn.prototype.openOn.call(this,e)},onAdd:function(e){rn.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Wn||this._source.on("preclick",ii))},onRemove:function(e){rn.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Wn||this._source.off("preclick",ii))},getEvents:function(){var e=rn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",r=this._container=Rt("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=Rt("div",e+"-content-wrapper",r);if(this._contentNode=Rt("div",e+"-content",a),_r(r),wa(this._contentNode),Mt(r,"contextmenu",ii),this._tipContainer=Rt("div",e+"-tip-container",r),this._tip=Rt("div",e+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=Rt("a",e+"-close-button",r);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',Mt(c,"click",function(d){ue(d),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,r=e.style;r.width="",r.whiteSpace="nowrap";var a=e.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),r.width=a+1+"px",r.whiteSpace="",r.height="";var c=e.offsetHeight,d=this.options.maxHeight,y="leaflet-popup-scrolled";d&&c>d?(r.height=d+"px",At(e,y)):te(e,y),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var r=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),a=this._getAnchor();ee(this._container,r.add(a))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,r=parseInt(dr(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+r,c=this._containerWidth,d=new D(this._containerLeft,-a-this._containerBottom);d._add(ni(this._container));var y=e.layerPointToContainerPoint(d),M=B(this.options.autoPanPadding),R=B(this.options.autoPanPaddingTopLeft||M),$=B(this.options.autoPanPaddingBottomRight||M),ot=e.getSize(),mt=0,Ct=0;y.x+c+$.x>ot.x&&(mt=y.x+c-ot.x+$.x),y.x-mt-R.x<0&&(mt=y.x-R.x),y.y+a+$.y>ot.y&&(Ct=y.y+a-ot.y+$.y),y.y-Ct-R.y<0&&(Ct=y.y-R.y),(mt||Ct)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([mt,Ct]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ng=function(e,r){return new Ls(e,r)};It.mergeOptions({closePopupOnClick:!0}),It.include({openPopup:function(e,r,a){return this._initOverlay(Ls,e,r,a).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Ge.include({bindPopup:function(e,r){return this._popup=this._initOverlay(Ls,this._popup,e,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof dn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){ri(e);var r=e.layer||e.target;if(this._popup._source===r&&!(r instanceof Wn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=r,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Es=rn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){rn.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){rn.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=rn.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",r=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Rt("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var r,a,c=this._map,d=this._container,y=c.latLngToContainerPoint(c.getCenter()),M=c.layerPointToContainerPoint(e),R=this.options.direction,$=d.offsetWidth,ot=d.offsetHeight,mt=B(this.options.offset),Ct=this._getAnchor();R==="top"?(r=$/2,a=ot):R==="bottom"?(r=$/2,a=0):R==="center"?(r=$/2,a=ot/2):R==="right"?(r=0,a=ot/2):R==="left"?(r=$,a=ot/2):M.x<y.x?(R="right",r=0,a=ot/2):(R="left",r=$+(mt.x+Ct.x)*2,a=ot/2),e=e.subtract(B(r,a,!0)).add(mt).add(Ct),te(d,"leaflet-tooltip-right"),te(d,"leaflet-tooltip-left"),te(d,"leaflet-tooltip-top"),te(d,"leaflet-tooltip-bottom"),At(d,"leaflet-tooltip-"+R),ee(d,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Ie(this._container,e)},_animateZoom:function(e){var r=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(r)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ig=function(e,r){return new Es(e,r)};It.include({openTooltip:function(e,r,a){return this._initOverlay(Es,e,r,a).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Ge.include({bindTooltip:function(e,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Es,this._tooltip,e,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var r=e?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[r](a),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof dn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var r=typeof e.getElement=="function"&&e.getElement();r&&(Mt(r,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),Mt(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var r=typeof e.getElement=="function"&&e.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var r=e.latlng,a,c;this._tooltip.options.sticky&&e.originalEvent&&(a=this._map.mouseEventToContainerPoint(e.originalEvent),c=this._map.containerPointToLayerPoint(a),r=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(r)}});var Mc=Ai.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var r=e&&e.tagName==="DIV"?e:document.createElement("div"),a=this.options;if(a.html instanceof Element?(_s(r),r.appendChild(a.html)):r.innerHTML=a.html!==!1?a.html:"",a.bgPos){var c=B(a.bgPos);r.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function rg(e){return new Mc(e)}Ai.Default=xr;var wr=Ge.extend({options:{tileSize:256,opacity:1,updateWhenIdle:xt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){N(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),Yt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Pi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Mi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof D?e:new D(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var r=this.getPane().children,a=-e(-1/0,1/0),c=0,d=r.length,y;c<d;c++)y=r[c].style.zIndex,r[c]!==this._container&&y&&(a=e(a,+y));isFinite(a)&&(this.options.zIndex=a+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!xt.ielt9){Ie(this._container,this.options.opacity);var e=+new Date,r=!1,a=!1;for(var c in this._tiles){var d=this._tiles[c];if(!(!d.current||!d.loaded)){var y=Math.min(1,(e-d.loaded)/200);Ie(d.el,y),y<1?r=!0:(d.active?a=!0:this._onOpaqueTile(d),d.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),r&&(J(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=Rt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,r=this.options.maxZoom;if(e!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===e?(this._levels[a].el.style.zIndex=r-Math.abs(e-a),this._onUpdateLevel(a)):(Yt(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var c=this._levels[e],d=this._map;return c||(c=this._levels[e]={},c.el=Rt("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=r,c.origin=d.project(d.unproject(d.getPixelOrigin()),e).round(),c.zoom=e,this._setZoomTransform(c,d.getCenter(),d.getZoom()),g(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var e,r,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)r=this._tiles[e],r.retain=r.current;for(e in this._tiles)if(r=this._tiles[e],r.current&&!r.active){var c=r.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var r in this._tiles)this._tiles[r].coords.z===e&&this._removeTile(r)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)Yt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,r,a,c){var d=Math.floor(e/2),y=Math.floor(r/2),M=a-1,R=new D(+d,+y);R.z=+M;var $=this._tileCoordsToKey(R),ot=this._tiles[$];return ot&&ot.active?(ot.retain=!0,!0):(ot&&ot.loaded&&(ot.retain=!0),M>c?this._retainParent(d,y,M,c):!1)},_retainChildren:function(e,r,a,c){for(var d=2*e;d<2*e+2;d++)for(var y=2*r;y<2*r+2;y++){var M=new D(d,y);M.z=a+1;var R=this._tileCoordsToKey(M),$=this._tiles[R];if($&&$.active){$.retain=!0;continue}else $&&$.loaded&&($.retain=!0);a+1<c&&this._retainChildren(d,y,a+1,c)}},_resetView:function(e){var r=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var r=this.options;return r.minNativeZoom!==void 0&&e<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<e?r.maxNativeZoom:e},_setView:function(e,r,a,c){var d=Math.round(r);this.options.maxZoom!==void 0&&d>this.options.maxZoom||this.options.minZoom!==void 0&&d<this.options.minZoom?d=void 0:d=this._clampZoom(d);var y=this.options.updateWhenZooming&&d!==this._tileZoom;(!c||y)&&(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),d!==void 0&&this._update(e),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(e,r)},_setZoomTransforms:function(e,r){for(var a in this._levels)this._setZoomTransform(this._levels[a],e,r)},_setZoomTransform:function(e,r,a){var c=this._map.getZoomScale(a,e.zoom),d=e.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(r,a)).round();xt.any3d?ei(e.el,d,c):ee(e.el,d)},_resetGrid:function(){var e=this._map,r=e.options.crs,a=this._tileSize=this.getTileSize(),c=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,r.wrapLng[0]],c).x/a.x),Math.ceil(e.project([0,r.wrapLng[1]],c).x/a.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([r.wrapLat[0],0],c).y/a.x),Math.ceil(e.project([r.wrapLat[1],0],c).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var r=this._map,a=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),c=r.getZoomScale(a,this._tileZoom),d=r.project(e,this._tileZoom).floor(),y=r.getSize().divideBy(c*2);return new st(d.subtract(y),d.add(y))},_update:function(e){var r=this._map;if(r){var a=this._clampZoom(r.getZoom());if(e===void 0&&(e=r.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(e),d=this._pxBoundsToTileRange(c),y=d.getCenter(),M=[],R=this.options.keepBuffer,$=new st(d.getBottomLeft().subtract([R,-R]),d.getTopRight().add([R,-R]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ot in this._tiles){var mt=this._tiles[ot].coords;(mt.z!==this._tileZoom||!$.contains(new D(mt.x,mt.y)))&&(this._tiles[ot].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(e,a);return}for(var Ct=d.min.y;Ct<=d.max.y;Ct++)for(var Ot=d.min.x;Ot<=d.max.x;Ot++){var ye=new D(Ot,Ct);if(ye.z=this._tileZoom,!!this._isValidTile(ye)){var se=this._tiles[this._tileCoordsToKey(ye)];se?se.current=!0:M.push(ye)}}if(M.sort(function(Te,Ii){return Te.distanceTo(y)-Ii.distanceTo(y)}),M.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ze=document.createDocumentFragment();for(Ot=0;Ot<M.length;Ot++)this._addTile(M[Ot],ze);this._level.el.appendChild(ze)}}}},_isValidTile:function(e){var r=this._map.options.crs;if(!r.infinite){var a=this._globalTileRange;if(!r.wrapLng&&(e.x<a.min.x||e.x>a.max.x)||!r.wrapLat&&(e.y<a.min.y||e.y>a.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(e);return vt(this.options.bounds).overlaps(c)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var r=this._map,a=this.getTileSize(),c=e.scaleBy(a),d=c.add(a),y=r.unproject(c,e.z),M=r.unproject(d,e.z);return[y,M]},_tileCoordsToBounds:function(e){var r=this._tileCoordsToNwSe(e),a=new bt(r[0],r[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var r=e.split(":"),a=new D(+r[0],+r[1]);return a.z=+r[2],a},_removeTile:function(e){var r=this._tiles[e];r&&(Yt(r.el),delete this._tiles[e],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){At(e,"leaflet-tile");var r=this.getTileSize();e.style.width=r.x+"px",e.style.height=r.y+"px",e.onselectstart=g,e.onmousemove=g,xt.ielt9&&this.options.opacity<1&&Ie(e,this.options.opacity)},_addTile:function(e,r){var a=this._getTilePos(e),c=this._tileCoordsToKey(e),d=this.createTile(this._wrapCoords(e),u(this._tileReady,this,e));this._initTile(d),this.createTile.length<2&&Y(u(this._tileReady,this,e,null,d)),ee(d,a),this._tiles[c]={el:d,coords:e,current:!0},r.appendChild(d),this.fire("tileloadstart",{tile:d,coords:e})},_tileReady:function(e,r,a){r&&this.fire("tileerror",{error:r,tile:a,coords:e});var c=this._tileCoordsToKey(e);a=this._tiles[c],a&&(a.loaded=+new Date,this._map._fadeAnimated?(Ie(a.el,0),J(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),r||(At(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),xt.ielt9||!this._map._fadeAnimated?Y(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var r=new D(this._wrapX?m(e.x,this._wrapX):e.x,this._wrapY?m(e.y,this._wrapY):e.y);return r.z=e.z,r},_pxBoundsToTileRange:function(e){var r=this.getTileSize();return new st(e.min.unscaleBy(r).floor(),e.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function sg(e){return new wr(e)}var Oi=wr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,r){this._url=e,r=N(this,r),r.detectRetina&&xt.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,r){return this._url===e&&r===void 0&&(r=!0),this._url=e,r||this.redraw(),this},createTile:function(e,r){var a=document.createElement("img");return Mt(a,"load",u(this._tileOnLoad,this,r,a)),Mt(a,"error",u(this._tileOnError,this,r,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(e),a},getTileUrl:function(e){var r={r:xt.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-e.y;this.options.tms&&(r.y=a),r["-y"]=a}return P(this._url,o(r,this.options))},_tileOnLoad:function(e,r){xt.ielt9?setTimeout(u(e,this,null,r),0):e(null,r)},_tileOnError:function(e,r,a){var c=this.options.errorTileUrl;c&&r.getAttribute("src")!==c&&(r.src=c),e(a,r)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,r=this.options.maxZoom,a=this.options.zoomReverse,c=this.options.zoomOffset;return a&&(e=r-e),e+c},_getSubdomain:function(e){var r=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var e,r;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(r=this._tiles[e].el,r.onload=g,r.onerror=g,!r.complete)){r.src=V;var a=this._tiles[e].coords;Yt(r),delete this._tiles[e],this.fire("tileabort",{tile:r,coords:a})}},_removeTile:function(e){var r=this._tiles[e];if(r)return r.el.setAttribute("src",V),wr.prototype._removeTile.call(this,e)},_tileReady:function(e,r,a){if(!(!this._map||a&&a.getAttribute("src")===V))return wr.prototype._tileReady.call(this,e,r,a)}});function kc(e,r){return new Oi(e,r)}var Ac=Oi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,r){this._url=e;var a=o({},this.defaultWmsParams);for(var c in r)c in this.options||(a[c]=r[c]);r=N(this,r);var d=r.detectRetina&&xt.retina?2:1,y=this.getTileSize();a.width=y.x*d,a.height=y.y*d,this.wmsParams=a},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,Oi.prototype.onAdd.call(this,e)},getTileUrl:function(e){var r=this._tileCoordsToNwSe(e),a=this._crs,c=lt(a.project(r[0]),a.project(r[1])),d=c.min,y=c.max,M=(this._wmsVersion>=1.3&&this._crs===wc?[d.y,d.x,y.y,y.x]:[d.x,d.y,y.x,y.y]).join(","),R=Oi.prototype.getTileUrl.call(this,e);return R+T(this.wmsParams,R,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+M},setParams:function(e,r){return o(this.wmsParams,e),r||this.redraw(),this}});function og(e,r){return new Ac(e,r)}Oi.WMS=Ac,kc.wms=og;var gn=Ge.extend({options:{padding:.1},initialize:function(e){N(this,e),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),At(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,r){var a=this._map.getZoomScale(r,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),d=this._map.project(this._center,r),y=c.multiplyBy(-a).add(d).subtract(this._map._getNewPixelOrigin(e,r));xt.any3d?ei(this._container,y,a):ee(this._container,y)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,r=this._map.getSize(),a=this._map.containerPointToLayerPoint(r.multiplyBy(-e)).round();this._bounds=new st(a,a.add(r.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Lc=gn.extend({options:{tolerance:0},getEvents:function(){var e=gn.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){gn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Mt(e,"mousemove",this._onMouseMove,this),Mt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Mt(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){J(this._redrawRequest),delete this._ctx,Yt(this._container),Wt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var r in this._layers)e=this._layers[r],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){gn.prototype._update.call(this);var e=this._bounds,r=this._container,a=e.getSize(),c=xt.retina?2:1;ee(r,e.min),r.width=c*a.x,r.height=c*a.y,r.style.width=a.x+"px",r.style.height=a.y+"px",xt.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){gn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[f(e)]=e;var r=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var r=e._order,a=r.next,c=r.prev;a?a.prev=c:this._drawLast=c,c?c.next=a:this._drawFirst=a,delete e._order,delete this._layers[f(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var r=e.options.dashArray.split(/[, ]+/),a=[],c,d;for(d=0;d<r.length;d++){if(c=Number(r[d]),isNaN(c))return;a.push(c)}e.options._dashArray=a}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||Y(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var r=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new st,this._redrawBounds.extend(e._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(e._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var r=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,r=this._redrawBounds;if(this._ctx.save(),r){var a=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)e=c.layer,(!r||e._pxBounds&&e._pxBounds.intersects(r))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,r){if(this._drawing){var a,c,d,y,M=e._parts,R=M.length,$=this._ctx;if(R){for($.beginPath(),a=0;a<R;a++){for(c=0,d=M[a].length;c<d;c++)y=M[a][c],$[c?"lineTo":"moveTo"](y.x,y.y);r&&$.closePath()}this._fillStroke($,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var r=e._point,a=this._ctx,c=Math.max(Math.round(e._radius),1),d=(Math.max(Math.round(e._radiusY),1)||c)/c;d!==1&&(a.save(),a.scale(1,d)),a.beginPath(),a.arc(r.x,r.y/d,c,0,Math.PI*2,!1),d!==1&&a.restore(),this._fillStroke(a,e)}},_fillStroke:function(e,r){var a=r.options;a.fill&&(e.globalAlpha=a.fillOpacity,e.fillStyle=a.fillColor||a.color,e.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(e.setLineDash&&e.setLineDash(r.options&&r.options._dashArray||[]),e.globalAlpha=a.opacity,e.lineWidth=a.weight,e.strokeStyle=a.color,e.lineCap=a.lineCap,e.lineJoin=a.lineJoin,e.stroke())},_onClick:function(e){for(var r=this._map.mouseEventToLayerPoint(e),a,c,d=this._drawFirst;d;d=d.next)a=d.layer,a.options.interactive&&a._containsPoint(r)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(a))&&(c=a);this._fireEvent(c?[c]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,r)}},_handleMouseOut:function(e){var r=this._hoveredLayer;r&&(te(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,r){if(!this._mouseHoverThrottled){for(var a,c,d=this._drawFirst;d;d=d.next)a=d.layer,a.options.interactive&&a._containsPoint(r)&&(c=a);c!==this._hoveredLayer&&(this._handleMouseOut(e),c&&(At(this._container,"leaflet-interactive"),this._fireEvent([c],e,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,r,a){this._map._fireDOMEvent(r,a||r.type,e)},_bringToFront:function(e){var r=e._order;if(r){var a=r.next,c=r.prev;if(a)a.prev=c;else return;c?c.next=a:a&&(this._drawFirst=a),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(e)}},_bringToBack:function(e){var r=e._order;if(r){var a=r.next,c=r.prev;if(c)c.next=a;else return;a?a.prev=c:c&&(this._drawLast=c),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(e)}}});function Ec(e){return xt.canvas?new Lc(e):null}var br=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ag={_initContainer:function(){this._container=Rt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(gn.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var r=e._container=br("shape");At(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",e._path=br("path"),r.appendChild(e._path),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){var r=e._container;this._container.appendChild(r),e.options.interactive&&e.addInteractiveTarget(r)},_removePath:function(e){var r=e._container;Yt(r),e.removeInteractiveTarget(r),delete this._layers[f(e)]},_updateStyle:function(e){var r=e._stroke,a=e._fill,c=e.options,d=e._container;d.stroked=!!c.stroke,d.filled=!!c.fill,c.stroke?(r||(r=e._stroke=br("stroke")),d.appendChild(r),r.weight=c.weight+"px",r.color=c.color,r.opacity=c.opacity,c.dashArray?r.dashStyle=C(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=c.lineCap.replace("butt","flat"),r.joinstyle=c.lineJoin):r&&(d.removeChild(r),e._stroke=null),c.fill?(a||(a=e._fill=br("fill")),d.appendChild(a),a.color=c.fillColor||c.color,a.opacity=c.fillOpacity):a&&(d.removeChild(a),e._fill=null)},_updateCircle:function(e){var r=e._point.round(),a=Math.round(e._radius),c=Math.round(e._radiusY||a);this._setPath(e,e._empty()?"M0 0":"AL "+r.x+","+r.y+" "+a+","+c+" 0,"+65535*360)},_setPath:function(e,r){e._path.v=r},_bringToFront:function(e){Pi(e._container)},_bringToBack:function(e){Mi(e._container)}},Os=xt.vml?br:K,Tr=gn.extend({_initContainer:function(){this._container=Os("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Os("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Yt(this._container),Wt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){gn.prototype._update.call(this);var e=this._bounds,r=e.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,a.setAttribute("width",r.x),a.setAttribute("height",r.y)),ee(a,e.min),a.setAttribute("viewBox",[e.min.x,e.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(e){var r=e._path=Os("path");e.options.className&&At(r,e.options.className),e.options.interactive&&At(r,"leaflet-interactive"),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){Yt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[f(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var r=e._path,a=e.options;r&&(a.stroke?(r.setAttribute("stroke",a.color),r.setAttribute("stroke-opacity",a.opacity),r.setAttribute("stroke-width",a.weight),r.setAttribute("stroke-linecap",a.lineCap),r.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?r.setAttribute("stroke-dasharray",a.dashArray):r.removeAttribute("stroke-dasharray"),a.dashOffset?r.setAttribute("stroke-dashoffset",a.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),a.fill?(r.setAttribute("fill",a.fillColor||a.color),r.setAttribute("fill-opacity",a.fillOpacity),r.setAttribute("fill-rule",a.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(e,r){this._setPath(e,X(e._parts,r))},_updateCircle:function(e){var r=e._point,a=Math.max(Math.round(e._radius),1),c=Math.max(Math.round(e._radiusY),1)||a,d="a"+a+","+c+" 0 1,0 ",y=e._empty()?"M0 0":"M"+(r.x-a)+","+r.y+d+a*2+",0 "+d+-a*2+",0 ";this._setPath(e,y)},_setPath:function(e,r){e._path.setAttribute("d",r)},_bringToFront:function(e){Pi(e._path)},_bringToBack:function(e){Mi(e._path)}});xt.vml&&Tr.include(ag);function Oc(e){return xt.svg||xt.vml?new Tr(e):null}It.include({getRenderer:function(e){var r=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var r=this._paneRenderers[e];return r===void 0&&(r=this._createRenderer({pane:e}),this._paneRenderers[e]=r),r},_createRenderer:function(e){return this.options.preferCanvas&&Ec(e)||Oc(e)}});var Ic=Li.extend({initialize:function(e,r){Li.prototype.initialize.call(this,this._boundsToLatLngs(e),r)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=vt(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function lg(e,r){return new Ic(e,r)}Tr.create=Os,Tr.pointsToPath=X,mn.geometryToLayer=Ss,mn.coordsToLatLng=La,mn.coordsToLatLngs=Ps,mn.latLngToCoords=Ea,mn.latLngsToCoords=Ms,mn.getFeature=Ei,mn.asFeature=ks,It.mergeOptions({boxZoom:!0});var Nc=nn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Mt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Wt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Yt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),pr(),da(),this._startPoint=this._map.mouseEventToContainerPoint(e),Mt(document,{contextmenu:ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=Rt("div","leaflet-zoom-box",this._container),At(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var r=new st(this._point,this._startPoint),a=r.getSize();ee(this._box,r.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(Yt(this._box),te(this._container,"leaflet-crosshair")),mr(),pa(),Wt(document,{contextmenu:ri,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var r=new bt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});It.addInitHook("addHandler","boxZoom",Nc),It.mergeOptions({doubleClickZoom:!0});var zc=nn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var r=this._map,a=r.getZoom(),c=r.options.zoomDelta,d=e.originalEvent.shiftKey?a-c:a+c;r.options.doubleClickZoom==="center"?r.setZoom(d):r.setZoomAround(e.containerPoint,d)}});It.addInitHook("addHandler","doubleClickZoom",zc),It.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Rc=nn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Vn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}At(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){te(this._map._container,"leaflet-grab"),te(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=vt(this._map.options.maxBounds);this._offsetLimit=lt(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var r=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(r),this._prunePositions(r)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,r){return e-(e-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;e.x<r.min.x&&(e.x=this._viscousLimit(e.x,r.min.x)),e.y<r.min.y&&(e.y=this._viscousLimit(e.y,r.min.y)),e.x>r.max.x&&(e.x=this._viscousLimit(e.x,r.max.x)),e.y>r.max.y&&(e.y=this._viscousLimit(e.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,r=Math.round(e/2),a=this._initialWorldOffset,c=this._draggable._newPos.x,d=(c-r+a)%e+r-a,y=(c+r+a)%e-r-a,M=Math.abs(d+a)<Math.abs(y+a)?d:y;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=M},_onDragEnd:function(e){var r=this._map,a=r.options,c=!a.inertia||e.noInertia||this._times.length<2;if(r.fire("dragend",e),c)r.fire("moveend");else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),y=(this._lastTime-this._times[0])/1e3,M=a.easeLinearity,R=d.multiplyBy(M/y),$=R.distanceTo([0,0]),ot=Math.min(a.inertiaMaxSpeed,$),mt=R.multiplyBy(ot/$),Ct=ot/(a.inertiaDeceleration*M),Ot=mt.multiplyBy(-Ct/2).round();!Ot.x&&!Ot.y?r.fire("moveend"):(Ot=r._limitOffset(Ot,r.options.maxBounds),Y(function(){r.panBy(Ot,{duration:Ct,easeLinearity:M,noMoveStart:!0,animate:!0})}))}}});It.addInitHook("addHandler","dragging",Rc),It.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Dc=nn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Mt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Wt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,r=document.documentElement,a=e.scrollTop||r.scrollTop,c=e.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(c,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var r=this._panKeys={},a=this.keyCodes,c,d;for(c=0,d=a.left.length;c<d;c++)r[a.left[c]]=[-1*e,0];for(c=0,d=a.right.length;c<d;c++)r[a.right[c]]=[e,0];for(c=0,d=a.down.length;c<d;c++)r[a.down[c]]=[0,e];for(c=0,d=a.up.length;c<d;c++)r[a.up[c]]=[0,-1*e]},_setZoomDelta:function(e){var r=this._zoomKeys={},a=this.keyCodes,c,d;for(c=0,d=a.zoomIn.length;c<d;c++)r[a.zoomIn[c]]=e;for(c=0,d=a.zoomOut.length;c<d;c++)r[a.zoomOut[c]]=-e},_addHooks:function(){Mt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Wt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var r=e.keyCode,a=this._map,c;if(r in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(c=this._panKeys[r],e.shiftKey&&(c=B(c).multiplyBy(3)),a.options.maxBounds&&(c=a._limitOffset(B(c),a.options.maxBounds)),a.options.worldCopyJump){var d=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(c)));a.panTo(d)}else a.panBy(c)}else if(r in this._zoomKeys)a.setZoom(a.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;ri(e)}}});It.addInitHook("addHandler","keyboard",Dc),It.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Bc=nn.extend({addHooks:function(){Mt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Wt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var r=lc(e),a=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var c=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),c),ri(e)},_performZoom:function(){var e=this._map,r=e.getZoom(),a=this._map.options.zoomSnap||0;e._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),d=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,y=a?Math.ceil(d/a)*a:d,M=e._limitZoom(r+(this._delta>0?y:-y))-r;this._delta=0,this._startTime=null,M&&(e.options.scrollWheelZoom==="center"?e.setZoom(r+M):e.setZoomAround(this._lastMousePos,r+M))}});It.addInitHook("addHandler","scrollWheelZoom",Bc);var ug=600;It.mergeOptions({tapHold:xt.touchNative&&xt.safari&&xt.mobile,tapTolerance:15});var Fc=nn.extend({addHooks:function(){Mt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Wt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var r=e.touches[0];this._startPos=this._newPos=new D(r.clientX,r.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(Mt(document,"touchend",ue),Mt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),ug),Mt(document,"touchend touchcancel contextmenu",this._cancel,this),Mt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Wt(document,"touchend",ue),Wt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Wt(document,"touchend touchcancel contextmenu",this._cancel,this),Wt(document,"touchmove",this._onMove,this)},_onMove:function(e){var r=e.touches[0];this._newPos=new D(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,r){var a=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});a._simulated=!0,r.target.dispatchEvent(a)}});It.addInitHook("addHandler","tapHold",Fc),It.mergeOptions({touchZoom:xt.touch,bounceAtZoomLimits:!0});var Hc=nn.extend({addHooks:function(){At(this._map._container,"leaflet-touch-zoom"),Mt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){te(this._map._container,"leaflet-touch-zoom"),Wt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var r=this._map;if(!(!e.touches||e.touches.length!==2||r._animatingZoom||this._zooming)){var a=r.mouseEventToContainerPoint(e.touches[0]),c=r.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(a.add(c)._divideBy(2))),this._startDist=a.distanceTo(c),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),Mt(document,"touchmove",this._onTouchMove,this),Mt(document,"touchend touchcancel",this._onTouchEnd,this),ue(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var r=this._map,a=r.mouseEventToContainerPoint(e.touches[0]),c=r.mouseEventToContainerPoint(e.touches[1]),d=a.distanceTo(c)/this._startDist;if(this._zoom=r.getScaleZoom(d,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&d<1||this._zoom>r.getMaxZoom()&&d>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,d===1)return}else{var y=a._add(c)._divideBy(2)._subtract(this._centerPoint);if(d===1&&y.x===0&&y.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(y),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),J(this._animRequest);var M=u(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Y(M,this,!0),ue(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,J(this._animRequest),Wt(document,"touchmove",this._onTouchMove,this),Wt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});It.addInitHook("addHandler","touchZoom",Hc),It.BoxZoom=Nc,It.DoubleClickZoom=zc,It.Drag=Rc,It.Keyboard=Dc,It.ScrollWheelZoom=Bc,It.TapHold=Fc,It.TouchZoom=Hc,i.Bounds=st,i.Browser=xt,i.CRS=H,i.Canvas=Lc,i.Circle=Aa,i.CircleMarker=Cs,i.Class=A,i.Control=je,i.DivIcon=Mc,i.DivOverlay=rn,i.DomEvent=Mm,i.DomUtil=Sm,i.Draggable=Vn,i.Evented=G,i.FeatureGroup=dn,i.GeoJSON=mn,i.GridLayer=wr,i.Handler=nn,i.Icon=Ai,i.ImageOverlay=As,i.LatLng=_t,i.LatLngBounds=bt,i.Layer=Ge,i.LayerGroup=ki,i.LineUtil=Hm,i.Map=It,i.Marker=Ts,i.Mixin=Nm,i.Path=Wn,i.Point=D,i.PolyUtil=zm,i.Polygon=Li,i.Polyline=pn,i.Popup=Ls,i.PosAnimation=uc,i.Projection=Zm,i.Rectangle=Ic,i.Renderer=gn,i.SVG=Tr,i.SVGOverlay=Pc,i.TileLayer=Oi,i.Tooltip=Es,i.Transformation=U,i.Util=ft,i.VideoOverlay=Sc,i.bind=u,i.bounds=lt,i.canvas=Ec,i.circle=Km,i.circleMarker=qm,i.control=vr,i.divIcon=rg,i.extend=o,i.featureGroup=jm,i.geoJSON=Cc,i.geoJson=Jm,i.gridLayer=sg,i.icon=Gm,i.imageOverlay=Qm,i.latLng=pt,i.latLngBounds=vt,i.layerGroup=Wm,i.map=km,i.marker=$m,i.point=B,i.polygon=Xm,i.polyline=Ym,i.popup=ng,i.rectangle=lg,i.setOptions=N,i.stamp=f,i.svg=Oc,i.svgOverlay=eg,i.tileLayer=kc,i.tooltip=ig,i.transformation=v,i.version=s,i.videoOverlay=tg;var cg=window.L;i.noConflict=function(){return window.L=cg,this},window.L=i}))})(Hr,Hr.exports)),Hr.exports}var aC=oC();const $n=rC(aC),lC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",uC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",cC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",fC={class:"relative w-full h-full"},hC={class:"flex flex-col gap-1"},dC={class:"text-[10px] text-slate-600 font-medium leading-none"},pC={__name:"Map",emits:["feature-clicked"],setup(t,{emit:n}){$n.Icon.Default.mergeOptions({iconRetinaUrl:uC,iconUrl:lC,shadowUrl:cC});const i=n,s=kt(null),o=kt(null);let l=null,u=null,h=null;const f=[{label:"Island",color:"var(--zone-island-bg)",border:"var(--zone-island-border)",check:_=>_==="Island"},{label:"Fishing Zone",color:"var(--zone-fishing-bg)",border:"var(--zone-fishing-border)",check:_=>_.includes("Fishing")},{label:"Ecological Preserve",color:"var(--zone-preserve-bg)",border:"var(--zone-preserve-border)",check:_=>_.includes("Preserve")},{label:"Buoy",color:"var(--zone-buoy-bg)",border:"var(--zone-buoy-border)",check:_=>_.includes("buoy")},{label:"City",color:"var(--zone-city-bg)",border:"var(--zone-city-border)",check:_=>_.includes("city")}],p=_=>{const x=_.properties?.["*Kind"]||_.properties?.type||"",O=f.find(N=>N.check(x));return O?{fillColor:O.color,color:O.border,weight:O.label.includes("Fishing")?2:1,fillOpacity:O.label==="Island"?.8:.5}:{fillColor:"var(--zone-default-bg)",color:"var(--zone-default-border)",weight:1,fillOpacity:.3}},m=(_,x)=>{x.on({click:O=>{h&&u&&u.resetStyle(h),h=x,x.setStyle&&(x.setStyle({color:"var(--state-selected-border)",weight:4,fillOpacity:.8,fillColor:"var(--state-selected-bg)"}),x.bringToFront()),_.geometry.type!=="Point"&&u&&u.eachLayer(N=>{N.feature.geometry.type==="Point"&&N.bringToFront()}),i("feature-clicked",_),$n.DomEvent.stopPropagation(O)},mouseover:O=>{O.target!==h&&O.target.setStyle&&O.target.setStyle({weight:3,color:"var(--state-hover-border)",fillOpacity:.7})},mouseout:O=>{O.target!==h&&u&&u.resetStyle(O.target)}})};async function g(){if(s.value){if(l=$n.map(s.value,{zoomControl:!0,attributionControl:!1}).setView([39.75,-166],12),$n.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png").addTo(l),o.value){const _=$n.control({position:"bottomright"});_.onAdd=()=>{const x=o.value;return $n.DomEvent.disableClickPropagation(x),x},_.addTo(l)}try{const _=await eC();u=$n.geoJSON(_,{style:p,onEachFeature:m,pointToLayer:(x,O)=>$n.circleMarker(O,{radius:6,fillOpacity:.8})}).addTo(l),_.features?.length&&l.fitBounds(u.getBounds(),{padding:[20,20]})}catch(_){console.error("Failed to load GeoJSON data:",_)}}}return We(async()=>{try{await g()}catch(_){console.error("Error initializing map:",_)}}),qo(()=>{l&&l.remove()}),(_,x)=>(dt(),gt("div",fC,[I("div",{ref_key:"mapContainer",ref:s,class:"w-full h-full bg-slate-100 z-0"},null,512),I("div",{ref_key:"legendRef",ref:o,class:"leaflet-legend-container bg-white/90 backdrop-blur-sm p-2 rounded shadow-sm border border-slate-200/50"},[x[0]||(x[0]=I("h5",{class:"text-[10px] font-bold text-slate-500 uppercase tracking-wider mb-1"},"Zones",-1)),I("div",hC,[(dt(),gt($t,null,Se(f,(O,N)=>I("div",{key:N,class:"flex items-center"},[I("span",{class:"w-2 h-2 rounded-full mr-1.5 shadow-sm",style:Fe({backgroundColor:O.color,border:`1px solid ${O.border}`})},null,4),I("span",dC,Lt(O.label),1)])),64))])],512)]))}},Dh={FishingVessel:"var(--chart-vessel-fishing)",CargoVessel:"var(--chart-vessel-cargo)","Ferry.Cargo":"var(--chart-vessel-ferry-cargo)","Ferry.Passenger":"var(--chart-vessel-ferry-passenger)",Tour:"var(--chart-vessel-tour)",Research:"var(--chart-vessel-research)",Other:"var(--chart-vessel-other)"},dl={illegal:"var(--commodity-illegal)",suspect:"var(--commodity-suspect)",legal:"var(--commodity-legal)"},Kr=new Set(["piscesfoetidaae7","piscisosseusb6d","piscessatisb87"]),nm=new Set(["piscesfrigus900","labridaenrefert9be","habeaspisces4eb","thunnininveradb7"]),pl=t=>Kr.has(t)?dl.illegal:nm.has(t)?dl.suspect:dl.legal,Xl={illegal:"bg-red-50 text-red-700 border-red-200 ring-1 ring-red-100",suspect:"bg-amber-50 text-amber-700 border-amber-200 ring-1 ring-amber-100",legal:"bg-emerald-50 text-emerald-700 border-emerald-100"},zo={gadusnspecificatae4ba:"fish-icon-green.svg",piscesfrigus900:"fish-icon-amber.svg",piscesfoetidaae7:"fish-icon-red.svg",labridaenrefert9be:"fish-icon-amber.svg",habeaspisces4eb:"fish-icon-amber.svg",piscissapidum9b7:"fish-icon-green.svg",thunnininveradb7:"fish-icon-amber.svg",piscisosseusb6d:"fish-icon-red.svg",oncorhynchusrosea790:"fish-icon-green.svg",piscessatisb87:"fish-icon-red.svg",default:"fish-icon-green.svg"},ls=t=>Kr.has(t)?"illegal":nm.has(t)?"suspect":"legal",Yr=t=>Dh[t]||Dh.Other,Jl=t=>zo[t]||zo.default,Ro=t=>{switch(t){case"Fishing Ground":return"var(--zone-fishing-bg)";case"Ecological Preserve":return"var(--zone-preserve-bg)";case"Island":return"var(--zone-island-bg)";case"buoy":return"var(--zone-buoy-bg)";case"city":return"var(--zone-city-bg)";default:return"var(--zone-default-bg)"}},mC=t=>{switch(t){case"Fishing Ground":return"var(--zone-fishing-border)";case"Ecological Preserve":return"var(--zone-preserve-border)";case"Island":return"var(--zone-island-border)";case"buoy":return"var(--zone-buoy-border)";case"city":return"var(--zone-city-border)";default:return"var(--zone-default-border)"}},Vi=(t,n,i,s)=>{i.value={visible:!0,x:t.clientX,y:t.clientY,contentDict:n,variant:s||"default"}},Mn=t=>{t.value&&(t.value.visible=!1)},gC={key:0},_C={class:"tooltip-key"},vC={class:"tooltip-value"},Qs=15,Bi=10,yC={__name:"Tooltip",props:{x:Number,y:Number,contentDict:Object,visible:Boolean,variant:{type:String,default:"default",validator:t=>["default","warning","danger"].includes(t)}},setup(t){const n=t,i=kt(null),s=kt({x:0,y:0});Ue(()=>[n.x,n.y,n.visible,n.contentDict],async()=>{if(await wi(),!n.visible||!i.value)return;const f=i.value.getBoundingClientRect(),p=window.innerWidth,m=window.innerHeight;let g=n.x+Qs,_=n.y+Qs;g+f.width>p-Bi&&(g=n.x-f.width-Qs),_+f.height>m-Bi&&(_=n.y-f.height-Qs),g<Bi&&(g=Bi),_<Bi&&(_=Bi),s.value={x:g,y:_}},{immediate:!0});const l=qt(()=>({position:"fixed",left:`${s.value.x}px`,top:`${s.value.y}px`,zIndex:9999,pointerEvents:"none"})),u=qt(()=>`tooltip-${n.variant}`);return(h,f)=>(dt(),tr(Qd,{name:"fade"},{default:cr(()=>[t.visible?(dt(),gt("div",{key:0,ref_key:"tooltipRef",ref:i,style:Fe(l.value),class:Qt(["tooltip-box",u.value])},[t.contentDict?(dt(),gt("table",gC,[(dt(!0),gt($t,null,Se(t.contentDict,(p,m)=>(dt(),gt("tr",{key:m},[I("td",_C,Lt(m),1),I("td",vC,Lt(p),1)]))),128))])):Gt("",!0)],6)):Gt("",!0)]),_:1}))}},Wu=fr(yC,[["__scopeId","data-v-103e610a"]]),xC={key:0,class:"absolute inset-0 z-50 bg-white/90 flex flex-col items-center justify-center backdrop-blur-sm"},wC={class:"text-sm font-medium text-gray-600 animate-pulse"},ju={__name:"LoadingOverlay",props:{loading:{type:Boolean,required:!0},message:{type:String,default:"Loading Visualization..."}},setup(t){return(n,i)=>(dt(),tr(Qd,{"enter-active-class":"transition-opacity duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-300","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:cr(()=>[t.loading?(dt(),gt("div",xC,[i[0]||(i[0]=I("div",{class:"animate-spin rounded-full h-10 w-10 border-4 border-gray-200 border-t-blue-600 mb-3"},null,-1)),I("div",wC,Lt(t.message),1)])):Gt("",!0)]),_:1}))}},bC={class:"relative w-full h-full flex flex-col overflow-hidden"},ml="SouthSeafood Express Corp",gl=30,bn=50,Or=42,TC=2,CC={__name:"TrafficChart",props:{data:Array},emits:["vessel-selected"],setup(t,{emit:n}){const i=t,s=n,o={top:0,right:20,bottom:0,left:260},l=kt(null),u=kt(null),h=kt(!0),f=kt({x:0,y:0,contentDict:{},visible:!1,variant:"default"}),p=kt(null),m=kt({});let g={};const _=(N,T,b,P,C=!1)=>{const k=N.append("g").attr("class","vessel-row-group").attr("transform",b?`translate(0, ${b(T.id)})`:"translate(0, 0)"),V=T.company===ml;let F="var(--chart-bg-default)";C?F="var(--chart-bg-pinned)":V&&(F="var(--chart-row-highlight-bg)"),k.append("rect").attr("x",-260).attr("y",0).attr("width","100%").attr("height",C?bn:Or).attr("fill",F).attr("stroke-left",V&&!C?"var(--chart-text-highlight)":"none").attr("stroke-width",4).on("mouseenter",function(){C||Xt(this).attr("fill",V?"var(--chart-row-highlight-hover)":"var(--chart-row-hover)")}).on("mouseleave",function(){C||Xt(this).attr("fill",F)}).on("click",()=>O(T.id)),V&&!C&&k.append("rect").attr("x",-260).attr("y",0).attr("width",4).attr("height",Or).attr("fill","var(--chart-text-highlight)"),C&&(k.append("line").attr("x1",-260).attr("x2",2e4).attr("y1",bn).attr("y2",bn),k.append("text").text("PINNED").attr("x",-250).attr("y",10).style("font-size","9px").style("fill","var(--chart-text-pinned)").style("font-weight","bold"));const j=C?bn/2:Or/2,tt=k.append("g").attr("transform",`translate(0, ${j})`).style("pointer-events","none"),q=Yr(T.type),Y=tt.append("text").text(T.name.length>25?T.name.substring(0,25)+"...":T.name).attr("x",-15).attr("y",-3).style("font-size","11px").style("font-weight",V?"800":"700").style("fill",V?"var(--chart-text-highlight-dark)":"var(--chart-text-main)").style("text-anchor","end").node().getBBox().x-6,J=T.type==="Unknown"?"?":T.type,A=tt.append("text").text(J).attr("x",Y).attr("y",-3).style("font-size","9px").style("font-weight","600").style("fill",q).style("text-anchor","end").node().getBBox();tt.insert("rect","text").attr("x",A.x-4).attr("y",A.y-1).attr("width",A.width+8).attr("height",A.height+2).attr("fill",q).attr("fill-opacity",.15).attr("rx",3),tt.append("text").text(T.company.length>35?T.company.substring(0,35)+"...":T.company||"Unknown").attr("x",-15).attr("y",10).style("font-size","10px").style("fill",V?"var(--chart-text-highlight)":"var(--chart-text-muted)").style("font-weight",V?"600":"400").style("font-style","italic").style("text-anchor","end");const at=k.append("g").attr("clip-path","url(#clip-body)"),z=C?bn-20:Or-12,G=C?10:6;at.selectAll(".ping-rect").data(T.pings).enter().append("rect").attr("class","ping-rect").attr("x",D=>P(D.time)).attr("y",G).attr("height",z).attr("width",TC).attr("fill",D=>{const Q=g[D.source]||"Unknown";return Ro(Q)}).attr("rx",1).on("mouseover",(D,Q)=>{const B=m.value[Q.target]||{name:Q.target};Vi(D,{Vessel:B.name,Company:B.company,Time:Hu("%d %b %H:%M")(Q.time)},f)}).on("mouseout",()=>{Mn(f)})},x=async()=>{if(h.value=!0,!l.value||!u.value||!i.data){h.value=!1;return}if(await wi(),await new Promise(N=>setTimeout(N,50)),Xt(l.value).selectAll("*").remove(),Xt(u.value).selectAll("*").remove(),!i.data||i.data.length===0){h.value=!1;return}try{const T=_y(i.data,B=>B.target).map(([B,st])=>{const lt=m.value[B]||{name:B,vessel_type:"Unknown",company:"Unknown"},vt=st.slice().sort((_t,pt)=>new Date(_t.time)-new Date(pt.time)).map(_t=>({..._t,time:new Date(_t.time)}));return{id:B,name:lt.name,type:lt.vessel_type,company:lt.company,pings:vt}}).sort((B,st)=>{const lt=B.company===ml,bt=st.company===ml;return lt&&!bt?-1:!lt&&bt?1:B.name.localeCompare(st.name)}),b=l.value.clientWidth-o.left-o.right,P=T.length*Or,C=gl+bn+10,k=Xt(l.value).append("svg").attr("width",b+o.left+o.right).attr("height",C).style("display","block").style("overflow","visible"),V=k.append("g").attr("transform",`translate(${o.left}, ${gl})`),F=k.append("g").attr("transform",`translate(${o.left}, ${gl+10})`),j=Xt(u.value).append("svg").attr("width",b+o.left+o.right).attr("height",P).style("display","block"),tt=j.append("g").attr("transform",`translate(${o.left}, 0)`);j.append("defs").append("clipPath").attr("id","clip-body").append("rect").attr("width",b).attr("height",1e4),k.append("defs").append("clipPath").attr("id","clip-header").append("rect").attr("width",b).attr("height",bn);const nt=Zu().domain(Cu(i.data,B=>new Date(B.time))).range([0,b]),Y=Nu().domain(T.map(B=>B.id)).range([0,P]).padding(.1),J=Bl(nt),ft=V.append("g").attr("class","x-axis text-[var(--chart-axis-line)] text-[10px]").call(J);if(ft.select(".domain").remove(),p.value){const B=T.find(st=>st.id===p.value);B&&_(F,B,null,nt,!0)}else F.append("rect").attr("width",b+o.left+o.right).attr("x",-o.left).attr("height",bn).attr("fill","var(--chart-bg-pinned)"),F.append("text").text("Click on a vessel to pin it. Click back here to unpin it.").attr("x",b/2).attr("y",bn/2).attr("dy","0.3em").attr("text-anchor","middle").style("fill","var(--chart-text-pinned)").style("font-size","12px");const A=tt.append("g").attr("class","grid-layer");A.selectAll(".grid-horizontal-line").data(T).enter().append("line").attr("x1",0).attr("x2",b).attr("y1",B=>Y(B.id)+Y.bandwidth()).attr("y2",B=>Y(B.id)+Y.bandwidth()).attr("stroke","var(--chart-grid-line)").attr("stroke-width",1).attr("opacity",.3);const at=A.append("g").attr("class","grid-vertical"),z=B=>{const st=B.ticks?B.ticks(b/80):B.domain();at.selectAll("line").data(st).join(lt=>lt.append("line").attr("y1",0).attr("y2",P).attr("stroke","var(--chart-grid-line)").attr("stroke-dasharray","2,2").attr("opacity",.5),lt=>lt,lt=>lt.remove()).attr("x1",lt=>B(lt)).attr("x2",lt=>B(lt))};z(nt);const G=tt.append("g").attr("class","rows-layer");T.forEach(B=>{const st=G.append("g");_(st,B,Y,nt,!1)});const D=B=>{const lt=B.transform.rescaleX(nt);ft.call(J.scale(lt)),ft.select(".domain").remove(),z(lt),tt.selectAll(".ping-rect").attr("x",bt=>lt(bt.time)),F.selectAll(".ping-rect").attr("x",bt=>lt(bt.time))},Q=Uu().scaleExtent([1,100]).translateExtent([[0,0],[b,P]]).extent([[0,0],[b,P]]).filter(function(B){if(B.type==="wheel"){const[st]=on(B,j.node());return st>=o.left}return!0}).on("zoom",D);j.call(Q).on("dblclick.zoom",null)}catch(N){console.error("Error drawing chart:",N)}finally{h.value=!1}};function O(N){p.value=p.value===N?null:N,s("vessel-selected",p.value),x()}return Ue(()=>i.data,async()=>{await x()},{deep:!0}),We(async()=>{h.value=!0;try{const[N,T]=await Promise.all([oa(),tm()]);m.value=N.reduce((C,k)=>(C[k.id]={...k,company:k.company||"Unknown",vessel_type:k.vessel_type||"Unknown"},C),{});const b={},P=new Set;T.forEach(C=>{b[C.id]=C.kind||"Unknown",P.add(C.id)}),g=b,await x(),window.addEventListener("resize",x)}catch(N){console.error("Error loading vessel registry:",N),h.value=!1}}),cs(()=>{window.removeEventListener("resize",x)}),(N,T)=>(dt(),gt("div",bC,[Nt(ju,{loading:h.value,message:"Loading Visualization..."},null,8,["loading"]),I("div",{ref_key:"headerContainer",ref:l,class:"w-full h-[90px] shrink-0 bg-white border-b border-gray-100 z-10 shadow-sm relative"},null,512),I("div",{ref_key:"bodyContainer",ref:u,class:"w-full flex-1 overflow-y-auto overflow-x-hidden relative"},null,512),Nt(Wu,{visible:f.value.visible,x:f.value.x,y:f.value.y,"content-dict":f.value.contentDict},null,8,["visible","x","y","content-dict"])]))}},SC={class:"w-full font-sans text-[var(--main-deep-blue)]"},PC={class:"mb-2 border-b border-slate-200 pb-1"},MC={class:"text-sm font-bold uppercase"},kC={key:0,class:"text-[11px] text-slate-600 leading-snug mb-3 italic"},AC={key:1,class:"mb-3"},LC={class:"flex flex-wrap gap-1"},EC={key:2},OC={class:"flex flex-wrap gap-1"},IC=["src"],NC={__name:"InfoCard",props:{zone:{type:String,required:!0},kind:{type:String,default:""},description:{type:String,default:""},activities:{type:Array,default:()=>[]},species:{type:Array,default:()=>[]}},setup(t){const n=t,i=kt(new Map),s=l=>i.value.get(l)||{status:"legal",icon:"fish-icon-default.svg"},o=l=>{const{status:u}=s(l);return Xl[u]||Xl.legal};return We(async()=>{try{const l=await Vu(),u=new Map;l.forEach(h=>{const f=ls(h.id),p=Jl(h.id);u.set(h.name,{status:f,icon:p})}),i.value=u}catch(l){console.error("Error loading commodities:",l)}}),(l,u)=>(dt(),gt("div",SC,[I("div",PC,[I("h3",MC,Lt(t.zone),1),t.kind?(dt(),gt("span",{key:0,class:"text-[9px] font-bold uppercase tracking-widest",style:Fe({color:Be(Ro)(n.kind)})},Lt(t.kind),5)):Gt("",!0)]),t.description?(dt(),gt("p",kC,Lt(t.description),1)):Gt("",!0),t.activities.length?(dt(),gt("div",AC,[u[0]||(u[0]=I("h4",{class:"text-[8px] font-bold text-slate-400 uppercase mb-1"},"Activities",-1)),I("div",LC,[(dt(!0),gt($t,null,Se(t.activities,h=>(dt(),gt("span",{key:h,class:"px-1.5 py-0.5 bg-slate-100 text-slate-600 text-[9px] font-bold rounded"},Lt(h),1))),128))])])):Gt("",!0),t.species&&t.species.length?(dt(),gt("div",EC,[u[1]||(u[1]=I("h4",{class:"text-[8px] font-bold text-slate-400 uppercase mb-1"},"Endemic Species",-1)),I("div",OC,[(dt(!0),gt($t,null,Se(t.species,h=>(dt(),gt("span",{key:h,class:Qt(["pl-1 pr-2 py-0.5 text-[9px] font-bold rounded border transition-all duration-300 flex items-center gap-1.5",o(h)])},[I("img",{src:`/assets/${s(h).icon}`,alt:"fish",class:"w-3.5 h-3.5 object-contain opacity-80"},null,8,IC),I("span",null,Lt(h),1)],2))),128))])])):Gt("",!0)]))}},zC={class:"h-full flex flex-col overflow-hidden bg-gray-100"},RC={class:"flex flex-grow overflow-hidden p-4 pt-2 gap-2"},DC={class:"w-2/7 h-full bg-white rounded-xl overflow-hidden relative border border-gray-100 flex flex-col"},BC={class:"h-4/6 relative w-full"},FC={class:"h-2/6 p-4 overflow-y-auto bg-white"},HC={key:0,class:"animate-in fade-in duration-300"},ZC={key:1,class:"h-full flex items-center justify-center text-gray-400 opacity-50 text-sm text-center"},UC={class:"w-5/7 flex flex-col bg-white rounded-xl border border-gray-100 overflow-hidden"},VC={class:"flex-none bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between h-auto gap-8"},WC={class:"flex flex-col min-w-[100px] border-r border-gray-100 pr-6"},jC={class:"flex items-baseline gap-1.5"},GC={class:"text-2xl font-bold text-blue-600 leading-none"},$C={class:"flex flex-col flex-1 max-w-2xl"},qC={class:"flex items-center justify-between mb-3"},KC={class:"flex items-center gap-2 text-xs font-mono text-gray-600"},YC={class:"font-bold bg-gray-100 px-1.5 py-0.5 rounded text-gray-700"},XC={class:"font-bold bg-gray-100 px-1.5 py-0.5 rounded text-gray-700"},JC={class:"flex gap-1"},QC={class:"relative w-full h-6 group select-none"},tS={class:"absolute inset-x-0 bottom-0 h-4 border-b border-gray-300 flex justify-between items-end px-[1px]"},eS={class:"flex-1 min-h-0 w-full relative"},nS={key:0,class:"absolute inset-0 z-30 flex flex-col items-center justify-center bg-white text-center p-8"},iS={key:1,class:"flex flex-col h-full w-full"},rS={key:0,class:"absolute inset-0 z-20 flex flex-col items-center justify-center bg-white text-center p-8"},sS={__name:"TrafficExplorer",setup(t){const n=kt(null),i=kt([]),s=kt(0),o=kt(24),l=kt(0),u=kt(24),h=(N,T)=>{l.value=N,u.value=T},f=()=>{l.value>u.value-1&&(l.value=u.value-1)},p=()=>{s.value=l.value,o.value=u.value},m=N=>{n.value=N},g=qt(()=>{const N=l.value/24*100,T=u.value/24*100;return{left:`${N}%`,width:`${T-N}%`}}),_=qt(()=>{if(!n.value)return!1;const N=n.value.properties["*Kind"]||n.value.properties.type,T=n.value.properties.Name==="Centralia";return N==="Island"||T}),x=qt(()=>{if(!n.value||i.value.length===0)return[];const N=n.value.properties.Name;return i.value.filter(T=>{if(T.source!==N)return!1;const b=new Date(T.time).getHours();if(s.value<=o.value){if(b<s.value||b>=o.value)return!1}else if(b>=o.value&&b<s.value)return!1;return!0})}),O=qt(()=>{const N=x.value;return!N||N.length===0?0:new Set(N.map(b=>b.target)).size});return We(async()=>{try{i.value=await nC()}catch(N){console.error("Error fetching data: ",N)}}),(N,T)=>(dt(),gt("div",zC,[T[15]||(T[15]=I("div",{class:"m-8 mt-4 flex-col flex lg:flex-row items-start lg:items-center gap-2 mb-2"},[I("h1",{class:"text-lg font-bold tracking-tight uppercase"},"Traffic Explorer"),I("span",{class:"flex text-xs text-gray-400 gap-2 flex-end"},[I("img",{src:bu,alt:"info",class:"w-4 h-4 inline-block"}),gu(" Explore global vessel movements and zone traffic through an interactive map interface. Filter by time of day to analyze patterns and anomalies in maritime activity. ")])],-1)),I("div",RC,[I("div",DC,[I("div",BC,[Nt(pC,{onFeatureClicked:m})]),T[7]||(T[7]=I("div",{class:"border-t border-slate-100"},null,-1)),I("div",FC,[n.value?(dt(),gt("div",HC,[Nt(NC,{zone:n.value.properties.Name,kind:n.value.properties["*Kind"]||n.value.properties.type,description:n.value.properties.Description,activities:n.value.properties.Activities,species:n.value.properties.fish_species_present},null,8,["zone","kind","description","activities","species"])])):(dt(),gt("div",ZC,[...T[6]||(T[6]=[I("p",null,"Click on a Fishing Zone or Harbor on the map to see details here.",-1)])]))])]),I("div",UC,[I("div",VC,[I("div",WC,[T[9]||(T[9]=I("span",{class:"text-[10px] font-semibold text-gray-400 uppercase tracking-widest mb-1"},"Active Vessels",-1)),I("div",jC,[I("span",GC,Lt(O.value),1),T[8]||(T[8]=I("span",{class:"text-[10px] font-medium text-blue-500 bg-blue-100 px-1.5 py-0.5 rounded"},"filtered",-1))])]),I("div",$C,[I("div",qC,[I("div",KC,[I("span",YC,Lt(String(l.value).padStart(2,"0"))+":00 ",1),T[10]||(T[10]=I("span",{class:"text-gray-300"},"",-1)),I("span",XC,Lt(String(u.value).padStart(2,"0"))+":00 ",1)]),I("div",JC,[I("button",{onClick:T[0]||(T[0]=b=>h(0,24)),class:"px-2 py-0.5 text-[10px] font-medium uppercase tracking-wide rounded bg-slate-100 hover:bg-slate-200 text-slate-700 transition-colors"},"All"),I("button",{onClick:T[1]||(T[1]=b=>h(0,6)),class:"px-2 py-0.5 text-[10px] font-medium uppercase tracking-wide rounded hover:bg-slate-100 text-slate-600 transition-colors"},"Morning"),I("button",{onClick:T[2]||(T[2]=b=>h(6,18)),class:"px-2 py-0.5 text-[10px] font-medium uppercase tracking-wide rounded hover:bg-slate-100 text-slate-600 transition-colors"},"Day"),I("button",{onClick:T[3]||(T[3]=b=>h(18,24)),class:"px-2 py-0.5 text-[10px] font-medium uppercase tracking-wide rounded hover:bg-slate-100 text-slate-600 transition-colors"},"Night")])]),I("div",QC,[I("div",tS,[(dt(),gt($t,null,Se(25,b=>I("div",{key:b,class:Qt(["w-px bg-gray-300",(b-1)%6===0?"h-3":"h-1.5"])},null,2)),64))]),T[11]||(T[11]=I("div",{class:"absolute inset-x-0 bottom-[-14px] flex justify-between px-0 text-[9px] text-gray-400 font-mono"},[I("span",null,"00"),I("span",null,"06"),I("span",null,"12"),I("span",null,"18"),I("span",null,"24")],-1)),T[12]||(T[12]=I("div",{class:"absolute top-2 bottom-2 left-0 right-0 bg-gray-100 rounded-sm"},null,-1)),I("div",{class:"absolute top-2 bottom-2 bg-slate-500/90 z-10 shadow-sm",style:Fe(g.value)},null,4),Wr(I("input",{type:"range","onUpdate:modelValue":T[4]||(T[4]=b=>l.value=b),onInput:f,min:"0",max:"24",step:"1",class:"absolute inset-0 w-full h-full appearance-none bg-transparent pointer-events-none z-30 slider-thumb-tech"},null,544),[[Mf,l.value,void 0,{number:!0}]]),Wr(I("input",{type:"range","onUpdate:modelValue":T[5]||(T[5]=b=>u.value=b),onInput:f,min:"0",max:"24",step:"1",class:"absolute inset-0 w-full h-full appearance-none bg-transparent pointer-events-none z-30 slider-thumb-tech"},null,544),[[Mf,u.value,void 0,{number:!0}]])])]),I("div",{class:"flex items-center border-l border-gray-100 pl-6 h-full"},[I("button",{onClick:p,class:"cursor-pointer text-[10px] uppercase font-bold px-3 py-1 rounded-full border transition-all bg-white text-slate-600 border-slate-200 shadow-sm hover:shadow-md"}," Update Map ")])]),I("div",eS,[n.value?(dt(),gt("div",iS,[_.value?(dt(),gt("div",rS,[...T[14]||(T[14]=[I("h3",{class:"text-gray-400 opacity-90 font-medium uppercase text-sm mb-2"},"No Traffic Data Available",-1),I("p",{class:"text-gray-400 opacity-50"}," Select a valid fishing zone or harbor to view vessel activity. ",-1)])])):Gt("",!0),Nt(CC,{data:x.value},null,8,["data"])])):(dt(),gt("div",nS,[...T[13]||(T[13]=[I("p",{class:"text-gray-400 opacity-50"}," Select a Fishing Zone or Harbor on the map to visualize traffic patterns and anomalies. ",-1)])]))])])])]))}},oS=fr(sS,[["__scopeId","data-v-0a24a991"]]),aS={class:"relative w-full h-full flex flex-col justify-between overflow-hidden"},Ir=25,lS={__name:"HarborActivityChart",props:{cargoData:{type:Array,default:()=>[]},vesselData:{type:Array,default:()=>[]},commodityNames:{type:Object,default:()=>({})},vesselLookup:{type:Object,default:()=>({})},hiddenCommodities:{type:Set,default:()=>new Set},hiddenVesselTypes:{type:Set,default:()=>new Set}},emits:["view-updated"],setup(t,{emit:n}){const i=t,s=kt(!0),o=kt({x:0,y:0,contentDict:null,visible:!1,variant:"default"}),l=n,u=kt(null),h=kt(lr),f=kt(null),p={top:20,right:15,bottom:20,left:60},m=qt(()=>{if(!i.cargoData.length||!f.value)return[];const[T,b]=f.value;return i.cargoData.filter(P=>{const C=!i.hiddenCommodities.has(P.commodity),k=P.date>=T&&P.date<=b;return C&&k}).sort((P,C)=>C.date-P.date)}),g=qt(()=>{if(!i.vesselData.length||!f.value)return[];const[T,b]=f.value;return i.vesselData.filter(P=>{const C=!i.hiddenVesselTypes.has(P.vessel_type),k=P.date>=T&&P.date<=b;return C&&k}).sort((P,C)=>C.date-P.date)}),_=(T,b,P,C,k="date")=>{const V=T.filter(tt=>!b.has(tt[P])),F=[],j={};return V.sort((tt,q)=>tt[k]-q[k]).forEach(tt=>{const q=tt[k].toISOString().split("T")[0],nt=j[q]||0;F.push({...tt,y0:nt,y1:nt+tt[C]}),j[q]=nt+tt[C]}),F};function x(T,b,P,C){if(!T||!b){l("view-updated",{cargo:P,vessels:C});return}const k=P.filter(F=>F.date>=T&&F.date<=b),V=C.filter(F=>F.date>=T&&F.date<=b);l("view-updated",{cargo:k,vessels:V})}function O(T,b,P="cargo"){let C={},k="default";if(P==="cargo"){const V=ls(b.commodity);let F="Verified";V==="illegal"&&(F="ILLEGAL"),V==="suspect"&&(F="Suspect"),C={Commodity:i.commodityNames[b.commodity]||b.commodity,Weight:`${b.qty.toFixed(2)} tons`,Date:b.date.toLocaleDateString(),Status:F},k=V==="illegal"?"danger":V==="suspect"?"warning":"default"}else C={Vessel:b.name,Type:b.vessel_type,Tonnage:`${b.tonnage.toFixed(2)} tons`,Date:b.date.toLocaleDateString()};Vi(T,C,o,k)}const N=async()=>{if(s.value=!0,!u.value||i.cargoData.length===0){s.value=!1;return}await wi(),await new Promise(T=>setTimeout(T,50)),Xt(u.value).selectAll("*").remove();try{const T=u.value.clientWidth,b=u.value.clientHeight,P=T-p.left-p.right,C=b-p.top-p.bottom,k=(C-Ir)/2;if(k<=0)return;const V=p.top,F=p.top+k,j=F+Ir,tt=j+k,q=new Map;i.cargoData.forEach(U=>{if(!U.suspected_vessels||U.suspected_vessels.length===0)return;const v=ls(U.commodity);if(v==="legal")return;let w=null;v==="illegal"?w=pl(U.commodity):v==="suspect"&&(w=ti(pl(U.commodity))),w&&U.suspected_vessels.forEach(E=>{q.has(E)||q.set(E,[]),q.get(E).push({date:new Date(U.date),color:w})})}),q.forEach(U=>U.sort((v,w)=>v.date-w.date));const nt=_(i.cargoData,i.hiddenCommodities,"commodity","qty"),Y=_(i.vesselData,i.hiddenVesselTypes,"vessel_type","tonnage");Y.forEach(U=>{const v=q.get(U.source);if(v){const E=v.find(K=>K.date>=U.date);E&&E.date-U.date<=1728e5&&(U.suspectColor=E.color)}});const J=[...nt.map(U=>U.date),...Y.map(U=>U.date)],ft=J.length?Cu(J):[new Date("2024-01-01"),new Date("2024-12-31")],A=Xt(u.value).append("svg").attr("width",T).attr("height",b);A.append("defs").append("clipPath").attr("id","chart-content-clip").append("rect").attr("x",0).attr("y",-k).attr("width",P).attr("height",C+Ir);const z=Zu().domain(ft).range([0,P]),G=Yl().domain([0,$f(nt,U=>U.y1)*1.1||100]).range([0,-k]),D=Yl().domain([0,$f(Y,U=>U.y1)*1.1||100]).range([0,k]);A.append("g").attr("class","grid-horizontal").attr("transform",`translate(${p.left},${F})`).call(Dr(G).ticks(5).tickSize(-P).tickFormat("")).call(U=>U.select(".domain").remove()).selectAll("line").attr("stroke","var(--chart-grid-line)").attr("stroke-dasharray","2,2").attr("opacity",.3),A.append("g").attr("class","grid-horizontal").attr("transform",`translate(${p.left},${j})`).call(Dr(D).ticks(5).tickSize(-P).tickFormat("")).call(U=>U.select(".domain").remove()).selectAll("line").attr("stroke","var(--chart-grid-line)").attr("stroke-dasharray","2,2").attr("opacity",.3);const Q=A.append("g").attr("class","grid-vertical").attr("transform",`translate(${p.left},${F})`),B=U=>{const v=U.ticks(10);Q.selectAll("line").data(v).join(w=>w.append("line").attr("stroke","var(--chart-grid-line)").attr("stroke-dasharray","2,2").attr("opacity",.5),w=>w,w=>w.remove()).attr("x1",w=>U(w)).attr("x2",w=>U(w)).attr("y1",-k).attr("y2",k+Ir)};B(z);const st=A.append("g").attr("class","x-axis text-[var(--chart-axis-line)]").attr("transform",`translate(${p.left},${F})`).call(bo(z).ticks(10).tickSizeOuter(0)),lt=A.append("g").attr("class","x-axis text-[var(--chart-axis-line)]").attr("transform",`translate(${p.left},${j})`).call(Bl(z).ticks(10).tickFormat(""));A.append("g").attr("class","text-[var(--chart-axis-line)]").attr("transform",`translate(${p.left},${F})`).call(Dr(G).ticks(5)),A.append("g").attr("class","text-[var(--chart-axis-line)]").attr("transform",`translate(${p.left},${j})`).call(Dr(D).ticks(5));const bt=l1().extent([[0,-k],[P,k*2+Ir]]).filter(U=>U.shiftKey).on("brush end",U=>{if(U.selection){const[v,w]=U.selection,E=h.value.rescaleX(z),K=E.invert(v),X=E.invert(w);f.value=[K,X],x(K,X,nt,Y)}else f.value=null,x(null,null,nt,Y)}),vt=A.append("g").attr("class","brush").attr("transform",`translate(${p.left},${F})`).call(bt),pt=A.append("g").attr("transform",`translate(${p.left},${F})`).attr("clip-path","url(#chart-content-clip)").selectAll(".bar-cargo").data(nt).enter().append("rect").attr("class","bar-element").attr("x",U=>z(U.date)-3).attr("y",U=>G(U.y1)).attr("width",6).attr("height",U=>Math.abs(G(U.y1)-G(U.y0))).attr("fill",U=>pl(U.commodity)).attr("stroke","black").attr("stroke-width",.2).attr("rx",1).on("mouseenter",(U,v)=>O(U,v,"cargo")).on("mouseleave",()=>Mn(o)),ut=A.append("g").attr("transform",`translate(${p.left},${j})`).attr("clip-path","url(#chart-content-clip)").selectAll(".vessel-node").data(Y).enter().append("g").attr("class","vessel-node").attr("transform",U=>`translate(${z(U.date)}, 0)`);ut.append("line").attr("y1",0).attr("y2",U=>D(U.y1)).attr("stroke",U=>Yr(U.vessel_type)).attr("stroke-width",1).attr("stroke-dasharray","2,1").attr("opacity",.5),ut.append("circle").attr("cy",U=>D(U.y1)).attr("r",5).attr("fill",U=>U.suspectColor?U.suspectColor:Yr(U.vessel_type)).attr("opacity",U=>U.suspectColor?.8:0),ut.append("circle").attr("cy",U=>D(U.y1)).attr("r",2.5).attr("fill",U=>Yr(U.vessel_type)).attr("stroke","white").attr("stroke-width",1).on("mouseenter",(U,v)=>O(U,v,"vessel")).on("mouseleave",()=>Mn(o));const Z=U=>{h.value=U.transform,Mn(o),vt.call(bt.move,null);const v=U.transform.rescaleX(z);pt.attr("x",w=>v(w.date)-3),ut.attr("transform",w=>`translate(${v(w.date)}, 0)`),st.call(bo(v)),lt.call(Bl(v).ticks(10).tickFormat("").tickSize(4)),B(v),vt.call(bt.move,null),f.value=null,x(null,null,nt,Y)},rt=Uu().scaleExtent([1,100]).filter(U=>!U.shiftKey).on("zoom",Z);A.call(rt),h.value!==lr&&A.call(rt.transform,h.value)}catch(T){console.error("Error rendering chart:",T)}finally{s.value=!1}};return We(()=>{N(),window.addEventListener("resize",N)}),cs(()=>window.removeEventListener("resize",N)),Ue([m,g],([T,b])=>{l("view-updated",{cargo:T,vessels:b})}),Ue([()=>i.cargoData,()=>i.vesselData,()=>i.hiddenCommodities,()=>i.hiddenVesselTypes],N,{deep:!0}),(T,b)=>(dt(),gt("div",aS,[Nt(ju,{loading:s.value,message:"Loading Visualization..."},null,8,["loading"]),b[0]||(b[0]=I("div",{class:"h-8 shrink-0 border-b border-slate-100 flex items-center justify-between px-4 gap-2 bg-white"},[I("span",{class:"text-[9px] font-medium text-slate-500 mr-2"},"Total Weight (Tons)"),I("span",{class:"text-[10px] font-bold text-[var(--main-deep-blue)] uppercase mr-2 tracking-widest"},"Exported Cargo")],-1)),I("div",{ref_key:"chartContainer",ref:u,class:"w-full flex-1 flex-grow bg-white cursor-crosshair"},null,512),Nt(Wu,jh(mu(o.value)),null,16),b[1]||(b[1]=I("div",{class:"h-8 shrink-0 border-t border-slate-100 flex items-center justify-between px-4 gap-2 bg-white"},[I("span",{class:"text-[9px] font-medium text-slate-500 mr-2"},"Gross Tonnage (GT)"),I("span",{class:"text-[10px] font-bold text-[var(--main-deep-blue)] uppercase mr-2 tracking-widest"},"Docked Vessels")],-1))]))}},uS={class:"h-full flex flex-col overflow-hidden bg-gray-50"},cS={class:"mx-8 mt-4 shrink-0 flex flex-col gap-4"},fS={class:"flex justify-between lg:flex-row items-start lg:items-center gap-2"},hS={class:"flex flex-row gap-3 items-center"},dS={class:"flex items-center bg-gray-100/80 p-1 rounded-full border border-gray-200"},pS=["onClick"],mS={class:"mx-8 mt-4 mb-3 shrink-0"},gS={key:0,class:"bg-white rounded-2xl shadow-sm px-3 py-2 flex flex-col gap-2"},_S={class:"flex items-start gap-3"},vS={class:"flex flex-wrap gap-1.5"},yS=["onClick","disabled"],xS=["src"],wS={class:"flex items-center gap-3"},bS={class:"flex flex-wrap gap-1.5"},TS=["onClick","disabled"],CS={class:"flex-grow px-8 pb-6 flex gap-2 overflow-hidden min-h-0"},SS={class:"flex-1 min-w-0 h-full relative rounded-xl shadow-sm bg-white overflow-hidden"},PS={key:0,class:"absolute inset-0 z-999 flex flex-col items-center justify-center bg-white"},MS={class:"p-3 border-b border-gray-100 bg-slate-50/50 flex justify-between items-center shrink-0"},kS={class:"px-2 py-0.5 bg-blue-100 text-blue-700 text-[10px] font-bold rounded-full"},AS={class:"flex-grow overflow-y-auto p-2 flex flex-col gap-2 no-scrollbar bg-slate-50/10 min-h-0"},LS={key:0,class:"h-full flex items-center justify-center text-center p-4"},ES={key:0,class:"text-[9px] text-slate-400 uppercase font-bold"},OS=["onClick"],IS={class:"flex justify-between items-start mb-1"},NS={class:"flex items-center gap-2 overflow-hidden"},zS=["src"],RS={class:"text-[8px] font-mono text-slate-400 shrink-0"},DS={class:"flex justify-between items-center ml-4"},BS={class:"text-[9px] font-bold text-slate-500 italic"},FS={class:"flex gap-2 items-center"},HS={key:0,class:"text-[7px] font-bold text-blue-500 uppercase"},ZS={key:1,class:"text-[8px] font-bold text-red-600 uppercase"},US={key:0,class:"bg-slate-50 border-t border-slate-100 p-2 flex flex-col gap-1.5"},VS={key:0,class:"text-[9px] italic text-slate-400"},WS={class:"flex flex-col overflow-hidden"},jS={class:"text-[9px] font-bold text-slate-700 truncate"},GS={class:"text-[8px] text-slate-500 truncate"},$S={class:"p-3 border-b border-gray-100 bg-slate-50/50 flex justify-between items-center shrink-0"},qS={class:"px-2 py-0.5 bg-blue-100 text-blue-700 text-[10px] font-bold rounded-full"},KS={class:"flex-grow overflow-y-auto p-2 flex flex-col gap-2 no-scrollbar bg-slate-50/10 min-h-0"},YS={key:0,class:"h-full flex items-center justify-center text-center p-4"},XS={key:0,class:"text-[9px] text-slate-400 uppercase font-bold"},JS={class:"flex justify-between items-start mb-1"},QS={class:"flex flex-wrap items-center gap-1 overflow-hidden"},tP={class:"text-[10px] font-bold text-slate-800 truncate max-w-[120px]"},eP={class:"flex items-center gap-1 shrink-0"},nP={class:"text-[8px] font-bold text-slate-500 uppercase"},iP={class:"text-[8px] font-mono text-slate-400 shrink-0"},rP={class:"flex items-center gap-1.5 overflow-hidden"},sP={class:"text-[9px] text-slate-500 truncate"},oP={class:"text-[9px] text-slate-500 shrink-0"},aP={__name:"HarborInspector",setup(t){const n=kt([]),i=kt([]),s=kt([]),o=un({cargo:[],vessels:[]}),l=cu({}),u=kt(""),h=un(new Set),f=un(new Set),p=kt(null),m=kt(50),g=kt(!1),_=kt(null),x=j=>{o.cargo=j.cargo||[],o.vessels=j.vessels||[]},O=j=>{h.has(j)?h.delete(j):h.add(j)},N=j=>{f.has(j)?f.delete(j):f.add(j)},T=()=>{g.value=!0,window.addEventListener("mousemove",b),window.addEventListener("mouseup",P)},b=j=>{if(!g.value||!p.value)return;const tt=p.value.getBoundingClientRect();let nt=(j.clientY-tt.top)/tt.height*100;nt<15&&(nt=15),nt>85&&(nt=85),m.value=nt},P=()=>{g.value=!1,window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",P)},C=j=>{_.value=_.value===j?null:j},k=j=>{if(h.has(j))return"bg-slate-100 border-transparent text-slate-400 opacity-60 hover:opacity-100 grayscale";const tt=ls(j);return`${Xl[tt]} shadow-sm hover:shadow-md`},V=qt(()=>u.value?n.value.filter(j=>j.target===u.value):[]),F=qt(()=>u.value?i.value.filter(j=>j.target===u.value):[]);return We(async()=>{try{const[j,tt,q,nt,Y]=await Promise.all([Jp(),Qp(),Vu(),em(),oa()]),J=Object.fromEntries(tt.map(Q=>[Q.id,Q])),ft=Object.fromEntries(q.map(Q=>[Q.id,Q.name])),A=Object.fromEntries(Y.map(Q=>[Q.id,Q]));n.value=j.map((Q,B)=>{const st=J[Q.source];return{...Q,id:Q.id||`trans-${B}`,date:new Date(Q.date),commodity:st?st.commodity:"unknown",qty:st?parseFloat(st.qty_tons):0}}).filter(Q=>Q.qty>0),i.value=nt.map(Q=>{const B=A[Q.source];return{...Q,date:new Date(Q.date),name:B?.name||"Unknown",vessel_type:B?.vessel_type||"Unknown",tonnage:parseFloat(B?.tonnage)||0,company:B?.company||"Unknown"}}).filter(Q=>Q.tonnage>0),s.value=[...new Set(n.value.map(Q=>Q.target))].sort();const at=[...new Set(i.value.map(Q=>Q.vessel_type))].sort(),z=new Set(n.value.map(Q=>Q.commodity)),G=Array.from(z).sort(),D={};at.forEach(Q=>{D[Q]=Yr(Q)}),l.value={commodityNames:ft,vesselLookup:A,vesselTypes:at,commodities:G,vesselColorMap:D,ready:!0}}catch(j){console.error("Error loading data:",j)}}),(j,tt)=>(dt(),gt("div",uS,[I("div",cS,[I("div",fS,[tt[2]||(tt[2]=I("div",{class:"flex flex-row gap-2"},[I("h1",{class:"text-lg font-bold tracking-tight uppercase"},"Harbor Inspector"),I("div",{class:"flex items-center text-xs text-gray-400 gap-2"},[I("img",{src:bu,alt:"info",class:"w-4 h-4"}),I("span",null,"Select a harbor to view activity. Shift+Drag to analyze a specific time window.")])],-1)),I("div",hS,[tt[1]||(tt[1]=I("span",{class:"text-gray-500 text-[10px] font-bold uppercase tracking-wider"},"Harbor",-1)),I("div",dS,[(dt(!0),gt($t,null,Se(s.value,q=>(dt(),gt("button",{key:q,onClick:nt=>u.value=q,class:Qt(["px-3 py-1 rounded-full text-[11px] font-bold uppercase transition-all duration-200 whitespace-nowrap select-none cursor-pointer",u.value===q?"bg-white text-blue-700 shadow-sm ring-1 ring-black/5":"text-gray-500 hover:text-gray-700 hover:bg-gray-200/50"])},Lt(q),11,pS))),128))])])])]),I("div",mS,[l.value.ready?(dt(),gt("div",gS,[I("div",_S,[tt[3]||(tt[3]=I("div",{class:"mt-1.5 flex items-center gap-1.5 min-w-[70px] text-gray-600"},[I("span",{class:"text-[10px] font-bold uppercase tracking-wider"},"Cargo")],-1)),I("div",vS,[(dt(!0),gt($t,null,Se(l.value.commodities,q=>(dt(),gt("button",{key:q,onClick:nt=>O(q),disabled:!u.value,class:Qt(["group flex items-center gap-2 pl-1 pr-2.5 py-0.5 rounded-full text-[10px] font-bold transition-all duration-200 select-none border",[u.value?h.has(q)?"bg-slate-50 border-slate-100 text-slate-400 hover:bg-slate-100 grayscale opacity-70":"bg-white border-slate-200 text-slate-700 shadow-sm hover:border-blue-300 ring-1 ring-transparent hover:ring-blue-100":"bg-slate-50 border-slate-100 text-slate-300 opacity-50 cursor-not-allowed"]])},[I("div",{class:Qt(["w-5 h-5 rounded-full flex items-center justify-center border transition-colors shrink-0",[u.value?k(q):"border-slate-100 grayscale"]])},[I("img",{src:`/assets/${Be(Jl)(q)}`,alt:"fish",class:Qt(["w-3 h-3 object-contain",{"opacity-50":!u.value}])},null,10,xS)],2),I("span",null,Lt(l.value.commodityNames[q]||q),1)],10,yS))),128))])]),tt[5]||(tt[5]=I("div",{class:"h-px w-full bg-gray-100"},null,-1)),I("div",wS,[tt[4]||(tt[4]=I("div",{class:"flex items-center gap-1.5 min-w-[70px] text-gray-600"},[I("span",{class:"text-[10px] font-bold uppercase tracking-wider"},"Vessels")],-1)),I("div",bS,[(dt(!0),gt($t,null,Se(l.value.vesselTypes,q=>(dt(),gt("button",{key:q,onClick:nt=>N(q),disabled:!u.value,class:Qt(["flex items-center gap-2 px-3 py-1 rounded-full border text-[10px] font-bold uppercase transition-all duration-200 select-none",[u.value?f.has(q)?"bg-slate-50 border-slate-100 text-slate-400 hover:bg-slate-100":"bg-white border-slate-200 text-slate-700 shadow-sm hover:border-blue-300":"bg-slate-50 border-slate-100 text-slate-300 opacity-50 cursor-not-allowed"]])},[I("span",{class:"w-2 h-2 rounded-full shadow-sm ring-1 ring-black/5",style:Fe({backgroundColor:!u.value||f.has(q)?"#cbd5e1":l.value.vesselColorMap[q]})},null,4),I("span",null,Lt(q),1)],10,TS))),128))])])])):Gt("",!0)]),I("div",CS,[I("div",SS,[u.value?Gt("",!0):(dt(),gt("div",PS,[...tt[6]||(tt[6]=[I("p",{class:"text-gray-400"},"Select a harbor from the list above",-1)])])),Nt(lS,{"cargo-data":V.value,"vessel-data":F.value,"commodity-names":l.value.commodityNames,"vessel-color-map":l.value.vesselColorMap,"vessel-lookup":l.value.vesselLookup,"hidden-commodities":h,"hidden-vessel-types":f,onViewUpdated:x},null,8,["cargo-data","vessel-data","commodity-names","vessel-color-map","vessel-lookup","hidden-commodities","hidden-vessel-types"])]),I("div",{ref_key:"sidebarRef",ref:p,class:"w-[280px] shrink-0 flex flex-col h-full relative select-none overflow-hidden transition-none"},[g.value?(dt(),gt("div",{key:0,class:"fixed inset-0 z-[9999] cursor-row-resize",onMousemove:b,onMouseup:P},null,32)):Gt("",!0),I("div",{class:"flex flex-col bg-white rounded-t-xl border border-gray-200 shadow-sm overflow-hidden min-h-0",style:Fe({height:m.value+"%",maxHeight:m.value+"%"})},[I("div",MS,[tt[7]||(tt[7]=I("h3",{class:"text-[10px] font-bold uppercase text-slate-600"},"Cargo in Range",-1)),I("span",kS,Lt(o.cargo.length),1)]),I("div",AS,[o.cargo.length===0?(dt(),gt("div",LS,[u.value?(dt(),gt("p",ES,"No cargo in range")):Gt("",!0)])):Gt("",!0),(dt(!0),gt($t,null,Se(o.cargo,(q,nt)=>(dt(),gt("div",{key:"c-"+nt,class:Qt(["flex flex-col rounded-lg border border-slate-100 bg-white shadow-sm shrink-0 transition-all overflow-hidden",{"border-red-300 ring-1 ring-red-100":Be(Kr).has(q.commodity),"border-blue-300 shadow-md":_.value===q.id}])},[I("div",{onClick:Y=>C(q.id),class:"p-2.5 cursor-pointer hover:bg-slate-50 transition-colors"},[I("div",IS,[I("div",NS,[I("span",{class:Qt(["text-[8px] transition-transform duration-200 shrink-0",{"rotate-180":_.value===q.id}])},"",2),I("span",{class:Qt(["text-[10px] font-bold text-slate-800 truncate",{"text-red-700":Be(Kr).has(q.commodity)}])},Lt(l.value.commodityNames[q.commodity]||q.commodity),3),I("div",{class:Qt(["w-4 h-4 m-0.5 rounded-full flex items-center justify-center border transition-colors shrink-0",k(q.commodity)])},[I("img",{src:`/assets/${Be(Jl)(q.commodity)}`,alt:"fish",class:"w-3 h-3 object-contain"},null,8,zS)],2)]),I("span",RS,Lt(q.date.toLocaleDateString()),1)]),I("div",DS,[I("span",BS,Lt(q.qty.toFixed(1))+" Tons",1),I("div",FS,[q.suspected_vessels?.length?(dt(),gt("span",HS,Lt(q.suspected_vessels.length)+" Suspects",1)):Gt("",!0),Be(Kr).has(q.commodity)?(dt(),gt("span",ZS," Illegal")):Gt("",!0)])])],8,OS),_.value===q.id?(dt(),gt("div",US,[tt[8]||(tt[8]=I("h4",{class:"text-[8px] font-bold text-slate-400 uppercase tracking-wider mb-1"},"Suspected Vessels:",-1)),!q.suspected_vessels||q.suspected_vessels.length===0?(dt(),gt("div",VS,"No suspected vessels recorded.")):Gt("",!0),(dt(!0),gt($t,null,Se(q.suspected_vessels,Y=>(dt(),gt("div",{key:Y,class:"flex items-center justify-between bg-white p-1.5 rounded border border-slate-200"},[I("div",WS,[I("span",jS,Lt(l.value.vesselLookup[Y]?.name||Y),1),I("span",GS,Lt(l.value.vesselLookup[Y]?.company||"Unknown Company"),1)])]))),128))])):Gt("",!0)],2))),128))])],4),I("div",{onMousedown:Fv(T,["prevent"]),onDblclick:tt[0]||(tt[0]=q=>m.value=50),class:Qt(["h-1.5 w-full hover:bg-blue-400 cursor-row-resize flex items-center justify-center transition-colors group bg-gray-50 border-x border-gray-200",{"bg-blue-600":g.value}])},[...tt[9]||(tt[9]=[I("div",{class:"w-10 h-1 bg-gray-300 rounded-full group-hover:bg-white transition-colors"},null,-1)])],34),I("div",{class:"flex flex-col bg-white rounded-b-xl border border-gray-200 shadow-sm overflow-hidden min-h-0",style:Fe({height:100-m.value+"%",maxHeight:100-m.value+"%"})},[I("div",$S,[tt[10]||(tt[10]=I("h3",{class:"text-[10px] font-bold uppercase text-slate-600"},"Vessels in Range",-1)),I("span",qS,Lt(o.vessels.length),1)]),I("div",KS,[o.vessels.length===0?(dt(),gt("div",YS,[u.value?(dt(),gt("p",XS,"No vessels in range")):Gt("",!0)])):Gt("",!0),(dt(!0),gt($t,null,Se(o.vessels,(q,nt)=>(dt(),gt("div",{key:"v-"+nt,class:"p-2.5 rounded-lg border border-slate-100 bg-white shadow-sm shrink-0 overflow-hidden"},[I("div",JS,[I("div",QS,[I("span",tP,Lt(q.name),1),I("div",eP,[I("div",{class:"w-1.5 h-1.5 rounded-full",style:Fe({backgroundColor:l.value.vesselColorMap[q.vessel_type]})},null,4),I("span",nP,Lt(q.vessel_type),1)])]),I("span",iP,Lt(q.date.toLocaleDateString()),1)]),I("div",rP,[I("span",sP,Lt(q.company),1),I("span",oP,"| Tonnage: "+Lt(q.tonnage.toFixed(1)),1)])]))),128))])],4)],512)])]))}},lP=fr(aP,[["__scopeId","data-v-9f97cad1"]]),uP="/VisualAnalytics2025/assets/vessel-icon.svg",cP={class:"flex flex-col bg-white border-b border-gray-200 shadow-sm z-20 relative transition-all duration-300 rounded-t-2xl"},fP={class:"flex items-center justify-between p-3 bg-slate-50/50 rounded-t-2xl"},hP={class:"flex items-center gap-3 overflow-hidden"},dP={class:"w-6 h-6 m-0.5 rounded-full flex items-center justify-center bg-white text-slate-400 font-bold text-xs border border-slate-200 shadow-sm shrink-0"},pP={key:0,class:"flex flex-col overflow-hidden"},mP={class:"text-sm font-bold text-[var(--main-deep-blue)] uppercase truncate leading-tight"},gP={class:"flex items-center flex-wrap gap-x-2 text-[10px] text-slate-600 truncate mt-0.5"},_P={class:"flex items-center gap-0.5"},vP={class:"flex items-center gap-0.5"},yP={class:"flex items-center gap-0.5"},xP={key:0,class:"absolute top-full left-0 w-full bg-white border-b border-gray-200 shadow-xl rounded-b-lg p-3 grid grid-cols-2 lg:grid-cols-4 gap-2 z-[999]"},wP={class:"flex flex-col"},bP={class:"flex flex-col"},TP={class:"flex flex-col col-span-2 lg:col-span-1"},CP=["value"],Bh={__name:"VesselFilters",props:{index:{type:[Number,String],required:!0}},emits:["select"],setup(t,{emit:n}){const i=n,s=kt(!0),o=kt([]),l=kt([]),u=un({company:"",type:"",tonnage:"",vesselId:""}),h=un({companies:[],types:[],tonnages:[]}),f=qt(()=>u.vesselId?l.value.find(_=>_.id===u.vesselId):null);function p(){let _=l.value;u.company&&(_=_.filter(x=>x.company===u.company)),u.type&&(_=_.filter(x=>x.vessel_type===u.type)),u.tonnage&&(_=_.filter(x=>x.tonnage===Number(u.tonnage))),h.companies=[...new Set(_.map(x=>x.company))].sort(),h.types=[...new Set(_.map(x=>x.vessel_type))].sort(),h.tonnages=[...new Set(_.map(x=>x.tonnage))].sort((x,O)=>x-O),o.value=_.sort((x,O)=>x.name.localeCompare(O.name))}function m(){i("select",u.vesselId),u.vesselId&&(s.value=!1)}function g(){u.company="",u.type="",u.tonnage="",u.vesselId="",p(),i("select",""),s.value=!0}return Ue(()=>[u.company,u.type,u.tonnage],p),We(async()=>{try{l.value=await oa(),p()}catch(_){console.error(_)}}),(_,x)=>(dt(),gt("div",cP,[I("div",fP,[I("div",hP,[I("div",dP,Lt(t.index),1),x[9]||(x[9]=I("img",{src:uP,class:"w-5 h-5 shrink-0"},null,-1)),f.value?(dt(),gt("div",pP,[I("h3",mP,Lt(f.value.name),1),I("div",gP,[I("div",_P,[x[4]||(x[4]=I("span",{class:"font-bold text-slate-400 text-[9px] uppercase"},"Company:",-1)),I("span",null,Lt(f.value.company||"Unknown"),1)]),x[7]||(x[7]=I("span",{class:"text-slate-300"},"|",-1)),I("div",vP,[x[5]||(x[5]=I("span",{class:"font-bold text-slate-400 text-[9px] uppercase"},"Type:",-1)),I("span",null,Lt(f.value.vessel_type||"Unknown"),1)]),x[8]||(x[8]=I("span",{class:"text-slate-300"},"|",-1)),I("div",yP,[x[6]||(x[6]=I("span",{class:"font-bold text-slate-400 text-[9px] uppercase"},"Tonnage:",-1)),I("span",null,Lt(f.value.tonnage?f.value.tonnage+" GT":"Unknown"),1)])])])):Gt("",!0)]),I("button",{onClick:x[0]||(x[0]=O=>s.value=!s.value),class:Qt(["cursor-pointer text-[10px] uppercase font-bold px-3 py-1 rounded-full border transition-all",s.value?"bg-slate-200 text-slate-500 border-slate-300":"bg-white text-slate-600 border-slate-200 shadow-sm hover:shadow"])},Lt(s.value?"Close Filters":"Change Vessel"),3)]),s.value?(dt(),gt("div",xP,[I("div",wP,[x[11]||(x[11]=I("label",{class:"text-[9px] uppercase font-bold text-slate-400 mb-0.5 ml-0.5"},"Company",-1)),Wr(I("select",{"onUpdate:modelValue":x[1]||(x[1]=O=>u.company=O),class:"w-full h-[26px] text-[11px] bg-slate-50 border border-slate-200 rounded px-2 focus:ring-1 focus:ring-blue-400 focus:outline-none cursor-pointer"},[x[10]||(x[10]=I("option",{value:""},"Any",-1)),(dt(!0),gt($t,null,Se(h.companies,O=>(dt(),gt("option",{key:O},Lt(O),1))),128))],512),[[$a,u.company]])]),I("div",bP,[x[13]||(x[13]=I("label",{class:"text-[9px] uppercase font-bold text-slate-400 mb-0.5 ml-0.5"},"Type",-1)),Wr(I("select",{"onUpdate:modelValue":x[2]||(x[2]=O=>u.type=O),class:"w-full h-[26px] text-[11px] bg-slate-50 border border-slate-200 rounded px-2 focus:ring-1 focus:ring-blue-400 focus:outline-none cursor-pointer"},[x[12]||(x[12]=I("option",{value:""},"Any",-1)),(dt(!0),gt($t,null,Se(h.types,O=>(dt(),gt("option",{key:O},Lt(O),1))),128))],512),[[$a,u.type]])]),I("div",TP,[x[15]||(x[15]=I("label",{class:"text-[9px] uppercase font-bold text-slate-400 mb-0.5 ml-0.5"},"Vessel Name",-1)),Wr(I("select",{"onUpdate:modelValue":x[3]||(x[3]=O=>u.vesselId=O),onChange:m,class:"w-full h-[26px] text-[11px] bg-slate-50 border border-slate-200 rounded px-2 focus:ring-1 focus:ring-blue-400 focus:outline-none cursor-pointer font-bold text-slate-700"},[x[14]||(x[14]=I("option",{value:""},"Select a Vessel...",-1)),(dt(!0),gt($t,null,Se(o.value,O=>(dt(),gt("option",{key:O.id,value:O.id},Lt(O.name),9,CP))),128))],544),[[$a,u.vesselId]])]),I("div",{class:"flex items-end"},[I("button",{onClick:g,class:"cursor-pointer w-full h-[26px] mb-[1px] text-[10px] font-bold text-slate-400 uppercase bg-slate-50 hover:bg-red-50 hover:text-red-500 border border-slate-200 rounded transition-colors"}," Clear ")])])):Gt("",!0)]))}},SP={class:"relative w-full h-full flex flex-col overflow-hidden"},PP={class:"h-8 shrink-0 border-t border-slate-100 flex items-center justify-end px-4 gap-2 bg-white"},MP={__name:"TrajectoryPlot",props:{vesselData:Object},setup(t){const n=t,i=kt(!0),s=kt({x:0,y:0,contentDict:{},visible:!1,variant:"default"}),o=kt(null),l=kt(lr),u={top:20,right:40,bottom:40,left:120},h=new Date("2035-05-14"),f=un({pings:!0,reports:!0,cargo:!0,event:!0});let p,m,g,_;const x={sortedLocations:[],locationKindMap:{},commodityNames:{}};function O(b,P){b&&b.transition().duration(200).style("opacity",P?1:0)}const N=b=>{b.selectAll(".tick").each(function(P){const C=Xt(this);C.selectAll("text").remove(),C.selectAll(".rich-label").remove();const k=x.locationKindMap[P]||"Unknown",V=C.append("g").attr("class","rich-label").attr("transform","translate(-10, 0)");V.append("text").text(P.length>20?P.substring(0,20)+"...":P).attr("x",0).attr("y",-4).style("font-size","10px").style("fill","var(--chart-text-main").style("text-anchor","end"),V.append("text").text(k).attr("x",0).attr("y",4).style("font-size","8px").style("font-style","italic").style("fill",mC(k)).style("text-anchor","end")})},T=async()=>{if(i.value=!0,!o.value||!n.vesselData||x.sortedLocations.length===0){i.value=!1;return}await wi(),await new Promise(b=>setTimeout(b,50)),Xt(o.value).selectAll("*").remove();try{const b=o.value.clientWidth,P=o.value.clientHeight,C=b-u.left-u.right,k=P-u.top-u.bottom,{trajectory:V,reports:F,transactions:j}=n.vesselData,tt=x.sortedLocations,q=S=>[new Date(S.setHours(0,0,0,0)),new Date(S.setHours(23,59,59,999))],nt=V.map(S=>({...S,time:new Date(S.time),end_time:new Date(new Date(S.time).getTime()+(Number(S.dwell)||0)*1e3)})),Y=F.map(S=>{const[W,et]=q(new Date(S.date));return{...S,day_start:W,day_end:et}}),J=new Map;j.forEach(S=>{const W=`${new Date(S.date).toDateString()}-${S.target}`;J.has(W)||J.set(W,{date:new Date(S.date),target:S.target,items:[]}),J.get(W).items.push({...S,commodityName:x.commodityNames[S.commodityId]||"Unknown",status:ls(S.commodityId)})});const ft=Array.from(J.values()).map(S=>(S.items.sort((W,et)=>{const ct=(W.status==="illegal"?100:0)+(W.status==="suspect"?50:0),it=(et.status==="illegal"?100:0)+(et.status==="suspect"?50:0);return ct!==it?it-ct:(et.qty||0)-(W.qty||0)}),S.mainItem=S.items[0],S)),A=Xt(o.value).append("svg").attr("width",b).attr("height",P),at=A.append("g").attr("transform",`translate(${u.left},${u.top})`),z=A.append("defs");tt.forEach((S,W)=>{z.append("pattern").attr("id",`stripe-${W}`).attr("patternUnits","userSpaceOnUse").attr("width",8).attr("height",8).attr("patternTransform","rotate(45)").append("rect").attr("width",4).attr("height",8).attr("fill",Ro(x.locationKindMap[S])).attr("opacity",.4)}),z.append("clipPath").attr("id","plot-area-clip").append("rect").attr("width",C).attr("height",k);const G=Zu().domain(Cu([...nt.map(S=>S.time),...nt.map(S=>S.end_time),h])).range([0,C]),D=Nu().domain(tt).range([0,k]).padding(.3),Q=at.append("g").attr("transform",`translate(0,${k})`).attr("class","x-axis text-[var(--chart-axis-line)] text-[10px]").call(bo(G)),B=at.append("g").call(Dr(D).tickSize(0)).attr("class","y-axis");B.select(".domain").remove(),B.call(N);const st=at.append("g").attr("class","grid-layer");st.append("g").attr("class","grid-horizontal").selectAll("line").data(tt).enter().append("line").attr("x1",0).attr("x2",C).attr("y1",S=>D(S)+D.bandwidth()).attr("y2",S=>D(S)+D.bandwidth()).attr("stroke","var(--chart-grid-line)").attr("stroke-dasharray","2,2").attr("opacity",.5);const lt=st.append("g").attr("class","grid-vertical"),bt=S=>{const W=S.ticks?S.ticks(8):S.domain();lt.selectAll("line").data(W).join(et=>et.append("line").attr("y1",0).attr("y2",k).attr("stroke","var(--chart-grid-line)").attr("stroke-dasharray","2,2").attr("opacity",.5),et=>et,et=>et.remove()).attr("x1",et=>S(et)).attr("x2",et=>S(et))};bt(G);const vt=at.append("g").attr("clip-path","url(#plot-area-clip)");p=vt.append("g").style("opacity",f.pings?1:0),m=vt.append("g").style("opacity",f.reports?1:0),g=vt.append("g").style("opacity",f.cargo?1:0);const _t=p.selectAll(".dwell").data(nt).enter().append("rect").attr("class","dwell").attr("x",S=>G(S.time)).attr("y",S=>D(S.source)).attr("width",S=>G(S.end_time)-G(S.time)).attr("height",D.bandwidth()).attr("fill",S=>Ro(x.locationKindMap[S.source])).attr("rx",1).attr("opacity",.8).on("mouseenter",(S,W)=>Vi(S,{Location:W.source,Arrived:W.time.toLocaleDateString(),Departed:W.end_time.toLocaleDateString()},s)).on("mouseleave",()=>Mn(s)),pt=m.selectAll(".report").data(Y).enter().append("rect").attr("class","report").attr("x",S=>G(S.day_start)).attr("y",S=>D(S.target)).attr("width",S=>G(S.day_end)-G(S.day_start)).attr("height",D.bandwidth()).attr("fill",S=>`url(#stripe-${tt.indexOf(S.target)})`).attr("rx",1).on("mouseenter",(S,W)=>Vi(S,{"Report Filed":W.target,Date:W.day_start.toLocaleDateString()},s)).on("mouseleave",()=>Mn(s)),H=g.selectAll(".trans-group").data(ft).join("g").attr("class","trans-group").attr("transform",S=>`translate(${G(S.date)-12}, ${D(S.target)+D.bandwidth()/2-12})`);H.append("image").attr("width",24).attr("height",24).attr("href",S=>`/assets/${zo[S.mainItem.commodityId]||zo.default}`);const ut=H.filter(S=>S.items.length>1).append("g").attr("transform","translate(18, -4)");ut.append("circle").attr("r",7).attr("fill","#ef4444").attr("stroke","white").attr("stroke-width",1.5),ut.append("text").text(S=>S.items.length).attr("dy",2.8).attr("text-anchor","middle").style("font-size","9px").style("font-weight","bold").style("fill","white"),H.on("mouseenter",(S,W)=>{const et={Location:W.target,Date:W.date.toLocaleDateString()};W.items.forEach((it,wt)=>{const ht=`Cargo #${wt+1}`,yt=`${it.commodityName} ${it.status==="illegal"?"":""} (${it.qty||"?"}t)`;et[ht]=yt});const ct=W.items.some(it=>it.status==="illegal")?"danger":W.items.some(it=>it.status==="suspect")?"warning":"default";Vi(S,et,s,ct)}).on("mouseleave",()=>Mn(s)),_=vt.append("g").attr("class","exclusion-zone").style("opacity",f.event?1:0).style("display",f.event?null:"none").on("mouseenter",S=>Vi(S,{"CRITICAL EVENT":"SouthSeafood Express Corp banned.",Date:h.toLocaleDateString()},s,"danger")).on("mouseleave",()=>Mn(s));const Z=new Date(h.setHours(0,0,0,0)),rt=new Date(h.setHours(23,59,59,999)),U=_.append("rect").attr("y",0).attr("height",k).attr("fill","#ef4444").attr("opacity",.15).attr("x",G(Z)).attr("width",G(rt)-G(Z)),v=()=>_.append("line").attr("y1",0).attr("y2",k).attr("stroke","#dc2626").attr("stroke-width",1.2).attr("stroke-dasharray","6,4"),w=v().attr("x1",G(Z)).attr("x2",G(Z)),E=v().attr("x1",G(rt)).attr("x2",G(rt)),K=S=>{l.value=S.transform,Mn(s);const W=S.transform.rescaleX(G);Q.call(bo(W)),bt(W),U.attr("x",W(Z)).attr("width",W(rt)-W(Z)),w.attr("x1",W(Z)).attr("x2",W(Z)),E.attr("x1",W(rt)).attr("x2",W(rt)),_t.attr("x",et=>W(et.time)).attr("width",et=>W(et.end_time)-W(et.time)),pt.attr("x",et=>W(et.day_start)).attr("width",et=>W(et.day_end)-W(et.day_start)),H.attr("transform",et=>`translate(${W(et.date)-12}, ${D(et.target)+D.bandwidth()/2-12})`)},X=Uu().scaleExtent([1,100]).on("zoom",K);A.call(X),l.value!==lr&&A.call(X.transform,l.value)}catch(b){console.error("Render error:",b)}finally{i.value=!1}};return We(async()=>{i.value=!0;try{const[b,P]=await Promise.all([Vu(),tm()]),C={};b.forEach(j=>{C[j.id]=j.name});const k={},V=new Set;P.forEach(j=>{k[j.id]=j.kind||"Unknown",V.add(j.id)});const F=Array.from(V).sort((j,tt)=>j.localeCompare(tt));x.commodityNames=C,x.locationKindMap=k,x.sortedLocations=F,T(),window.addEventListener("resize",T)}catch(b){console.error("Data load error:",b)}finally{i.value=!1}}),cs(()=>window.removeEventListener("resize",T)),Ue(()=>n.vesselData,T),Ue(f,()=>{O(p,f.pings),O(m,f.reports),O(g,f.cargo),O(_,f.event)}),(b,P)=>(dt(),gt("div",SP,[Nt(ju,{loading:i.value,message:"Loading Visualization..."},null,8,["loading"]),I("div",{ref_key:"chartContainer",ref:o,class:"w-full min-h-0 flex-grow bg-white"},null,512),Nt(Wu,jh(mu(s.value)),null,16),I("div",PP,[P[4]||(P[4]=I("span",{class:"text-[9px] font-bold text-gray-400 uppercase mr-2 tracking-widest"},"Layers",-1)),I("button",{onClick:P[0]||(P[0]=C=>f.pings=!f.pings),class:Qt(["layer-btn",f.pings?"text-blue-600 bg-blue-50 border-blue-100":"off"])}," Pings ",2),I("button",{onClick:P[1]||(P[1]=C=>f.reports=!f.reports),class:Qt(["layer-btn",f.reports?"text-slate-600 bg-slate-100 border-slate-200":"off"])}," Reports ",2),I("button",{onClick:P[2]||(P[2]=C=>f.cargo=!f.cargo),class:Qt(["layer-btn",f.cargo?"text-emerald-600 bg-emerald-50 border-emerald-100":"off"])}," Cargo ",2),I("button",{onClick:P[3]||(P[3]=C=>f.event=!f.event),class:Qt(["layer-btn",f.event?"text-red-600 bg-red-50 border-red-100":"off"])}," Event ",2)])]))}},Fh=fr(MP,[["__scopeId","data-v-88b1092d"]]),kP={class:"h-full flex flex-col bg-slate-100 overflow-hidden"},AP={class:"flex-grow flex flex-col lg:flex-row h-full min-h-0 m-4 mt-2 gap-2 rounded-2xl"},LP={class:"flex-1 flex flex-col h-full min-w-0 bg-white relative group rounded-2xl"},EP={class:"flex-grow relative bg-white overflow-hidden rounded-3xl"},OP={key:0,class:"absolute inset-0"},IP={key:1,class:"absolute inset-0 flex items-center justify-center pointer-events-none"},NP={class:"flex-1 flex flex-col h-full min-w-0 bg-white relative group rounded-2xl"},zP={class:"flex-grow relative bg-white overflow-hidden rounded-2xl"},RP={key:0,class:"absolute inset-0"},DP={key:1,class:"absolute inset-0 flex items-center justify-center pointer-events-none"},BP={__name:"TrajectoryAnalyzer",setup(t){const n=kt(""),i=kt(""),s=kt(!0),o=cu({});function l(m){n.value=m}function u(m){i.value=m}function h(m){if(!m||!o.value)return null;const g=o.value,_=g.trajectories[m]||[],x=g.harborReports.filter(N=>N.source===m),O=g.transactions.filter(N=>N.suspected_vessels?.includes(m)).map(N=>{const T=g.documentsMap[N.source];return{...N,commodityId:T?.commodity||"unknown",qty:T?.qty_tons?parseFloat(T.qty_tons):0}});return{trajectory:_,reports:x,transactions:O}}const f=qt(()=>h(n.value)),p=qt(()=>h(i.value));return We(async()=>{s.value=!0;try{const[m,g,_,x,O]=await Promise.all([iC(),em(),Jp(),Qp(),oa()]),N=Object.fromEntries(x.map(T=>[T.id,T]));o.value={trajectories:m,harborReports:g,transactions:_,documentsMap:N,vessels:O}}catch(m){console.error("Error loading data:",m)}finally{s.value=!1}}),(m,g)=>(dt(),gt("div",kP,[g[2]||(g[2]=I("div",{class:"m-8 mt-4 flex-col flex lg:flex-row items-start lg:items-center gap-2 mb-2"},[I("h1",{class:"text-lg font-bold tracking-tight uppercase"},"Trajectory Analyzer"),I("span",{class:"flex text-xs text-gray-400 gap-2 flex-end"},[I("img",{src:bu,alt:"info",class:"w-4 h-4 inline-block"}),gu(" Select two vessels to compare their trajectories over time. ")])],-1)),I("div",AP,[I("div",LP,[Nt(Bh,{index:"1",onSelect:l}),I("div",EP,[n.value?(dt(),gt("div",OP,[Nt(Fh,{vesselData:f.value},null,8,["vesselData"])])):Gt("",!0),n.value?Gt("",!0):(dt(),gt("div",IP,[...g[0]||(g[0]=[I("div",{class:"text-center opacity-40"},[I("p",{class:"text-gray-400"},"Select Vessel 1")],-1)])]))])]),I("div",NP,[Nt(Bh,{index:"2",onSelect:u}),I("div",zP,[i.value?(dt(),gt("div",RP,[Nt(Fh,{vesselData:p.value},null,8,["vesselData"])])):Gt("",!0),i.value?Gt("",!0):(dt(),gt("div",DP,[...g[1]||(g[1]=[I("div",{class:"text-center opacity-40"},[I("p",{class:"text-gray-400"},"Select Vessel 2")],-1)])]))])])])]))}},FP=[{path:"/",name:"trafficExplorer",component:oS},{path:"/harborinspector",name:"harborInspector",component:lP},{path:"/trajectoryanalyzer",name:"trajectoryAnalyzer",component:BP}],HP=ay({history:F0(),routes:FP});Uv(e0).use(HP).mount("#app");
